(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Cv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jd={exports:{}},sl={},Zd={exports:{}},Pe={};var Ey;function d0(){if(Ey)return Pe;Ey=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function L(M,Y,Re){this.props=M,this.context=Y,this.refs=H,this.updater=Re||V}L.prototype.isReactComponent={},L.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function W(M,Y,Re){this.props=M,this.context=Y,this.refs=H,this.updater=Re||V}var ee=W.prototype=new Q;ee.constructor=W,z(ee,L.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,ye=Object.prototype.hasOwnProperty,_e={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function R(M,Y,Re){var Ae,ke={},Ne=null,je=null;if(Y!=null)for(Ae in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)ye.call(Y,Ae)&&!x.hasOwnProperty(Ae)&&(ke[Ae]=Y[Ae]);var Le=arguments.length-2;if(Le===1)ke.children=Re;else if(1<Le){for(var $e=Array(Le),Ht=0;Ht<Le;Ht++)$e[Ht]=arguments[Ht+2];ke.children=$e}if(M&&M.defaultProps)for(Ae in Le=M.defaultProps,Le)ke[Ae]===void 0&&(ke[Ae]=Le[Ae]);return{$$typeof:n,type:M,key:Ne,ref:je,props:ke,_owner:_e.current}}function C(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Re){return Y[Re]})}var P=/\/+/g;function S(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):Y.toString(36)}function Ce(M,Y,Re,Ae,ke){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(Ne){case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case n:case e:je=!0}}if(je)return je=M,ke=ke(je),M=Ae===""?"."+S(je,0):Ae,ie(ke)?(Re="",M!=null&&(Re=M.replace(P,"$&/")+"/"),Ce(ke,Y,Re,"",function(Ht){return Ht})):ke!=null&&(b(ke)&&(ke=C(ke,Re+(!ke.key||je&&je.key===ke.key?"":(""+ke.key).replace(P,"$&/")+"/")+M)),Y.push(ke)),1;if(je=0,Ae=Ae===""?".":Ae+":",ie(M))for(var Le=0;Le<M.length;Le++){Ne=M[Le];var $e=Ae+S(Ne,Le);je+=Ce(Ne,Y,Re,$e,ke)}else if($e=I(M),typeof $e=="function")for(M=$e.call(M),Le=0;!(Ne=M.next()).done;)Ne=Ne.value,$e=Ae+S(Ne,Le++),je+=Ce(Ne,Y,Re,$e,ke);else if(Ne==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function It(M,Y,Re){if(M==null)return M;var Ae=[],ke=0;return Ce(M,Ae,"","",function(Ne){return Y.call(Re,Ne,ke++)}),Ae}function Vt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(Re){(M._status===0||M._status===-1)&&(M._status=1,M._result=Re)},function(Re){(M._status===0||M._status===-1)&&(M._status=2,M._result=Re)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Je={current:null},re={transition:null},pe={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:re,ReactCurrentOwner:_e};function le(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:It,forEach:function(M,Y,Re){It(M,function(){Y.apply(this,arguments)},Re)},count:function(M){var Y=0;return It(M,function(){Y++}),Y},toArray:function(M){return It(M,function(Y){return Y})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=L,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=W,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Pe.act=le,Pe.cloneElement=function(M,Y,Re){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ae=z({},M.props),ke=M.key,Ne=M.ref,je=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,je=_e.current),Y.key!==void 0&&(ke=""+Y.key),M.type&&M.type.defaultProps)var Le=M.type.defaultProps;for($e in Y)ye.call(Y,$e)&&!x.hasOwnProperty($e)&&(Ae[$e]=Y[$e]===void 0&&Le!==void 0?Le[$e]:Y[$e])}var $e=arguments.length-2;if($e===1)Ae.children=Re;else if(1<$e){Le=Array($e);for(var Ht=0;Ht<$e;Ht++)Le[Ht]=arguments[Ht+2];Ae.children=Le}return{$$typeof:n,type:M.type,key:ke,ref:Ne,props:Ae,_owner:je}},Pe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Pe.createElement=R,Pe.createFactory=function(M){var Y=R.bind(null,M);return Y.type=M,Y},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:d,render:M}},Pe.isValidElement=b,Pe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Vt}},Pe.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Pe.startTransition=function(M){var Y=re.transition;re.transition={};try{M()}finally{re.transition=Y}},Pe.unstable_act=le,Pe.useCallback=function(M,Y){return Je.current.useCallback(M,Y)},Pe.useContext=function(M){return Je.current.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M){return Je.current.useDeferredValue(M)},Pe.useEffect=function(M,Y){return Je.current.useEffect(M,Y)},Pe.useId=function(){return Je.current.useId()},Pe.useImperativeHandle=function(M,Y,Re){return Je.current.useImperativeHandle(M,Y,Re)},Pe.useInsertionEffect=function(M,Y){return Je.current.useInsertionEffect(M,Y)},Pe.useLayoutEffect=function(M,Y){return Je.current.useLayoutEffect(M,Y)},Pe.useMemo=function(M,Y){return Je.current.useMemo(M,Y)},Pe.useReducer=function(M,Y,Re){return Je.current.useReducer(M,Y,Re)},Pe.useRef=function(M){return Je.current.useRef(M)},Pe.useState=function(M){return Je.current.useState(M)},Pe.useSyncExternalStore=function(M,Y,Re){return Je.current.useSyncExternalStore(M,Y,Re)},Pe.useTransition=function(){return Je.current.useTransition()},Pe.version="18.3.1",Pe}var Ty;function tp(){return Ty||(Ty=1,Zd.exports=d0()),Zd.exports}var Iy;function f0(){if(Iy)return sl;Iy=1;var n=tp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var v,E={},I=null,V=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(V=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(E[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:d,key:I,ref:V,props:E,_owner:o.current}}return sl.Fragment=t,sl.jsx=c,sl.jsxs=c,sl}var Sy;function p0(){return Sy||(Sy=1,Jd.exports=f0()),Jd.exports}var N=p0(),B=tp();const m0=Cv(B);var lc={},ef={exports:{}},tn={},tf={exports:{}},nf={};var Ry;function g0(){return Ry||(Ry=1,(function(n){function e(re,pe){var le=re.length;re.push(pe);e:for(;0<le;){var M=le-1>>>1,Y=re[M];if(0<o(Y,pe))re[M]=pe,re[le]=Y,le=M;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],le=re.pop();if(le!==pe){re[0]=le;e:for(var M=0,Y=re.length,Re=Y>>>1;M<Re;){var Ae=2*(M+1)-1,ke=re[Ae],Ne=Ae+1,je=re[Ne];if(0>o(ke,le))Ne<Y&&0>o(je,ke)?(re[M]=je,re[Ne]=le,M=Ne):(re[M]=ke,re[Ae]=le,M=Ae);else if(Ne<Y&&0>o(je,le))re[M]=je,re[Ne]=le,M=Ne;else break e}}return pe}function o(re,pe){var le=re.sortIndex-pe.sortIndex;return le!==0?le:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],v=1,E=null,I=3,V=!1,z=!1,H=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(re){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=re)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function ie(re){if(H=!1,ee(re),!z)if(t(p)!==null)z=!0,Vt(ye);else{var pe=t(y);pe!==null&&Je(ie,pe.startTime-re)}}function ye(re,pe){z=!1,H&&(H=!1,Q(R),R=-1),V=!0;var le=I;try{for(ee(pe),E=t(p);E!==null&&(!(E.expirationTime>pe)||re&&!D());){var M=E.callback;if(typeof M=="function"){E.callback=null,I=E.priorityLevel;var Y=M(E.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(p)&&i(p),ee(pe)}else i(p);E=t(p)}if(E!==null)var Re=!0;else{var Ae=t(y);Ae!==null&&Je(ie,Ae.startTime-pe),Re=!1}return Re}finally{E=null,I=le,V=!1}}var _e=!1,x=null,R=-1,C=5,b=-1;function D(){return!(n.unstable_now()-b<C)}function P(){if(x!==null){var re=n.unstable_now();b=re;var pe=!0;try{pe=x(!0,re)}finally{pe?S():(_e=!1,x=null)}}else _e=!1}var S;if(typeof W=="function")S=function(){W(P)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,It=Ce.port2;Ce.port1.onmessage=P,S=function(){It.postMessage(null)}}else S=function(){L(P,0)};function Vt(re){x=re,_e||(_e=!0,S())}function Je(re,pe){R=L(function(){re(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){z||V||(z=!0,Vt(ye))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var le=I;I=pe;try{return re()}finally{I=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=I;I=re;try{return pe()}finally{I=le}},n.unstable_scheduleCallback=function(re,pe,le){var M=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,re={id:v++,callback:pe,priorityLevel:re,startTime:le,expirationTime:Y,sortIndex:-1},le>M?(re.sortIndex=le,e(y,re),t(p)===null&&re===t(y)&&(H?(Q(R),R=-1):H=!0,Je(ie,le-M))):(re.sortIndex=Y,e(p,re),z||V||(z=!0,Vt(ye))),re},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(re){var pe=I;return function(){var le=I;I=pe;try{return re.apply(this,arguments)}finally{I=le}}}})(nf)),nf}var Ay;function y0(){return Ay||(Ay=1,tf.exports=g0()),tf.exports}var Cy;function _0(){if(Cy)return tn;Cy=1;var n=tp(),e=y0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function I(r){return p.call(E,r)?!0:p.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function V(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z(r,s,a,h){if(s===null||typeof s>"u"||V(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(r,s,a,h,f,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new H(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new H(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new H(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new H(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new H(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new H(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new H(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new H(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new H(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,W);L[s]=new H(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,W);L[s]=new H(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,W);L[s]=new H(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new H(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new H(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,a,h){var f=L.hasOwnProperty(s)?L[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(z(s,a,f,h)&&(a=null),h||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ye=Symbol.for("react.element"),_e=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Je=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var Re=!1;function Ae(r,s){if(!r||Re)return"";Re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),m=h.stack.split(`
`),w=f.length-1,A=m.length-1;1<=w&&0<=A&&f[w]!==m[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==m[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==m[A]){var k=`
`+f[w].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=w&&0<=A);break}}}finally{Re=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function ke(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case _e:return"Portal";case C:return"Profiler";case R:return"StrictMode";case S:return"Suspense";case Ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case P:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case It:return s=r.displayName||null,s!==null?s:Ne(r.type)||"Memo";case Vt:s=r._payload,r=r._init;try{return Ne(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ht(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,m.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qs(r){r._valueTracker||(r._valueTracker=Ht(r))}function ha(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ys(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Kl(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Le(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Xs(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function ns(r,s){Xs(r,s);var a=Le(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ft(r,s.type,a):s.hasOwnProperty("defaultValue")&&ft(r,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function da(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ft(r,s,a){(s!=="number"||ei(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var lt=Array.isArray;function Dn(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Le(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function fa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function pa(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(lt(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Le(a)}}function Gl(r,s){var a=Le(s.value),h=Le(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function ti(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ma(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Js(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ma(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ni,Ql=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ni.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function rs(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yl=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(r){Yl.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ri[s]=ri[r]})});function ii(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ri.hasOwnProperty(r)&&ri[r]?(""+s).trim():s+"px"}function Zs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ii(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ga=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(r,s){if(s){if(ga[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function eo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function to(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ir=null,Sr=null,it=null;function ya(r){if(r=qa(r)){if(typeof Ir!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Iu(s),Ir(r.stateNode,r.type,s))}}function oi(r){Sr?it?it.push(r):it=[r]:Sr=r}function ai(){if(Sr){var r=Sr,s=it;if(it=Sr=null,ya(r),s)for(r=0;r<s.length;r++)ya(s[r])}}function Xl(r,s){return r(s)}function Jl(){}var Yn=!1;function Zl(r,s,a){if(Yn)return r(s,a);Yn=!0;try{return Xl(r,s,a)}finally{Yn=!1,(Sr!==null||it!==null)&&(Jl(),ai())}}function is(r,s){var a=r.stateNode;if(a===null)return null;var h=Iu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var li=!1;if(d)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){li=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{li=!1}function eu(r,s,a,h,f,m,w,A,k){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(J){this.onError(J)}}var Rr=!1,Xn=null,no=!1,wn=null,tu={onError:function(r){Rr=!0,Xn=r}};function nu(r,s,a,h,f,m,w,A,k){Rr=!1,Xn=null,eu.apply(tu,arguments)}function _a(r,s,a,h,f,m,w,A,k){if(nu.apply(this,arguments),Rr){if(Rr){var $=Xn;Rr=!1,Xn=null}else throw Error(t(198));no||(no=!0,wn=$)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function va(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ru(r){if(On(r)!==r)throw Error(t(188))}function iu(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return ru(f),r;if(m===h)return ru(f),s;m=m.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=m;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,h=m;break}if(A===h){w=!0,h=f,a=m;break}A=A.sibling}if(!w){for(A=m.child;A;){if(A===a){w=!0,a=m,h=f;break}if(A===h){w=!0,h=m,a=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function su(r){return r=iu(r),r!==null?ss(r):null}function ss(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ss(r);if(s!==null)return s;r=r.sibling}return null}var wa=e.unstable_scheduleCallback,ro=e.unstable_cancelCallback,os=e.unstable_shouldYield,Ar=e.unstable_requestPaint,Ke=e.unstable_now,kh=e.unstable_getCurrentPriorityLevel,io=e.unstable_ImmediatePriority,Ea=e.unstable_UserBlockingPriority,as=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,so=e.unstable_IdlePriority,ls=null,an=null;function ou(r){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:us,Jn=Math.log,En=Math.LN2;function us(r){return r>>>=0,r===0?32:31-(Jn(r)/En|0)|0}var Zn=64,ci=4194304;function Ue(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Cr(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,m=r.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?h=Ue(A):(m&=w,m!==0&&(h=Ue(m)))}else w=a&~f,w!==0?h=Ue(w):m!==0&&(h=Ue(m));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,m=s&-s,f>=m||f===16&&(m&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-ln(s),f=1<<a,h|=r[a],s&=~f;return h}function cs(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hs(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var w=31-ln(m),A=1<<w,k=f[w];k===-1?((A&a)===0||(A&h)!==0)&&(f[w]=cs(A,s)):k<=s&&(r.expiredLanes|=A),m&=~A}}function Ia(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Sa(){var r=Zn;return Zn<<=1,(Zn&4194240)===0&&(Zn=64),r}function Ra(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function ds(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-ln(s),r[s]=a}function Nh(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-ln(a),m=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~m}}function Aa(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-ln(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Oe=0;function er(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ca,oo,Pa,ka,Na,tr=!1,ao=[],nr=null,rr=null,Pt=null,fs=new Map,Pr=new Map,un=[],au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hi(r,s){switch(r){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":fs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(s.pointerId)}}function Vn(r,s,a,h,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:m,targetContainers:[f]},s!==null&&(s=qa(s),s!==null&&oo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function lu(r,s,a,h,f){switch(s){case"focusin":return nr=Vn(nr,r,s,a,h,f),!0;case"dragenter":return rr=Vn(rr,r,s,a,h,f),!0;case"mouseover":return Pt=Vn(Pt,r,s,a,h,f),!0;case"pointerover":var m=f.pointerId;return fs.set(m,Vn(fs.get(m)||null,r,s,a,h,f)),!0;case"gotpointercapture":return m=f.pointerId,Pr.set(m,Vn(Pr.get(m)||null,r,s,a,h,f)),!0}return!1}function lo(r){var s=ys(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=va(a),s!==null){r.blockedOn=s,Na(r.priority,function(){Pa(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=uo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);si=h,a.target.dispatchEvent(h),si=null}else return s=qa(a),s!==null&&oo(s),r.blockedOn=a,!1;s.shift()}return!0}function uu(r,s,a){qe(r)&&a.delete(s)}function xh(){tr=!1,nr!==null&&qe(nr)&&(nr=null),rr!==null&&qe(rr)&&(rr=null),Pt!==null&&qe(Pt)&&(Pt=null),fs.forEach(uu),Pr.forEach(uu)}function di(r,s){r.blockedOn===s&&(r.blockedOn=null,tr||(tr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xh)))}function fi(r){function s(f){return di(f,r)}if(0<ao.length){di(ao[0],r);for(var a=1;a<ao.length;a++){var h=ao[a];h.blockedOn===r&&(h.blockedOn=null)}}for(nr!==null&&di(nr,r),rr!==null&&di(rr,r),Pt!==null&&di(Pt,r),fs.forEach(s),Pr.forEach(s),a=0;a<un.length;a++)h=un[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<un.length&&(a=un[0],a.blockedOn===null);)lo(a),a.blockedOn===null&&un.shift()}var kr=ie.ReactCurrentBatchConfig,Nr=!0;function ir(r,s,a,h){var f=Oe,m=kr.transition;kr.transition=null;try{Oe=1,xa(r,s,a,h)}finally{Oe=f,kr.transition=m}}function cu(r,s,a,h){var f=Oe,m=kr.transition;kr.transition=null;try{Oe=4,xa(r,s,a,h)}finally{Oe=f,kr.transition=m}}function xa(r,s,a,h){if(Nr){var f=uo(r,s,a,h);if(f===null)zh(r,s,h,sr,a),hi(r,h);else if(lu(f,r,s,a,h))h.stopPropagation();else if(hi(r,h),s&4&&-1<au.indexOf(r)){for(;f!==null;){var m=qa(f);if(m!==null&&Ca(m),m=uo(r,s,a,h),m===null&&zh(r,s,h,sr,a),m===f)break;f=m}f!==null&&h.stopPropagation()}else zh(r,s,h,null,a)}}var sr=null;function uo(r,s,a,h){if(sr=null,r=to(h),r=ys(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=va(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return sr=r,null}function co(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kh()){case io:return 1;case Ea:return 4;case as:case Ta:return 16;case so:return 536870912;default:return 16}default:return 16}}var cn=null,ho=null,xr=null;function hu(){if(xr)return xr;var r,s=ho,a=s.length,h,f="value"in cn?cn.value:cn.textContent,m=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[m-h];h++);return xr=f.slice(r,1<h?1-h:void 0)}function ps(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function Da(){return!1}function Lt(r){function s(a,h,f,m,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?or:Da,this.isPropagationStopped=Da,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=Lt(ar),pi=le({},ar,{view:0,detail:0}),fo=Lt(pi),po,mo,hn,gs=le({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hn&&(hn&&r.type==="mousemove"?(po=r.screenX-hn.screenX,mo=r.screenY-hn.screenY):mo=po=0,hn=r),po)},movementY:function(r){return"movementY"in r?r.movementY:mo}}),ba=Lt(gs),du=le({},gs,{dataTransfer:0}),fu=Lt(du),go=le({},pi,{relatedTarget:0}),kt=Lt(go),pu=le({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Lt(pu),mi=le({},ar,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Lt(mi),g=le({},ar,{data:0}),_=Lt(g),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ne(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=q[r])?!!s[r]:!1}function Ie(){return ne}var ut=le({},pi,{key:function(r){if(r.key){var s=T[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ps(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?U[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(r){return r.type==="keypress"?ps(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ps(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ze=Lt(ut),pt=le({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dn=Lt(pt),Dr=le({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),lr=Lt(Dr),ur=le({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),yo=Lt(ur),Oa=le({},gs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),oI=Lt(Oa),aI=[9,13,27,32],Dh=d&&"CompositionEvent"in window,Va=null;d&&"documentMode"in document&&(Va=document.documentMode);var lI=d&&"TextEvent"in window&&!Va,fm=d&&(!Dh||Va&&8<Va&&11>=Va),pm=" ",mm=!1;function gm(r,s){switch(r){case"keyup":return aI.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _o=!1;function uI(r,s){switch(r){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(mm=!0,pm);case"textInput":return r=s.data,r===pm&&mm?null:r;default:return null}}function cI(r,s){if(_o)return r==="compositionend"||!Dh&&gm(r,s)?(r=hu(),xr=ho=cn=null,_o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fm&&s.locale!=="ko"?null:s.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!hI[r.type]:s==="textarea"}function vm(r,s,a,h){oi(h),s=wu(s,"onChange"),0<s.length&&(a=new ms("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var La=null,Ma=null;function dI(r){Mm(r,0)}function gu(r){var s=Io(r);if(ha(s))return r}function fI(r,s){if(r==="change")return s}var wm=!1;if(d){var bh;if(d){var Oh="oninput"in document;if(!Oh){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Oh=typeof Em.oninput=="function"}bh=Oh}else bh=!1;wm=bh&&(!document.documentMode||9<document.documentMode)}function Tm(){La&&(La.detachEvent("onpropertychange",Im),Ma=La=null)}function Im(r){if(r.propertyName==="value"&&gu(Ma)){var s=[];vm(s,Ma,r,to(r)),Zl(dI,s)}}function pI(r,s,a){r==="focusin"?(Tm(),La=s,Ma=a,La.attachEvent("onpropertychange",Im)):r==="focusout"&&Tm()}function mI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gu(Ma)}function gI(r,s){if(r==="click")return gu(s)}function yI(r,s){if(r==="input"||r==="change")return gu(s)}function _I(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ln=typeof Object.is=="function"?Object.is:_I;function Fa(r,s){if(Ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Ln(r[f],s[f]))return!1}return!0}function Sm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rm(r,s){var a=Sm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sm(a)}}function Am(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Am(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Cm(){for(var r=window,s=ei();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ei(r.document)}return s}function Vh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function vI(r){var s=Cm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Am(a.ownerDocument.documentElement,a)){if(h!==null&&Vh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,m=Math.min(h.start,f);h=h.end===void 0?m:Math.min(h.end,f),!r.extend&&m>h&&(f=h,h=m,m=f),f=Rm(a,m);var w=Rm(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),m>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wI=d&&"documentMode"in document&&11>=document.documentMode,vo=null,Lh=null,Ua=null,Mh=!1;function Pm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||vo==null||vo!==ei(h)||(h=vo,"selectionStart"in h&&Vh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ua&&Fa(Ua,h)||(Ua=h,h=wu(Lh,"onSelect"),0<h.length&&(s=new ms("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=vo)))}function yu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var wo={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Fh={},km={};d&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function _u(r){if(Fh[r])return Fh[r];if(!wo[r])return r;var s=wo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in km)return Fh[r]=s[a];return r}var Nm=_u("animationend"),xm=_u("animationiteration"),Dm=_u("animationstart"),bm=_u("transitionend"),Om=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(r,s){Om.set(r,s),l(s,[r])}for(var Uh=0;Uh<Vm.length;Uh++){var jh=Vm[Uh],EI=jh.toLowerCase(),TI=jh[0].toUpperCase()+jh.slice(1);gi(EI,"on"+TI)}gi(Nm,"onAnimationEnd"),gi(xm,"onAnimationIteration"),gi(Dm,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(bm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Lm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,_a(h,s,void 0,r),r.currentTarget=null}function Mm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var m=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],k=A.instance,$=A.currentTarget;if(A=A.listener,k!==m&&f.isPropagationStopped())break e;Lm(f,A,$),m=k}else for(w=0;w<h.length;w++){if(A=h[w],k=A.instance,$=A.currentTarget,A=A.listener,k!==m&&f.isPropagationStopped())break e;Lm(f,A,$),m=k}}}if(no)throw r=wn,no=!1,wn=null,r}function Ge(r,s){var a=s[Gh];a===void 0&&(a=s[Gh]=new Set);var h=r+"__bubble";a.has(h)||(Fm(s,r,2,!1),a.add(h))}function Bh(r,s,a){var h=0;s&&(h|=4),Fm(a,r,h,s)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Ba(r){if(!r[vu]){r[vu]=!0,i.forEach(function(a){a!=="selectionchange"&&(II.has(a)||Bh(a,!1,r),Bh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vu]||(s[vu]=!0,Bh("selectionchange",!1,s))}}function Fm(r,s,a,h){switch(co(s)){case 1:var f=ir;break;case 4:f=cu;break;default:f=xa}a=f.bind(null,s,a,r),f=void 0,!li||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function zh(r,s,a,h,f){var m=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;w=w.return}for(;A!==null;){if(w=ys(A),w===null)return;if(k=w.tag,k===5||k===6){h=m=w;continue e}A=A.parentNode}}h=h.return}Zl(function(){var $=m,J=to(a),Z=[];e:{var X=Om.get(r);if(X!==void 0){var oe=ms,ce=r;switch(r){case"keypress":if(ps(a)===0)break e;case"keydown":case"keyup":oe=ze;break;case"focusin":ce="focus",oe=kt;break;case"focusout":ce="blur",oe=kt;break;case"beforeblur":case"afterblur":oe=kt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=lr;break;case Nm:case xm:case Dm:oe=mu;break;case bm:oe=yo;break;case"scroll":oe=fo;break;case"wheel":oe=oI;break;case"copy":case"cut":case"paste":oe=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=dn}var he=(s&4)!==0,ct=!he&&r==="scroll",F=he?X!==null?X+"Capture":null:X;he=[];for(var O=$,j;O!==null;){j=O;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,F!==null&&(te=is(O,F),te!=null&&he.push(za(O,te,j)))),ct)break;O=O.return}0<he.length&&(X=new oe(X,ce,null,a,J),Z.push({event:X,listeners:he}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",X&&a!==si&&(ce=a.relatedTarget||a.fromElement)&&(ys(ce)||ce[br]))break e;if((oe||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=$,ce=ce?ys(ce):null,ce!==null&&(ct=On(ce),ce!==ct||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=$),oe!==ce)){if(he=ba,te="onMouseLeave",F="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(he=dn,te="onPointerLeave",F="onPointerEnter",O="pointer"),ct=oe==null?X:Io(oe),j=ce==null?X:Io(ce),X=new he(te,O+"leave",oe,a,J),X.target=ct,X.relatedTarget=j,te=null,ys(J)===$&&(he=new he(F,O+"enter",ce,a,J),he.target=j,he.relatedTarget=ct,te=he),ct=te,oe&&ce)t:{for(he=oe,F=ce,O=0,j=he;j;j=Eo(j))O++;for(j=0,te=F;te;te=Eo(te))j++;for(;0<O-j;)he=Eo(he),O--;for(;0<j-O;)F=Eo(F),j--;for(;O--;){if(he===F||F!==null&&he===F.alternate)break t;he=Eo(he),F=Eo(F)}he=null}else he=null;oe!==null&&Um(Z,X,oe,he,!1),ce!==null&&ct!==null&&Um(Z,ct,ce,he,!0)}}e:{if(X=$?Io($):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var de=fI;else if(_m(X))if(wm)de=yI;else{de=mI;var me=pI}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(de=gI);if(de&&(de=de(r,$))){vm(Z,de,a,J);break e}me&&me(r,X,$),r==="focusout"&&(me=X._wrapperState)&&me.controlled&&X.type==="number"&&ft(X,"number",X.value)}switch(me=$?Io($):window,r){case"focusin":(_m(me)||me.contentEditable==="true")&&(vo=me,Lh=$,Ua=null);break;case"focusout":Ua=Lh=vo=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Pm(Z,a,J);break;case"selectionchange":if(wI)break;case"keydown":case"keyup":Pm(Z,a,J)}var ge;if(Dh)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else _o?gm(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(fm&&a.locale!=="ko"&&(_o||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&_o&&(ge=hu()):(cn=J,ho="value"in cn?cn.value:cn.textContent,_o=!0)),me=wu($,Ee),0<me.length&&(Ee=new _(Ee,r,null,a,J),Z.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=ym(a),ge!==null&&(Ee.data=ge)))),(ge=lI?uI(r,a):cI(r,a))&&($=wu($,"onBeforeInput"),0<$.length&&(J=new _("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:$}),J.data=ge))}Mm(Z,s)})}function za(r,s,a){return{instance:r,listener:s,currentTarget:a}}function wu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=is(r,a),m!=null&&h.unshift(za(r,m,f)),m=is(r,s),m!=null&&h.push(za(r,m,f))),r=r.return}return h}function Eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Um(r,s,a,h,f){for(var m=s._reactName,w=[];a!==null&&a!==h;){var A=a,k=A.alternate,$=A.stateNode;if(k!==null&&k===h)break;A.tag===5&&$!==null&&(A=$,f?(k=is(a,m),k!=null&&w.unshift(za(a,k,A))):f||(k=is(a,m),k!=null&&w.push(za(a,k,A)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var SI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function jm(r){return(typeof r=="string"?r:""+r).replace(SI,`
`).replace(RI,"")}function Eu(r,s,a){if(s=jm(s),jm(r)!==s&&a)throw Error(t(425))}function Tu(){}var $h=null,qh=null;function Hh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(r){return Bm.resolve(null).then(r).catch(PI)}:Wh;function PI(r){setTimeout(function(){throw r})}function Kh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),fi(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);fi(s)}function yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var To=Math.random().toString(36).slice(2),cr="__reactFiber$"+To,$a="__reactProps$"+To,br="__reactContainer$"+To,Gh="__reactEvents$"+To,kI="__reactListeners$"+To,NI="__reactHandles$"+To;function ys(r){var s=r[cr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[br]||a[cr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=zm(r);r!==null;){if(a=r[cr])return a;r=zm(r)}return s}r=a,a=r.parentNode}return null}function qa(r){return r=r[cr]||r[br],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Iu(r){return r[$a]||null}var Qh=[],So=-1;function _i(r){return{current:r}}function Qe(r){0>So||(r.current=Qh[So],Qh[So]=null,So--)}function He(r,s){So++,Qh[So]=r.current,r.current=s}var vi={},Mt=_i(vi),Yt=_i(!1),_s=vi;function Ro(r,s){var a=r.type.contextTypes;if(!a)return vi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=s[m];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(r){return r=r.childContextTypes,r!=null}function Su(){Qe(Yt),Qe(Mt)}function $m(r,s,a){if(Mt.current!==vi)throw Error(t(168));He(Mt,s),He(Yt,a)}function qm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,je(r)||"Unknown",f));return le({},a,h)}function Ru(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||vi,_s=Mt.current,He(Mt,r),He(Yt,Yt.current),!0}function Hm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=qm(r,s,_s),h.__reactInternalMemoizedMergedChildContext=r,Qe(Yt),Qe(Mt),He(Mt,r)):Qe(Yt),He(Yt,a)}var Or=null,Au=!1,Yh=!1;function Wm(r){Or===null?Or=[r]:Or.push(r)}function xI(r){Au=!0,Wm(r)}function wi(){if(!Yh&&Or!==null){Yh=!0;var r=0,s=Oe;try{var a=Or;for(Oe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Or=null,Au=!1}catch(f){throw Or!==null&&(Or=Or.slice(r+1)),wa(io,wi),f}finally{Oe=s,Yh=!1}}return null}var Ao=[],Co=0,Cu=null,Pu=0,Tn=[],In=0,vs=null,Vr=1,Lr="";function ws(r,s){Ao[Co++]=Pu,Ao[Co++]=Cu,Cu=r,Pu=s}function Km(r,s,a){Tn[In++]=Vr,Tn[In++]=Lr,Tn[In++]=vs,vs=r;var h=Vr;r=Lr;var f=32-ln(h)-1;h&=~(1<<f),a+=1;var m=32-ln(s)+f;if(30<m){var w=f-f%5;m=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Vr=1<<32-ln(s)+f|a<<f|h,Lr=m+r}else Vr=1<<m|a<<f|h,Lr=r}function Xh(r){r.return!==null&&(ws(r,1),Km(r,1,0))}function Jh(r){for(;r===Cu;)Cu=Ao[--Co],Ao[Co]=null,Pu=Ao[--Co],Ao[Co]=null;for(;r===vs;)vs=Tn[--In],Tn[In]=null,Lr=Tn[--In],Tn[In]=null,Vr=Tn[--In],Tn[In]=null}var fn=null,pn=null,Ze=!1,Mn=null;function Gm(r,s){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Qm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,fn=r,pn=yi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,fn=r,pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=vs!==null?{id:Vr,overflow:Lr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,fn=r,pn=null,!0):!1;default:return!1}}function Zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ed(r){if(Ze){var s=pn;if(s){var a=s;if(!Qm(r,s)){if(Zh(r))throw Error(t(418));s=yi(a.nextSibling);var h=fn;s&&Qm(r,s)?Gm(h,a):(r.flags=r.flags&-4097|2,Ze=!1,fn=r)}}else{if(Zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,fn=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;fn=r}function ku(r){if(r!==fn)return!1;if(!Ze)return Ym(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Hh(r.type,r.memoizedProps)),s&&(s=pn)){if(Zh(r))throw Xm(),Error(t(418));for(;s;)Gm(r,s),s=yi(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){pn=yi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}pn=null}}else pn=fn?yi(r.stateNode.nextSibling):null;return!0}function Xm(){for(var r=pn;r;)r=yi(r.nextSibling)}function Po(){pn=fn=null,Ze=!1}function td(r){Mn===null?Mn=[r]:Mn.push(r)}var DI=ie.ReactCurrentBatchConfig;function Ha(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var A=f.refs;w===null?delete A[m]:A[m]=w},s._stringRef=m,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Nu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Jm(r){var s=r._init;return s(r._payload)}function Zm(r){function s(F,O){if(r){var j=F.deletions;j===null?(F.deletions=[O],F.flags|=16):j.push(O)}}function a(F,O){if(!r)return null;for(;O!==null;)s(F,O),O=O.sibling;return null}function h(F,O){for(F=new Map;O!==null;)O.key!==null?F.set(O.key,O):F.set(O.index,O),O=O.sibling;return F}function f(F,O){return F=Pi(F,O),F.index=0,F.sibling=null,F}function m(F,O,j){return F.index=j,r?(j=F.alternate,j!==null?(j=j.index,j<O?(F.flags|=2,O):j):(F.flags|=2,O)):(F.flags|=1048576,O)}function w(F){return r&&F.alternate===null&&(F.flags|=2),F}function A(F,O,j,te){return O===null||O.tag!==6?(O=Wd(j,F.mode,te),O.return=F,O):(O=f(O,j),O.return=F,O)}function k(F,O,j,te){var de=j.type;return de===x?J(F,O,j.props.children,te,j.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Vt&&Jm(de)===O.type)?(te=f(O,j.props),te.ref=Ha(F,O,j),te.return=F,te):(te=ec(j.type,j.key,j.props,null,F.mode,te),te.ref=Ha(F,O,j),te.return=F,te)}function $(F,O,j,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Kd(j,F.mode,te),O.return=F,O):(O=f(O,j.children||[]),O.return=F,O)}function J(F,O,j,te,de){return O===null||O.tag!==7?(O=Ps(j,F.mode,te,de),O.return=F,O):(O=f(O,j),O.return=F,O)}function Z(F,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Wd(""+O,F.mode,j),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ye:return j=ec(O.type,O.key,O.props,null,F.mode,j),j.ref=Ha(F,null,O),j.return=F,j;case _e:return O=Kd(O,F.mode,j),O.return=F,O;case Vt:var te=O._init;return Z(F,te(O._payload),j)}if(lt(O)||pe(O))return O=Ps(O,F.mode,j,null),O.return=F,O;Nu(F,O)}return null}function X(F,O,j,te){var de=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:A(F,O,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ye:return j.key===de?k(F,O,j,te):null;case _e:return j.key===de?$(F,O,j,te):null;case Vt:return de=j._init,X(F,O,de(j._payload),te)}if(lt(j)||pe(j))return de!==null?null:J(F,O,j,te,null);Nu(F,j)}return null}function oe(F,O,j,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return F=F.get(j)||null,A(O,F,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ye:return F=F.get(te.key===null?j:te.key)||null,k(O,F,te,de);case _e:return F=F.get(te.key===null?j:te.key)||null,$(O,F,te,de);case Vt:var me=te._init;return oe(F,O,j,me(te._payload),de)}if(lt(te)||pe(te))return F=F.get(j)||null,J(O,F,te,de,null);Nu(O,te)}return null}function ce(F,O,j,te){for(var de=null,me=null,ge=O,Ee=O=0,At=null;ge!==null&&Ee<j.length;Ee++){ge.index>Ee?(At=ge,ge=null):At=ge.sibling;var Fe=X(F,ge,j[Ee],te);if(Fe===null){ge===null&&(ge=At);break}r&&ge&&Fe.alternate===null&&s(F,ge),O=m(Fe,O,Ee),me===null?de=Fe:me.sibling=Fe,me=Fe,ge=At}if(Ee===j.length)return a(F,ge),Ze&&ws(F,Ee),de;if(ge===null){for(;Ee<j.length;Ee++)ge=Z(F,j[Ee],te),ge!==null&&(O=m(ge,O,Ee),me===null?de=ge:me.sibling=ge,me=ge);return Ze&&ws(F,Ee),de}for(ge=h(F,ge);Ee<j.length;Ee++)At=oe(ge,F,Ee,j[Ee],te),At!==null&&(r&&At.alternate!==null&&ge.delete(At.key===null?Ee:At.key),O=m(At,O,Ee),me===null?de=At:me.sibling=At,me=At);return r&&ge.forEach(function(ki){return s(F,ki)}),Ze&&ws(F,Ee),de}function he(F,O,j,te){var de=pe(j);if(typeof de!="function")throw Error(t(150));if(j=de.call(j),j==null)throw Error(t(151));for(var me=de=null,ge=O,Ee=O=0,At=null,Fe=j.next();ge!==null&&!Fe.done;Ee++,Fe=j.next()){ge.index>Ee?(At=ge,ge=null):At=ge.sibling;var ki=X(F,ge,Fe.value,te);if(ki===null){ge===null&&(ge=At);break}r&&ge&&ki.alternate===null&&s(F,ge),O=m(ki,O,Ee),me===null?de=ki:me.sibling=ki,me=ki,ge=At}if(Fe.done)return a(F,ge),Ze&&ws(F,Ee),de;if(ge===null){for(;!Fe.done;Ee++,Fe=j.next())Fe=Z(F,Fe.value,te),Fe!==null&&(O=m(Fe,O,Ee),me===null?de=Fe:me.sibling=Fe,me=Fe);return Ze&&ws(F,Ee),de}for(ge=h(F,ge);!Fe.done;Ee++,Fe=j.next())Fe=oe(ge,F,Ee,Fe.value,te),Fe!==null&&(r&&Fe.alternate!==null&&ge.delete(Fe.key===null?Ee:Fe.key),O=m(Fe,O,Ee),me===null?de=Fe:me.sibling=Fe,me=Fe);return r&&ge.forEach(function(h0){return s(F,h0)}),Ze&&ws(F,Ee),de}function ct(F,O,j,te){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ye:e:{for(var de=j.key,me=O;me!==null;){if(me.key===de){if(de=j.type,de===x){if(me.tag===7){a(F,me.sibling),O=f(me,j.props.children),O.return=F,F=O;break e}}else if(me.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Vt&&Jm(de)===me.type){a(F,me.sibling),O=f(me,j.props),O.ref=Ha(F,me,j),O.return=F,F=O;break e}a(F,me);break}else s(F,me);me=me.sibling}j.type===x?(O=Ps(j.props.children,F.mode,te,j.key),O.return=F,F=O):(te=ec(j.type,j.key,j.props,null,F.mode,te),te.ref=Ha(F,O,j),te.return=F,F=te)}return w(F);case _e:e:{for(me=j.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(F,O.sibling),O=f(O,j.children||[]),O.return=F,F=O;break e}else{a(F,O);break}else s(F,O);O=O.sibling}O=Kd(j,F.mode,te),O.return=F,F=O}return w(F);case Vt:return me=j._init,ct(F,O,me(j._payload),te)}if(lt(j))return ce(F,O,j,te);if(pe(j))return he(F,O,j,te);Nu(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,O!==null&&O.tag===6?(a(F,O.sibling),O=f(O,j),O.return=F,F=O):(a(F,O),O=Wd(j,F.mode,te),O.return=F,F=O),w(F)):a(F,O)}return ct}var ko=Zm(!0),eg=Zm(!1),xu=_i(null),Du=null,No=null,nd=null;function rd(){nd=No=Du=null}function id(r){var s=xu.current;Qe(xu),r._currentValue=s}function sd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function xo(r,s){Du=r,nd=No=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Jt=!0),r.firstContext=null)}function Sn(r){var s=r._currentValue;if(nd!==r)if(r={context:r,memoizedValue:s,next:null},No===null){if(Du===null)throw Error(t(308));No=r,Du.dependencies={lanes:0,firstContext:r}}else No=No.next=r;return s}var Es=null;function od(r){Es===null?Es=[r]:Es.push(r)}function tg(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,od(s)):(a.next=f.next,f.next=a),s.interleaved=a,Mr(r,h)}function Mr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ei=!1;function ad(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ti(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Mr(r,a)}return f=h.interleaved,f===null?(s.next=s,od(h)):(s.next=f.next,f.next=s),h.interleaved=s,Mr(r,a)}function bu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Aa(r,a)}}function rg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ou(r,s,a,h){var f=r.updateQueue;Ei=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var k=A,$=k.next;k.next=null,w===null?m=$:w.next=$,w=k;var J=r.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==w&&(A===null?J.firstBaseUpdate=$:A.next=$,J.lastBaseUpdate=k))}if(m!==null){var Z=f.baseState;w=0,J=$=k=null,A=m;do{var X=A.lane,oe=A.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ce=r,he=A;switch(X=s,oe=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(oe,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(oe,Z,X):ce,X==null)break e;Z=le({},Z,X);break e;case 2:Ei=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,X=f.effects,X===null?f.effects=[A]:X.push(A))}else oe={eventTime:oe,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?($=J=oe,k=Z):J=J.next=oe,w|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(J===null&&(k=Z),f.baseState=k,f.firstBaseUpdate=$,f.lastBaseUpdate=J,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else m===null&&(f.shared.lanes=0);Ss|=w,r.lanes=w,r.memoizedState=Z}}function ig(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Wa={},hr=_i(Wa),Ka=_i(Wa),Ga=_i(Wa);function Ts(r){if(r===Wa)throw Error(t(174));return r}function ld(r,s){switch(He(Ga,s),He(Ka,r),He(hr,Wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Js(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Js(s,r)}Qe(hr),He(hr,s)}function Do(){Qe(hr),Qe(Ka),Qe(Ga)}function sg(r){Ts(Ga.current);var s=Ts(hr.current),a=Js(s,r.type);s!==a&&(He(Ka,r),He(hr,a))}function ud(r){Ka.current===r&&(Qe(hr),Qe(Ka))}var tt=_i(0);function Vu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cd=[];function hd(){for(var r=0;r<cd.length;r++)cd[r]._workInProgressVersionPrimary=null;cd.length=0}var Lu=ie.ReactCurrentDispatcher,dd=ie.ReactCurrentBatchConfig,Is=0,nt=null,vt=null,St=null,Mu=!1,Qa=!1,Ya=0,bI=0;function Ft(){throw Error(t(321))}function fd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Ln(r[a],s[a]))return!1;return!0}function pd(r,s,a,h,f,m){if(Is=m,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Lu.current=r===null||r.memoizedState===null?MI:FI,r=a(h,f),Qa){m=0;do{if(Qa=!1,Ya=0,25<=m)throw Error(t(301));m+=1,St=vt=null,s.updateQueue=null,Lu.current=UI,r=a(h,f)}while(Qa)}if(Lu.current=ju,s=vt!==null&&vt.next!==null,Is=0,St=vt=nt=null,Mu=!1,s)throw Error(t(300));return r}function md(){var r=Ya!==0;return Ya=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=r:St=St.next=r,St}function Rn(){if(vt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=St===null?nt.memoizedState:St.next;if(s!==null)St=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?nt.memoizedState=St=r:St=St.next=r}return St}function Xa(r,s){return typeof s=="function"?s(r):s}function gd(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=vt,f=h.baseQueue,m=a.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}h.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,h=h.baseState;var A=w=null,k=null,$=m;do{var J=$.lane;if((Is&J)===J)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var Z={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(A=k=Z,w=h):k=k.next=Z,nt.lanes|=J,Ss|=J}$=$.next}while($!==null&&$!==m);k===null?w=h:k.next=A,Ln(h,s.memoizedState)||(Jt=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=k,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do m=f.lane,nt.lanes|=m,Ss|=m,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function yd(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=r(m,w.action),w=w.next;while(w!==f);Ln(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,h]}function og(){}function ag(r,s){var a=nt,h=Rn(),f=s(),m=!Ln(h.memoizedState,f);if(m&&(h.memoizedState=f,Jt=!0),h=h.queue,_d(cg.bind(null,a,h,r),[r]),h.getSnapshot!==s||m||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Ja(9,ug.bind(null,a,h,f,s),void 0,null),Rt===null)throw Error(t(349));(Is&30)!==0||lg(a,s,f)}return f}function lg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ug(r,s,a,h){s.value=a,s.getSnapshot=h,hg(s)&&dg(r)}function cg(r,s,a){return a(function(){hg(s)&&dg(r)})}function hg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Ln(r,a)}catch{return!0}}function dg(r){var s=Mr(r,1);s!==null&&Bn(s,r,1,-1)}function fg(r){var s=dr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:r},s.queue=r,r=r.dispatch=LI.bind(null,nt,r),[s.memoizedState,r]}function Ja(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function pg(){return Rn().memoizedState}function Fu(r,s,a,h){var f=dr();nt.flags|=r,f.memoizedState=Ja(1|s,a,void 0,h===void 0?null:h)}function Uu(r,s,a,h){var f=Rn();h=h===void 0?null:h;var m=void 0;if(vt!==null){var w=vt.memoizedState;if(m=w.destroy,h!==null&&fd(h,w.deps)){f.memoizedState=Ja(s,a,m,h);return}}nt.flags|=r,f.memoizedState=Ja(1|s,a,m,h)}function mg(r,s){return Fu(8390656,8,r,s)}function _d(r,s){return Uu(2048,8,r,s)}function gg(r,s){return Uu(4,2,r,s)}function yg(r,s){return Uu(4,4,r,s)}function _g(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function vg(r,s,a){return a=a!=null?a.concat([r]):null,Uu(4,4,_g.bind(null,s,r),a)}function vd(){}function wg(r,s){var a=Rn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&fd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Eg(r,s){var a=Rn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&fd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Tg(r,s,a){return(Is&21)===0?(r.baseState&&(r.baseState=!1,Jt=!0),r.memoizedState=a):(Ln(a,s)||(a=Sa(),nt.lanes|=a,Ss|=a,r.baseState=!0),s)}function OI(r,s){var a=Oe;Oe=a!==0&&4>a?a:4,r(!0);var h=dd.transition;dd.transition={};try{r(!1),s()}finally{Oe=a,dd.transition=h}}function Ig(){return Rn().memoizedState}function VI(r,s,a){var h=Ai(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Sg(r))Rg(s,a);else if(a=tg(r,s,a,h),a!==null){var f=Kt();Bn(a,r,h,f),Ag(a,s,h)}}function LI(r,s,a){var h=Ai(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sg(r))Rg(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,A=m(w,a);if(f.hasEagerState=!0,f.eagerState=A,Ln(A,w)){var k=s.interleaved;k===null?(f.next=f,od(s)):(f.next=k.next,k.next=f),s.interleaved=f;return}}catch{}finally{}a=tg(r,s,f,h),a!==null&&(f=Kt(),Bn(a,r,h,f),Ag(a,s,h))}}function Sg(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function Rg(r,s){Qa=Mu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ag(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Aa(r,a)}}var ju={readContext:Sn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},MI={readContext:Sn,useCallback:function(r,s){return dr().memoizedState=[r,s===void 0?null:s],r},useContext:Sn,useEffect:mg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Fu(4194308,4,_g.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Fu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Fu(4,2,r,s)},useMemo:function(r,s){var a=dr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=dr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=VI.bind(null,nt,r),[h.memoizedState,r]},useRef:function(r){var s=dr();return r={current:r},s.memoizedState=r},useState:fg,useDebugValue:vd,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=fg(!1),s=r[0];return r=OI.bind(null,r[1]),dr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=nt,f=dr();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Rt===null)throw Error(t(349));(Is&30)!==0||lg(h,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,mg(cg.bind(null,h,m,r),[r]),h.flags|=2048,Ja(9,ug.bind(null,h,m,a,s),void 0,null),a},useId:function(){var r=dr(),s=Rt.identifierPrefix;if(Ze){var a=Lr,h=Vr;a=(h&~(1<<32-ln(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ya++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=bI++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},FI={readContext:Sn,useCallback:wg,useContext:Sn,useEffect:_d,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:gd,useRef:pg,useState:function(){return gd(Xa)},useDebugValue:vd,useDeferredValue:function(r){var s=Rn();return Tg(s,vt.memoizedState,r)},useTransition:function(){var r=gd(Xa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1},UI={readContext:Sn,useCallback:wg,useContext:Sn,useEffect:_d,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:yd,useRef:pg,useState:function(){return yd(Xa)},useDebugValue:vd,useDeferredValue:function(r){var s=Rn();return vt===null?s.memoizedState=r:Tg(s,vt.memoizedState,r)},useTransition:function(){var r=yd(Xa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1};function Fn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function wd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Bu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Kt(),f=Ai(r),m=Fr(h,f);m.payload=s,a!=null&&(m.callback=a),s=Ti(r,m,f),s!==null&&(Bn(s,r,f,h),bu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Kt(),f=Ai(r),m=Fr(h,f);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=Ti(r,m,f),s!==null&&(Bn(s,r,f,h),bu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Kt(),h=Ai(r),f=Fr(a,h);f.tag=2,s!=null&&(f.callback=s),s=Ti(r,f,h),s!==null&&(Bn(s,r,h,a),bu(s,r,h))}};function Cg(r,s,a,h,f,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,m,w):s.prototype&&s.prototype.isPureReactComponent?!Fa(a,h)||!Fa(f,m):!0}function Pg(r,s,a){var h=!1,f=vi,m=s.contextType;return typeof m=="object"&&m!==null?m=Sn(m):(f=Xt(s)?_s:Mt.current,h=s.contextTypes,m=(h=h!=null)?Ro(r,f):vi),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),s}function kg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Bu.enqueueReplaceState(s,s.state,null)}function Ed(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},ad(r);var m=s.contextType;typeof m=="object"&&m!==null?f.context=Sn(m):(m=Xt(s)?_s:Mt.current,f.context=Ro(r,m)),f.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(wd(r,s,m,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Bu.enqueueReplaceState(f,f.state,null),Ou(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function bo(r,s){try{var a="",h=s;do a+=ke(h),h=h.return;while(h);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:f,digest:null}}function Td(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Id(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var jI=typeof WeakMap=="function"?WeakMap:Map;function Ng(r,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Gu||(Gu=!0,Fd=h),Id(r,s)},a}function xg(r,s,a){a=Fr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Id(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Id(r,s),typeof h!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Dg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new jI;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=e0.bind(null,r,s,a),s.then(r,r))}function bg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Og(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,Ti(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var BI=ie.ReactCurrentOwner,Jt=!1;function Wt(r,s,a,h){s.child=r===null?eg(s,null,a,h):ko(s,r.child,a,h)}function Vg(r,s,a,h,f){a=a.render;var m=s.ref;return xo(s,f),h=pd(r,s,a,h,m,f),a=md(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Ur(r,s,f)):(Ze&&a&&Xh(s),s.flags|=1,Wt(r,s,h,f),s.child)}function Lg(r,s,a,h,f){if(r===null){var m=a.type;return typeof m=="function"&&!Hd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Mg(r,s,m,h,f)):(r=ec(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&f)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Fa,a(w,h)&&r.ref===s.ref)return Ur(r,s,f)}return s.flags|=1,r=Pi(m,h),r.ref=s.ref,r.return=s,s.child=r}function Mg(r,s,a,h,f){if(r!==null){var m=r.memoizedProps;if(Fa(m,h)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=h=m,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Jt=!0);else return s.lanes=r.lanes,Ur(r,s,f)}return Sd(r,s,a,h,f)}function Fg(r,s,a){var h=s.pendingProps,f=h.children,m=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Vo,mn),mn|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,He(Vo,mn),mn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=m!==null?m.baseLanes:a,He(Vo,mn),mn|=h}else m!==null?(h=m.baseLanes|a,s.memoizedState=null):h=a,He(Vo,mn),mn|=h;return Wt(r,s,f,a),s.child}function Ug(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Sd(r,s,a,h,f){var m=Xt(a)?_s:Mt.current;return m=Ro(s,m),xo(s,f),a=pd(r,s,a,h,m,f),h=md(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Ur(r,s,f)):(Ze&&h&&Xh(s),s.flags|=1,Wt(r,s,a,f),s.child)}function jg(r,s,a,h,f){if(Xt(a)){var m=!0;Ru(s)}else m=!1;if(xo(s,f),s.stateNode===null)$u(r,s),Pg(s,a,h),Ed(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var k=w.context,$=a.contextType;typeof $=="object"&&$!==null?$=Sn($):($=Xt(a)?_s:Mt.current,$=Ro(s,$));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||k!==$)&&kg(s,w,h,$),Ei=!1;var X=s.memoizedState;w.state=X,Ou(s,h,w,f),k=s.memoizedState,A!==h||X!==k||Yt.current||Ei?(typeof J=="function"&&(wd(s,a,J,h),k=s.memoizedState),(A=Ei||Cg(s,a,A,h,X,k,$))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),w.props=h,w.state=k,w.context=$,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,ng(r,s),A=s.memoizedProps,$=s.type===s.elementType?A:Fn(s.type,A),w.props=$,Z=s.pendingProps,X=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=Sn(k):(k=Xt(a)?_s:Mt.current,k=Ro(s,k));var oe=a.getDerivedStateFromProps;(J=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==Z||X!==k)&&kg(s,w,h,k),Ei=!1,X=s.memoizedState,w.state=X,Ou(s,h,w,f);var ce=s.memoizedState;A!==Z||X!==ce||Yt.current||Ei?(typeof oe=="function"&&(wd(s,a,oe,h),ce=s.memoizedState),($=Ei||Cg(s,a,$,h,X,ce,k)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ce,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ce,k)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),w.props=h,w.state=ce,w.context=k,h=$):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return Rd(r,s,a,h,m,f)}function Rd(r,s,a,h,f,m){Ug(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Hm(s,a,!1),Ur(r,s,m);h=s.stateNode,BI.current=s;var A=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=ko(s,r.child,null,m),s.child=ko(s,null,A,m)):Wt(r,s,A,m),s.memoizedState=h.state,f&&Hm(s,a,!0),s.child}function Bg(r){var s=r.stateNode;s.pendingContext?$m(r,s.pendingContext,s.pendingContext!==s.context):s.context&&$m(r,s.context,!1),ld(r,s.containerInfo)}function zg(r,s,a,h,f){return Po(),td(f),s.flags|=256,Wt(r,s,a,h),s.child}var Ad={dehydrated:null,treeContext:null,retryLane:0};function Cd(r){return{baseLanes:r,cachePool:null,transitions:null}}function $g(r,s,a){var h=s.pendingProps,f=tt.current,m=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),He(tt,f&1),r===null)return ed(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,m?(h=s.mode,m=s.child,w={mode:"hidden",children:w},(h&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=tc(w,h,0,null),r=Ps(r,h,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=Cd(a),s.memoizedState=Ad,r):Pd(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return zI(r,s,w,h,A,f,a);if(m){m=h.fallback,w=s.mode,f=r.child,A=f.sibling;var k={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=Pi(f,k),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?m=Pi(A,m):(m=Ps(m,w,a,null),m.flags|=2),m.return=s,h.return=s,h.sibling=m,s.child=h,h=m,m=s.child,w=r.child.memoizedState,w=w===null?Cd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=r.childLanes&~a,s.memoizedState=Ad,h}return m=r.child,r=m.sibling,h=Pi(m,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Pd(r,s){return s=tc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function zu(r,s,a,h){return h!==null&&td(h),ko(s,r.child,null,a),r=Pd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function zI(r,s,a,h,f,m,w){if(a)return s.flags&256?(s.flags&=-257,h=Td(Error(t(422))),zu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=h.fallback,f=s.mode,h=tc({mode:"visible",children:h.children},f,0,null),m=Ps(m,f,w,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,(s.mode&1)!==0&&ko(s,r.child,null,w),s.child.memoizedState=Cd(w),s.memoizedState=Ad,m);if((s.mode&1)===0)return zu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,m=Error(t(419)),h=Td(m,h,void 0),zu(r,s,w,h)}if(A=(w&r.childLanes)!==0,Jt||A){if(h=Rt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Mr(r,f),Bn(h,r,f,-1))}return qd(),h=Td(Error(t(421))),zu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=t0.bind(null,r),f._reactRetry=s,null):(r=m.treeContext,pn=yi(f.nextSibling),fn=s,Ze=!0,Mn=null,r!==null&&(Tn[In++]=Vr,Tn[In++]=Lr,Tn[In++]=vs,Vr=r.id,Lr=r.overflow,vs=s),s=Pd(s,h.children),s.flags|=4096,s)}function qg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),sd(r.return,s,a)}function kd(r,s,a,h,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=h,m.tail=a,m.tailMode=f)}function Hg(r,s,a){var h=s.pendingProps,f=h.revealOrder,m=h.tail;if(Wt(r,s,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qg(r,a,s);else if(r.tag===19)qg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(He(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Vu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),kd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Vu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}kd(s,!0,a,null,m);break;case"together":kd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $u(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ur(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ss|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Pi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Pi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function $I(r,s,a){switch(s.tag){case 3:Bg(s),Po();break;case 5:sg(s);break;case 1:Xt(s.type)&&Ru(s);break;case 4:ld(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;He(xu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(He(tt,tt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?$g(r,s,a):(He(tt,tt.current&1),r=Ur(r,s,a),r!==null?r.sibling:null);He(tt,tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Hg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Fg(r,s,a)}return Ur(r,s,a)}var Wg,Nd,Kg,Gg;Wg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Nd=function(){},Kg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Ts(hr.current);var m=null;switch(a){case"input":f=Ys(r,f),h=Ys(r,h),m=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),m=[];break;case"textarea":f=fa(r,f),h=fa(r,h),m=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Tu)}bn(a,h);var w;a=null;for($ in f)if(!h.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var A=f[$];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?m||(m=[]):(m=m||[]).push($,null));for($ in h){var k=h[$];if(A=f?.[$],h.hasOwnProperty($)&&k!==A&&(k!=null||A!=null))if($==="style")if(A){for(w in A)!A.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&A[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(m||(m=[]),m.push($,a)),a=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,A=A?A.__html:void 0,k!=null&&A!==k&&(m=m||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ge("scroll",r),m||A===k||(m=[])):(m=m||[]).push($,k))}a&&(m=m||[]).push("style",a);var $=m;(s.updateQueue=$)&&(s.flags|=4)}},Gg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Za(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function qI(r,s,a){var h=s.pendingProps;switch(Jh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Xt(s.type)&&Su(),Ut(s),null;case 3:return h=s.stateNode,Do(),Qe(Yt),Qe(Mt),hd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mn!==null&&(Bd(Mn),Mn=null))),Nd(r,s),Ut(s),null;case 5:ud(s);var f=Ts(Ga.current);if(a=s.type,r!==null&&s.stateNode!=null)Kg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=Ts(hr.current),ku(s)){h=s.stateNode,a=s.type;var m=s.memoizedProps;switch(h[cr]=s,h[$a]=m,r=(s.mode&1)!==0,a){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(f=0;f<ja.length;f++)Ge(ja[f],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":Kl(h,m),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!m.multiple},Ge("invalid",h);break;case"textarea":pa(h,m),Ge("invalid",h)}bn(a,m),f=null;for(var w in m)if(m.hasOwnProperty(w)){var A=m[w];w==="children"?typeof A=="string"?h.textContent!==A&&(m.suppressHydrationWarning!==!0&&Eu(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&Eu(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Ge("scroll",h)}switch(a){case"input":Qs(h),da(h,m,!0);break;case"textarea":Qs(h),ti(h);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(h.onclick=Tu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ma(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[cr]=s,r[$a]=h,Wg(r,s,!1,!1),s.stateNode=r;e:{switch(w=eo(a,h),a){case"dialog":Ge("cancel",r),Ge("close",r),f=h;break;case"iframe":case"object":case"embed":Ge("load",r),f=h;break;case"video":case"audio":for(f=0;f<ja.length;f++)Ge(ja[f],r);f=h;break;case"source":Ge("error",r),f=h;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),f=h;break;case"details":Ge("toggle",r),f=h;break;case"input":Kl(r,h),f=Ys(r,h),Ge("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Ge("invalid",r);break;case"textarea":pa(r,h),f=fa(r,h),Ge("invalid",r);break;default:f=h}bn(a,f),A=f;for(m in A)if(A.hasOwnProperty(m)){var k=A[m];m==="style"?Zs(r,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ql(r,k)):m==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&rs(r,k):typeof k=="number"&&rs(r,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?k!=null&&m==="onScroll"&&Ge("scroll",r):k!=null&&ee(r,m,k,w))}switch(a){case"input":Qs(r),da(r,h,!1);break;case"textarea":Qs(r),ti(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Le(h.value));break;case"select":r.multiple=!!h.multiple,m=h.value,m!=null?Dn(r,!!h.multiple,m,!1):h.defaultValue!=null&&Dn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Tu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Gg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ts(Ga.current),Ts(hr.current),ku(s)){if(h=s.stateNode,a=s.memoizedProps,h[cr]=s,(m=h.nodeValue!==a)&&(r=fn,r!==null))switch(r.tag){case 3:Eu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Eu(h.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[cr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Qe(tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&pn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xm(),Po(),s.flags|=98560,m=!1;else if(m=ku(s),h!==null&&h.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[cr]=s}else Po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),m=!1}else Mn!==null&&(Bd(Mn),Mn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(tt.current&1)!==0?wt===0&&(wt=3):qd())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return Do(),Nd(r,s),r===null&&Ba(s.stateNode.containerInfo),Ut(s),null;case 10:return id(s.type._context),Ut(s),null;case 17:return Xt(s.type)&&Su(),Ut(s),null;case 19:if(Qe(tt),m=s.memoizedState,m===null)return Ut(s),null;if(h=(s.flags&128)!==0,w=m.rendering,w===null)if(h)Za(m,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Vu(r),w!==null){for(s.flags|=128,Za(m,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)m=a,r=h,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,r=w.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return He(tt,tt.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ke()>Lo&&(s.flags|=128,h=!0,Za(m,!1),s.lanes=4194304)}else{if(!h)if(r=Vu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Za(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ze)return Ut(s),null}else 2*Ke()-m.renderingStartTime>Lo&&a!==1073741824&&(s.flags|=128,h=!0,Za(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(a=m.last,a!==null?a.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ke(),s.sibling=null,a=tt.current,He(tt,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return $d(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(mn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function HI(r,s){switch(Jh(s),s.tag){case 1:return Xt(s.type)&&Su(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Do(),Qe(Yt),Qe(Mt),hd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return ud(s),null;case 13:if(Qe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(tt),null;case 4:return Do(),null;case 10:return id(s.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var qu=!1,jt=!1,WI=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Oo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){st(r,s,h)}else a.current=null}function xd(r,s,a){try{a()}catch(h){st(r,s,h)}}var Qg=!1;function KI(r,s){if($h=Nr,r=Cm(),Vh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,m=h.focusNode;h=h.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,A=-1,k=-1,$=0,J=0,Z=r,X=null;t:for(;;){for(var oe;Z!==a||f!==0&&Z.nodeType!==3||(A=w+f),Z!==m||h!==0&&Z.nodeType!==3||(k=w+h),Z.nodeType===3&&(w+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)X=Z,Z=oe;for(;;){if(Z===r)break t;if(X===a&&++$===f&&(A=w),X===m&&++J===h&&(k=w),(oe=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=oe}a=A===-1||k===-1?null:{start:A,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(qh={focusedElem:r,selectionRange:a},Nr=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,ct=ce.memoizedState,F=s.stateNode,O=F.getSnapshotBeforeUpdate(s.elementType===s.type?he:Fn(s.type,he),ct);F.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=Qg,Qg=!1,ce}function el(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&xd(s,a,m)}f=f.next}while(f!==h)}}function Hu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Dd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Yg(r){var s=r.alternate;s!==null&&(r.alternate=null,Yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[cr],delete s[$a],delete s[Gh],delete s[kI],delete s[NI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xg(r){return r.tag===5||r.tag===3||r.tag===4}function Jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Tu));else if(h!==4&&(r=r.child,r!==null))for(bd(r,s,a),r=r.sibling;r!==null;)bd(r,s,a),r=r.sibling}function Od(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Od(r,s,a),r=r.sibling;r!==null;)Od(r,s,a),r=r.sibling}var Nt=null,Un=!1;function Ii(r,s,a){for(a=a.child;a!==null;)Zg(r,s,a),a=a.sibling}function Zg(r,s,a){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(ls,a)}catch{}switch(a.tag){case 5:jt||Oo(a,s);case 6:var h=Nt,f=Un;Nt=null,Ii(r,s,a),Nt=h,Un=f,Nt!==null&&(Un?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(Un?(r=Nt,a=a.stateNode,r.nodeType===8?Kh(r.parentNode,a):r.nodeType===1&&Kh(r,a),fi(r)):Kh(Nt,a.stateNode));break;case 4:h=Nt,f=Un,Nt=a.stateNode.containerInfo,Un=!0,Ii(r,s,a),Nt=h,Un=f;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&xd(a,s,w),f=f.next}while(f!==h)}Ii(r,s,a);break;case 1:if(!jt&&(Oo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){st(a,s,A)}Ii(r,s,a);break;case 21:Ii(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,Ii(r,s,a),jt=h):Ii(r,s,a);break;default:Ii(r,s,a)}}function ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new WI),s.forEach(function(h){var f=n0.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function jn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var m=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Nt=A.stateNode,Un=!1;break e;case 3:Nt=A.stateNode.containerInfo,Un=!0;break e;case 4:Nt=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(Nt===null)throw Error(t(160));Zg(m,w,f),Nt=null,Un=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch($){st(f,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ty(s,r),s=s.sibling}function ty(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(s,r),fr(r),h&4){try{el(3,r,r.return),Hu(3,r)}catch(he){st(r,r.return,he)}try{el(5,r,r.return)}catch(he){st(r,r.return,he)}}break;case 1:jn(s,r),fr(r),h&512&&a!==null&&Oo(a,a.return);break;case 5:if(jn(s,r),fr(r),h&512&&a!==null&&Oo(a,a.return),r.flags&32){var f=r.stateNode;try{rs(f,"")}catch(he){st(r,r.return,he)}}if(h&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,w=a!==null?a.memoizedProps:m,A=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&Xs(f,m),eo(A,w);var $=eo(A,m);for(w=0;w<k.length;w+=2){var J=k[w],Z=k[w+1];J==="style"?Zs(f,Z):J==="dangerouslySetInnerHTML"?Ql(f,Z):J==="children"?rs(f,Z):ee(f,J,Z,$)}switch(A){case"input":ns(f,m);break;case"textarea":Gl(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?Dn(f,!!m.multiple,oe,!1):X!==!!m.multiple&&(m.defaultValue!=null?Dn(f,!!m.multiple,m.defaultValue,!0):Dn(f,!!m.multiple,m.multiple?[]:"",!1))}f[$a]=m}catch(he){st(r,r.return,he)}}break;case 6:if(jn(s,r),fr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(he){st(r,r.return,he)}}break;case 3:if(jn(s,r),fr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{fi(s.containerInfo)}catch(he){st(r,r.return,he)}break;case 4:jn(s,r),fr(r);break;case 13:jn(s,r),fr(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Md=Ke())),h&4&&ey(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(jt=($=jt)||J,jn(s,r),jt=$):jn(s,r),fr(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!J&&(r.mode&1)!==0)for(ue=r,J=r.child;J!==null;){for(Z=ue=J;ue!==null;){switch(X=ue,oe=X.child,X.tag){case 0:case 11:case 14:case 15:el(4,X,X.return);break;case 1:Oo(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){st(h,a,he)}}break;case 5:Oo(X,X.return);break;case 22:if(X.memoizedState!==null){iy(Z);continue}}oe!==null?(oe.return=X,ue=oe):iy(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{f=Z.stateNode,$?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=Z.stateNode,k=Z.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,A.style.display=ii("display",w))}catch(he){st(r,r.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(he){st(r,r.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:jn(s,r),fr(r),h&4&&ey(r);break;case 21:break;default:jn(s,r),fr(r)}}function fr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Xg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(rs(f,""),h.flags&=-33);var m=Jg(r);Od(r,m,f);break;case 3:case 4:var w=h.stateNode.containerInfo,A=Jg(r);bd(r,A,w);break;default:throw Error(t(161))}}catch(k){st(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function GI(r,s,a){ue=r,ny(r)}function ny(r,s,a){for(var h=(r.mode&1)!==0;ue!==null;){var f=ue,m=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||qu;if(!w){var A=f.alternate,k=A!==null&&A.memoizedState!==null||jt;A=qu;var $=jt;if(qu=w,(jt=k)&&!$)for(ue=f;ue!==null;)w=ue,k=w.child,w.tag===22&&w.memoizedState!==null?sy(f):k!==null?(k.return=w,ue=k):sy(f);for(;m!==null;)ue=m,ny(m),m=m.sibling;ue=f,qu=A,jt=$}ry(r)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,ue=m):ry(r)}}function ry(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||Hu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Fn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&ig(s,m,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ig(s,w,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&fi(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Dd(s)}catch(X){st(s,s.return,X)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function iy(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function sy(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Hu(4,s)}catch(k){st(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(k){st(s,f,k)}}var m=s.return;try{Dd(s)}catch(k){st(s,m,k)}break;case 5:var w=s.return;try{Dd(s)}catch(k){st(s,w,k)}}}catch(k){st(s,s.return,k)}if(s===r){ue=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ue=A;break}ue=s.return}}var QI=Math.ceil,Wu=ie.ReactCurrentDispatcher,Vd=ie.ReactCurrentOwner,An=ie.ReactCurrentBatchConfig,Me=0,Rt=null,mt=null,xt=0,mn=0,Vo=_i(0),wt=0,tl=null,Ss=0,Ku=0,Ld=0,nl=null,Zt=null,Md=0,Lo=1/0,jr=null,Gu=!1,Fd=null,Si=null,Qu=!1,Ri=null,Yu=0,rl=0,Ud=null,Xu=-1,Ju=0;function Kt(){return(Me&6)!==0?Ke():Xu!==-1?Xu:Xu=Ke()}function Ai(r){return(r.mode&1)===0?1:(Me&2)!==0&&xt!==0?xt&-xt:DI.transition!==null?(Ju===0&&(Ju=Sa()),Ju):(r=Oe,r!==0||(r=window.event,r=r===void 0?16:co(r.type)),r)}function Bn(r,s,a,h){if(50<rl)throw rl=0,Ud=null,Error(t(185));ds(r,a,h),((Me&2)===0||r!==Rt)&&(r===Rt&&((Me&2)===0&&(Ku|=a),wt===4&&Ci(r,xt)),en(r,h),a===1&&Me===0&&(s.mode&1)===0&&(Lo=Ke()+500,Au&&wi()))}function en(r,s){var a=r.callbackNode;hs(r,s);var h=Cr(r,r===Rt?xt:0);if(h===0)a!==null&&ro(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ro(a),s===1)r.tag===0?xI(ay.bind(null,r)):Wm(ay.bind(null,r)),CI(function(){(Me&6)===0&&wi()}),a=null;else{switch(er(h)){case 1:a=io;break;case 4:a=Ea;break;case 16:a=as;break;case 536870912:a=so;break;default:a=as}a=my(a,oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function oy(r,s){if(Xu=-1,Ju=0,(Me&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Mo()&&r.callbackNode!==a)return null;var h=Cr(r,r===Rt?xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Zu(r,h);else{s=h;var f=Me;Me|=2;var m=uy();(Rt!==r||xt!==s)&&(jr=null,Lo=Ke()+500,As(r,s));do try{JI();break}catch(A){ly(r,A)}while(!0);rd(),Wu.current=m,Me=f,mt!==null?s=0:(Rt=null,xt=0,s=wt)}if(s!==0){if(s===2&&(f=Ia(r),f!==0&&(h=f,s=jd(r,f))),s===1)throw a=tl,As(r,0),Ci(r,h),en(r,Ke()),a;if(s===6)Ci(r,h);else{if(f=r.current.alternate,(h&30)===0&&!YI(f)&&(s=Zu(r,h),s===2&&(m=Ia(r),m!==0&&(h=m,s=jd(r,m))),s===1))throw a=tl,As(r,0),Ci(r,h),en(r,Ke()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Cs(r,Zt,jr);break;case 3:if(Ci(r,h),(h&130023424)===h&&(s=Md+500-Ke(),10<s)){if(Cr(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Wh(Cs.bind(null,r,Zt,jr),s);break}Cs(r,Zt,jr);break;case 4:if(Ci(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-ln(h);m=1<<w,w=s[w],w>f&&(f=w),h&=~m}if(h=f,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*QI(h/1960))-h,10<h){r.timeoutHandle=Wh(Cs.bind(null,r,Zt,jr),h);break}Cs(r,Zt,jr);break;case 5:Cs(r,Zt,jr);break;default:throw Error(t(329))}}}return en(r,Ke()),r.callbackNode===a?oy.bind(null,r):null}function jd(r,s){var a=nl;return r.current.memoizedState.isDehydrated&&(As(r,s).flags|=256),r=Zu(r,s),r!==2&&(s=Zt,Zt=a,s!==null&&Bd(s)),r}function Bd(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function YI(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],m=f.getSnapshot;f=f.value;try{if(!Ln(m(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(r,s){for(s&=~Ld,s&=~Ku,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-ln(s),h=1<<a;r[a]=-1,s&=~h}}function ay(r){if((Me&6)!==0)throw Error(t(327));Mo();var s=Cr(r,0);if((s&1)===0)return en(r,Ke()),null;var a=Zu(r,s);if(r.tag!==0&&a===2){var h=Ia(r);h!==0&&(s=h,a=jd(r,h))}if(a===1)throw a=tl,As(r,0),Ci(r,s),en(r,Ke()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Cs(r,Zt,jr),en(r,Ke()),null}function zd(r,s){var a=Me;Me|=1;try{return r(s)}finally{Me=a,Me===0&&(Lo=Ke()+500,Au&&wi())}}function Rs(r){Ri!==null&&Ri.tag===0&&(Me&6)===0&&Mo();var s=Me;Me|=1;var a=An.transition,h=Oe;try{if(An.transition=null,Oe=1,r)return r()}finally{Oe=h,An.transition=a,Me=s,(Me&6)===0&&wi()}}function $d(){mn=Vo.current,Qe(Vo)}function As(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,AI(a)),mt!==null)for(a=mt.return;a!==null;){var h=a;switch(Jh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Su();break;case 3:Do(),Qe(Yt),Qe(Mt),hd();break;case 5:ud(h);break;case 4:Do();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:id(h.type._context);break;case 22:case 23:$d()}a=a.return}if(Rt=r,mt=r=Pi(r.current,null),xt=mn=s,wt=0,tl=null,Ld=Ku=Ss=0,Zt=nl=null,Es!==null){for(s=0;s<Es.length;s++)if(a=Es[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,m=a.pending;if(m!==null){var w=m.next;m.next=f,h.next=w}a.pending=h}Es=null}return r}function ly(r,s){do{var a=mt;try{if(rd(),Lu.current=ju,Mu){for(var h=nt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Mu=!1}if(Is=0,St=vt=nt=null,Qa=!1,Ya=0,Vd.current=null,a===null||a.return===null){wt=1,tl=s,mt=null;break}e:{var m=r,w=a.return,A=a,k=s;if(s=xt,A.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,J=A,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=bg(w);if(oe!==null){oe.flags&=-257,Og(oe,w,A,m,s),oe.mode&1&&Dg(m,$,s),s=oe,k=$;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(k),s.updateQueue=he}else ce.add(k);break e}else{if((s&1)===0){Dg(m,$,s),qd();break e}k=Error(t(426))}}else if(Ze&&A.mode&1){var ct=bg(w);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Og(ct,w,A,m,s),td(bo(k,A));break e}}m=k=bo(k,A),wt!==4&&(wt=2),nl===null?nl=[m]:nl.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var F=Ng(m,k,s);rg(m,F);break e;case 1:A=k;var O=m.type,j=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Si===null||!Si.has(j)))){m.flags|=65536,s&=-s,m.lanes|=s;var te=xg(m,A,s);rg(m,te);break e}}m=m.return}while(m!==null)}hy(a)}catch(de){s=de,mt===a&&a!==null&&(mt=a=a.return);continue}break}while(!0)}function uy(){var r=Wu.current;return Wu.current=ju,r===null?ju:r}function qd(){(wt===0||wt===3||wt===2)&&(wt=4),Rt===null||(Ss&268435455)===0&&(Ku&268435455)===0||Ci(Rt,xt)}function Zu(r,s){var a=Me;Me|=2;var h=uy();(Rt!==r||xt!==s)&&(jr=null,As(r,s));do try{XI();break}catch(f){ly(r,f)}while(!0);if(rd(),Me=a,Wu.current=h,mt!==null)throw Error(t(261));return Rt=null,xt=0,wt}function XI(){for(;mt!==null;)cy(mt)}function JI(){for(;mt!==null&&!os();)cy(mt)}function cy(r){var s=py(r.alternate,r,mn);r.memoizedProps=r.pendingProps,s===null?hy(r):mt=s,Vd.current=null}function hy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=qI(a,s,mn),a!==null){mt=a;return}}else{if(a=HI(a,s),a!==null){a.flags&=32767,mt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);wt===0&&(wt=5)}function Cs(r,s,a){var h=Oe,f=An.transition;try{An.transition=null,Oe=1,ZI(r,s,a,h)}finally{An.transition=f,Oe=h}return null}function ZI(r,s,a,h){do Mo();while(Ri!==null);if((Me&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(Nh(r,m),r===Rt&&(mt=Rt=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Qu||(Qu=!0,my(as,function(){return Mo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=An.transition,An.transition=null;var w=Oe;Oe=1;var A=Me;Me|=4,Vd.current=null,KI(r,a),ty(a,r),vI(qh),Nr=!!$h,qh=$h=null,r.current=a,GI(a),Ar(),Me=A,Oe=w,An.transition=m}else r.current=a;if(Qu&&(Qu=!1,Ri=r,Yu=f),m=r.pendingLanes,m===0&&(Si=null),ou(a.stateNode),en(r,Ke()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Gu)throw Gu=!1,r=Fd,Fd=null,r;return(Yu&1)!==0&&r.tag!==0&&Mo(),m=r.pendingLanes,(m&1)!==0?r===Ud?rl++:(rl=0,Ud=r):rl=0,wi(),null}function Mo(){if(Ri!==null){var r=er(Yu),s=An.transition,a=Oe;try{if(An.transition=null,Oe=16>r?16:r,Ri===null)var h=!1;else{if(r=Ri,Ri=null,Yu=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ue=r.current;ue!==null;){var m=ue,w=m.child;if((ue.flags&16)!==0){var A=m.deletions;if(A!==null){for(var k=0;k<A.length;k++){var $=A[k];for(ue=$;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:el(8,J,m)}var Z=J.child;if(Z!==null)Z.return=J,ue=Z;else for(;ue!==null;){J=ue;var X=J.sibling,oe=J.return;if(Yg(J),J===$){ue=null;break}if(X!==null){X.return=oe,ue=X;break}ue=oe}}}var ce=m.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var ct=he.sibling;he.sibling=null,he=ct}while(he!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,ue=w;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:el(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,ue=F;break e}ue=m.return}}var O=r.current;for(ue=O;ue!==null;){w=ue;var j=w.child;if((w.subtreeFlags&2064)!==0&&j!==null)j.return=w,ue=j;else e:for(w=O;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Hu(9,A)}}catch(de){st(A,A.return,de)}if(A===w){ue=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,ue=te;break e}ue=A.return}}if(Me=f,wi(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(ls,r)}catch{}h=!0}return h}finally{Oe=a,An.transition=s}}return!1}function dy(r,s,a){s=bo(a,s),s=Ng(r,s,1),r=Ti(r,s,1),s=Kt(),r!==null&&(ds(r,1,s),en(r,s))}function st(r,s,a){if(r.tag===3)dy(r,r,a);else for(;s!==null;){if(s.tag===3){dy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Si===null||!Si.has(h))){r=bo(a,r),r=xg(s,r,1),s=Ti(s,r,1),r=Kt(),s!==null&&(ds(s,1,r),en(s,r));break}}s=s.return}}function e0(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&a,Rt===r&&(xt&a)===a&&(wt===4||wt===3&&(xt&130023424)===xt&&500>Ke()-Md?As(r,0):Ld|=a),en(r,s)}function fy(r,s){s===0&&((r.mode&1)===0?s=1:(s=ci,ci<<=1,(ci&130023424)===0&&(ci=4194304)));var a=Kt();r=Mr(r,s),r!==null&&(ds(r,s,a),en(r,a))}function t0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),fy(r,a)}function n0(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),fy(r,a)}var py;py=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Yt.current)Jt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Jt=!1,$I(r,s,a);Jt=(r.flags&131072)!==0}else Jt=!1,Ze&&(s.flags&1048576)!==0&&Km(s,Pu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;$u(r,s),r=s.pendingProps;var f=Ro(s,Mt.current);xo(s,a),f=pd(null,s,h,r,f,a);var m=md();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(h)?(m=!0,Ru(s)):m=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ad(s),f.updater=Bu,s.stateNode=f,f._reactInternals=s,Ed(s,h,r,a),s=Rd(null,s,h,!0,m,a)):(s.tag=0,Ze&&m&&Xh(s),Wt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch($u(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=i0(h),r=Fn(h,r),f){case 0:s=Sd(null,s,h,r,a);break e;case 1:s=jg(null,s,h,r,a);break e;case 11:s=Vg(null,s,h,r,a);break e;case 14:s=Lg(null,s,h,Fn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),Sd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),jg(r,s,h,f,a);case 3:e:{if(Bg(s),r===null)throw Error(t(387));h=s.pendingProps,m=s.memoizedState,f=m.element,ng(r,s),Ou(s,h,null,a);var w=s.memoizedState;if(h=w.element,m.isDehydrated)if(m={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){f=bo(Error(t(423)),s),s=zg(r,s,h,a,f);break e}else if(h!==f){f=bo(Error(t(424)),s),s=zg(r,s,h,a,f);break e}else for(pn=yi(s.stateNode.containerInfo.firstChild),fn=s,Ze=!0,Mn=null,a=eg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Po(),h===f){s=Ur(r,s,a);break e}Wt(r,s,h,a)}s=s.child}return s;case 5:return sg(s),r===null&&ed(s),h=s.type,f=s.pendingProps,m=r!==null?r.memoizedProps:null,w=f.children,Hh(h,f)?w=null:m!==null&&Hh(h,m)&&(s.flags|=32),Ug(r,s),Wt(r,s,w,a),s.child;case 6:return r===null&&ed(s),null;case 13:return $g(r,s,a);case 4:return ld(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ko(s,null,h,a):Wt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),Vg(r,s,h,f,a);case 7:return Wt(r,s,s.pendingProps,a),s.child;case 8:return Wt(r,s,s.pendingProps.children,a),s.child;case 12:return Wt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,m=s.memoizedProps,w=f.value,He(xu,h._currentValue),h._currentValue=w,m!==null)if(Ln(m.value,w)){if(m.children===f.children&&!Yt.current){s=Ur(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var A=m.dependencies;if(A!==null){w=m.child;for(var k=A.firstContext;k!==null;){if(k.context===h){if(m.tag===1){k=Fr(-1,a&-a),k.tag=2;var $=m.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?k.next=k:(k.next=J.next,J.next=k),$.pending=k}}m.lanes|=a,k=m.alternate,k!==null&&(k.lanes|=a),sd(m.return,a,s),A.lanes|=a;break}k=k.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),sd(w,a,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Wt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,xo(s,a),f=Sn(f),h=h(f),s.flags|=1,Wt(r,s,h,a),s.child;case 14:return h=s.type,f=Fn(h,s.pendingProps),f=Fn(h.type,f),Lg(r,s,h,f,a);case 15:return Mg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),$u(r,s),s.tag=1,Xt(h)?(r=!0,Ru(s)):r=!1,xo(s,a),Pg(s,h,f),Ed(s,h,f,a),Rd(null,s,h,!0,r,a);case 19:return Hg(r,s,a);case 22:return Fg(r,s,a)}throw Error(t(156,s.tag))};function my(r,s){return wa(r,s)}function r0(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,a,h){return new r0(r,s,a,h)}function Hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function i0(r){if(typeof r=="function")return Hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===P)return 11;if(r===It)return 14}return 2}function Pi(r,s){var a=r.alternate;return a===null?(a=Cn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ec(r,s,a,h,f,m){var w=2;if(h=r,typeof r=="function")Hd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return Ps(a.children,f,m,s);case R:w=8,f|=8;break;case C:return r=Cn(12,a,s,f|2),r.elementType=C,r.lanes=m,r;case S:return r=Cn(13,a,s,f),r.elementType=S,r.lanes=m,r;case Ce:return r=Cn(19,a,s,f),r.elementType=Ce,r.lanes=m,r;case Je:return tc(a,f,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case D:w=9;break e;case P:w=11;break e;case It:w=14;break e;case Vt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=m,s}function Ps(r,s,a,h){return r=Cn(7,r,h,s),r.lanes=a,r}function tc(r,s,a,h){return r=Cn(22,r,h,s),r.elementType=Je,r.lanes=a,r.stateNode={isHidden:!1},r}function Wd(r,s,a){return r=Cn(6,r,null,s),r.lanes=a,r}function Kd(r,s,a){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function s0(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Gd(r,s,a,h,f,m,w,A,k){return r=new s0(r,s,a,A,k),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Cn(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(m),r}function o0(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function gy(r){if(!r)return vi;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Xt(a))return qm(r,a,s)}return s}function yy(r,s,a,h,f,m,w,A,k){return r=Gd(a,h,!0,r,f,m,w,A,k),r.context=gy(null),a=r.current,h=Kt(),f=Ai(a),m=Fr(h,f),m.callback=s??null,Ti(a,m,f),r.current.lanes=f,ds(r,f,h),en(r,h),r}function nc(r,s,a,h){var f=s.current,m=Kt(),w=Ai(f);return a=gy(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(m,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Ti(f,s,w),r!==null&&(Bn(r,f,w,m),bu(r,f,w)),w}function rc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function _y(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Qd(r,s){_y(r,s),(r=r.alternate)&&_y(r,s)}function a0(){return null}var vy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Yd(r){this._internalRoot=r}ic.prototype.render=Yd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));nc(r,s,null,null)},ic.prototype.unmount=Yd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Rs(function(){nc(null,r,null,null)}),s[br]=null}};function ic(r){this._internalRoot=r}ic.prototype.unstable_scheduleHydration=function(r){if(r){var s=ka();r={blockedOn:null,target:r,priority:s};for(var a=0;a<un.length&&s!==0&&s<un[a].priority;a++);un.splice(a,0,r),a===0&&lo(r)}};function Xd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wy(){}function l0(r,s,a,h,f){if(f){if(typeof h=="function"){var m=h;h=function(){var $=rc(w);m.call($)}}var w=yy(s,h,r,0,null,!1,!1,"",wy);return r._reactRootContainer=w,r[br]=w.current,Ba(r.nodeType===8?r.parentNode:r),Rs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var $=rc(k);A.call($)}}var k=Gd(r,0,!1,null,null,!1,!1,"",wy);return r._reactRootContainer=k,r[br]=k.current,Ba(r.nodeType===8?r.parentNode:r),Rs(function(){nc(s,k,a,h)}),k}function oc(r,s,a,h,f){var m=a._reactRootContainer;if(m){var w=m;if(typeof f=="function"){var A=f;f=function(){var k=rc(w);A.call(k)}}nc(s,w,r,f)}else w=l0(a,s,r,f,h);return rc(w)}Ca=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ue(s.pendingLanes);a!==0&&(Aa(s,a|1),en(s,Ke()),(Me&6)===0&&(Lo=Ke()+500,wi()))}break;case 13:Rs(function(){var h=Mr(r,1);if(h!==null){var f=Kt();Bn(h,r,1,f)}}),Qd(r,1)}},oo=function(r){if(r.tag===13){var s=Mr(r,134217728);if(s!==null){var a=Kt();Bn(s,r,134217728,a)}Qd(r,134217728)}},Pa=function(r){if(r.tag===13){var s=Ai(r),a=Mr(r,s);if(a!==null){var h=Kt();Bn(a,r,s,h)}Qd(r,s)}},ka=function(){return Oe},Na=function(r,s){var a=Oe;try{return Oe=r,s()}finally{Oe=a}},Ir=function(r,s,a){switch(s){case"input":if(ns(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Iu(h);if(!f)throw Error(t(90));ha(h),ns(h,f)}}}break;case"textarea":Gl(r,a);break;case"select":s=a.value,s!=null&&Dn(r,!!a.multiple,s,!1)}},Xl=zd,Jl=Rs;var u0={usingClientEntryPoint:!1,Events:[qa,Io,Iu,oi,ai,zd]},il={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c0={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=su(r),r===null?null:r.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||a0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{ls=ac.inject(c0),an=ac}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0,tn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xd(s))throw Error(t(200));return o0(r,s,null,a)},tn.createRoot=function(r,s){if(!Xd(r))throw Error(t(299));var a=!1,h="",f=vy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Gd(r,1,!1,null,null,a,!1,h,f),r[br]=s.current,Ba(r.nodeType===8?r.parentNode:r),new Yd(s)},tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=su(s),r=r===null?null:r.stateNode,r},tn.flushSync=function(r){return Rs(r)},tn.hydrate=function(r,s,a){if(!sc(s))throw Error(t(200));return oc(null,r,s,!0,a)},tn.hydrateRoot=function(r,s,a){if(!Xd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,m="",w=vy;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=yy(s,null,r,1,a??null,f,!1,m,w),r[br]=s.current,Ba(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new ic(s)},tn.render=function(r,s,a){if(!sc(s))throw Error(t(200));return oc(null,r,s,!1,a)},tn.unmountComponentAtNode=function(r){if(!sc(r))throw Error(t(40));return r._reactRootContainer?(Rs(function(){oc(null,null,r,!1,function(){r._reactRootContainer=null,r[br]=null})}),!0):!1},tn.unstable_batchedUpdates=zd,tn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!sc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return oc(r,s,a,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Py;function v0(){if(Py)return ef.exports;Py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ef.exports=_0(),ef.exports}var ky;function w0(){if(ky)return lc;ky=1;var n=v0();return lc.createRoot=n.createRoot,lc.hydrateRoot=n.hydrateRoot,lc}var E0=w0();const T0=Cv(E0);var Ny="popstate";function I0(n={}){function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return If("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Tl(o)}return R0(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S0(){return Math.random().toString(36).substring(2,10)}function xy(n,e){return{usr:n.state,key:n.key,idx:e}}function If(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||i||S0()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function R0(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let L=v(),Q=L==null?null:L-y;y=L,p&&p({action:d,location:H.location,delta:Q})}function I(L,Q){d="PUSH";let W=If(H.location,L,Q);y=v()+1;let ee=xy(W,y),ie=H.createHref(W);try{c.pushState(ee,"",ie)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(ie)}l&&p&&p({action:d,location:H.location,delta:1})}function V(L,Q){d="REPLACE";let W=If(H.location,L,Q);y=v();let ee=xy(W,y),ie=H.createHref(W);c.replaceState(ee,"",ie),l&&p&&p({action:d,location:H.location,delta:0})}function z(L){return A0(L)}let H={get action(){return d},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ny,E),p=L,()=>{o.removeEventListener(Ny,E),p=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let Q=z(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:V,go(L){return c.go(L)}};return H}function A0(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Tl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Pv(n,e,t="/"){return C0(n,e,t,!1)}function C0(n,e,t,i){let o=typeof e=="string"?na(e):e,l=Gr(o.pathname||"/",t);if(l==null)return null;let c=kv(n);P0(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=U0(l);d=M0(c[p],y,i)}return d}function kv(n,e=[],t=[],i="",o=!1){let l=(c,d,p=o,y)=>{let v={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;et(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=Hr([i,v.relativePath]),I=t.concat(v);c.children&&c.children.length>0&&(et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),kv(c.children,e,I,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:V0(E,c.index),routesMeta:I})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of Nv(c.path))l(c,d,!0,p)}),e}function Nv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Nv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function P0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:L0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var k0=/^:[\w-]+$/,N0=3,x0=2,D0=1,b0=10,O0=-2,Dy=n=>n==="*";function V0(n,e){let t=n.split("/"),i=t.length;return t.some(Dy)&&(i+=O0),e&&(i+=x0),t.filter(o=>!Dy(o)).reduce((o,l)=>o+(k0.test(l)?N0:l===""?D0:b0),i)}function L0(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function M0(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),I=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=Dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Hr([l,E.pathname]),pathnameBase:$0(Hr([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=Hr([l,E.pathnameBase]))}return c}function Dc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=F0(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:E},I)=>{if(v==="*"){let z=d[I]||"";c=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const V=d[I];return E&&!V?y[v]=void 0:y[v]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function F0(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function U0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function j0(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?na(n):n;return{pathname:t?t.startsWith("/")?t:B0(t,e):e,search:q0(i),hash:H0(o)}}function B0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function np(n){let e=z0(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rp(n,e,t,i=!1){let o;typeof n=="string"?o=na(n):(o={...n},et(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let p=j0(o,d),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Hr=n=>n.join("/").replace(/\/\/+/g,"/"),$0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),q0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,H0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function W0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xv=["POST","PUT","PATCH","DELETE"];new Set(xv);var K0=["GET",...xv];new Set(K0);var ra=B.createContext(null);ra.displayName="DataRouter";var eh=B.createContext(null);eh.displayName="DataRouterState";B.createContext(!1);var Dv=B.createContext({isTransitioning:!1});Dv.displayName="ViewTransition";var G0=B.createContext(new Map);G0.displayName="Fetchers";var Q0=B.createContext(null);Q0.displayName="Await";var Gn=B.createContext(null);Gn.displayName="Navigation";var bl=B.createContext(null);bl.displayName="Location";var Qn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var ip=B.createContext(null);ip.displayName="RouteError";function Y0(n,{relative:e}={}){et(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Gn),{hash:o,pathname:l,search:c}=Ol(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Hr([t,l])),i.createHref({pathname:d,search:c,hash:o})}function ia(){return B.useContext(bl)!=null}function Zr(){return et(ia(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(bl).location}var bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(n){B.useContext(Gn).static||B.useLayoutEffect(n)}function Qi(){let{isDataRoute:n}=B.useContext(Qn);return n?uS():X0()}function X0(){et(ia(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(ra),{basename:e,navigator:t}=B.useContext(Gn),{matches:i}=B.useContext(Qn),{pathname:o}=Zr(),l=JSON.stringify(np(i)),c=B.useRef(!1);return Ov(()=>{c.current=!0}),B.useCallback((p,y={})=>{if($n(c.current,bv),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=rp(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,n])}B.createContext(null);function Vv(){let{matches:n}=B.useContext(Qn),e=n[n.length-1];return e?e.params:{}}function Ol(n,{relative:e}={}){let{matches:t}=B.useContext(Qn),{pathname:i}=Zr(),o=JSON.stringify(np(t));return B.useMemo(()=>rp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function J0(n,e){return Lv(n,e)}function Lv(n,e,t,i,o){et(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Gn),{matches:c}=B.useContext(Qn),d=c[c.length-1],p=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let W=E&&E.path||"";Mv(y,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=Zr(),V;if(e){let W=typeof e=="string"?na(e):e;et(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),V=W}else V=I;let z=V.pathname||"/",H=z;if(v!=="/"){let W=v.replace(/^\//,"").split("/");H="/"+z.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=Pv(n,{pathname:H});$n(E||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),$n(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=rS(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Hr([v,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Hr([v,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),c,t,i,o);return e&&Q?B.createElement(bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Q):Q}function Z0(){let n=lS(),e=W0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,c)}var eS=B.createElement(Z0,null),tS=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?B.createElement(Qn.Provider,{value:this.props.routeContext},B.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nS({routeContext:n,match:e,children:t}){let i=B.useContext(ra);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Qn.Provider,{value:n},t)}function rS(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:I}=t,V=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||V){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,v,E)=>{let I,V=!1,z=null,H=null;t&&(I=c&&v.route.id?c[v.route.id]:void 0,z=v.route.errorElement||eS,d&&(p<0&&E===0?(Mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,H=null):p===E&&(V=!0,H=v.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,E+1)),Q=()=>{let W;return I?W=z:V?W=H:v.route.Component?W=B.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=y,B.createElement(nS,{match:v,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?B.createElement(tS,{location:t.location,revalidation:t.revalidation,component:z,error:I,children:Q(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:i}):Q()},null)}function sp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iS(n){let e=B.useContext(ra);return et(e,sp(n)),e}function sS(n){let e=B.useContext(eh);return et(e,sp(n)),e}function oS(n){let e=B.useContext(Qn);return et(e,sp(n)),e}function op(n){let e=oS(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aS(){return op("useRouteId")}function lS(){let n=B.useContext(ip),e=sS("useRouteError"),t=op("useRouteError");return n!==void 0?n:e.errors?.[t]}function uS(){let{router:n}=iS("useNavigate"),e=op("useNavigate"),t=B.useRef(!1);return Ov(()=>{t.current=!0}),B.useCallback(async(o,l={})=>{$n(t.current,bv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var by={};function Mv(n,e,t){!e&&!by[n]&&(by[n]=!0,$n(!1,t))}B.memo(cS);function cS({routes:n,future:e,state:t,unstable_onError:i}){return Lv(n,void 0,t,i,e)}function Oy({to:n,replace:e,state:t,relative:i}){et(ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Gn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Qn),{pathname:c}=Zr(),d=Qi(),p=rp(n,np(l),c,i==="path"),y=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:i})},[d,y,i,e,t]),null}function Br(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){et(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=na(t));let{pathname:p="/",search:y="",hash:v="",state:E=null,key:I="default"}=t,V=B.useMemo(()=>{let z=Gr(p,c);return z==null?null:{location:{pathname:z,search:y,hash:v,state:E,key:I},navigationType:i}},[c,p,y,v,E,I,i]);return $n(V!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:B.createElement(Gn.Provider,{value:d},B.createElement(bl.Provider,{children:e,value:V}))}function dS({children:n,location:e}){return J0(Sf(n),e)}function Sf(n,e=[]){let t=[];return B.Children.forEach(n,(i,o)=>{if(!B.isValidElement(i))return;let l=[...e,o];if(i.type===B.Fragment){t.push.apply(t,Sf(i.props.children,l));return}et(i.type===Br,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Sf(i.props.children,l)),t.push(c)}),t}var vc="get",wc="application/x-www-form-urlencoded";function th(n){return n!=null&&typeof n.tagName=="string"}function fS(n){return th(n)&&n.tagName.toLowerCase()==="button"}function pS(n){return th(n)&&n.tagName.toLowerCase()==="form"}function mS(n){return th(n)&&n.tagName.toLowerCase()==="input"}function gS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yS(n,e){return n.button===0&&(!e||e==="_self")&&!gS(n)}var uc=null;function _S(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var vS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(n){return n!=null&&!vS.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):n}function wS(n,e){let t,i,o,l,c;if(pS(n)){let d=n.getAttribute("action");i=d?Gr(d,e):null,t=n.getAttribute("method")||vc,o=sf(n.getAttribute("enctype"))||wc,l=new FormData(n)}else if(fS(n)||mS(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Gr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||vc,o=sf(n.getAttribute("formenctype"))||sf(d.getAttribute("enctype"))||wc,l=new FormData(d,n),!_S()){let{name:y,type:v,value:E}=n;if(v==="image"){let I=y?`${y}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else y&&l.append(y,E)}}else{if(th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vc,i=null,o=wc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ES(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Gr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function TS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SS(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await TS(l,t);return c.links?c.links():[]}return[]}));return PS(i.flat(1).filter(IS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vy(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function RS(n,e,{includeHydrateFallback:t}={}){return AS(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function AS(n){return[...new Set(n)]}function CS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function PS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(CS(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function Fv(){let n=B.useContext(ra);return ap(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kS(){let n=B.useContext(eh);return ap(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lp=B.createContext(void 0);lp.displayName="FrameworkContext";function Uv(){let n=B.useContext(lp);return ap(n,"You must render this element inside a <HydratedRouter> element"),n}function NS(n,e){let t=B.useContext(lp),[i,o]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:E}=e,I=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let H=Q=>{Q.forEach(W=>{c(W.isIntersecting)})},L=new IntersectionObserver(H,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[n]),B.useEffect(()=>{if(i){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[i]);let V=()=>{o(!0)},z=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:ol(d,V),onBlur:ol(p,z),onMouseEnter:ol(y,V),onMouseLeave:ol(v,z),onTouchStart:ol(E,V)}]:[!1,I,{}]}function ol(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xS({page:n,...e}){let{router:t}=Fv(),i=B.useMemo(()=>Pv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(bS,{page:n,matches:i,...e}):null}function DS(n){let{manifest:e,routeModules:t}=Uv(),[i,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return SS(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function bS({page:n,matches:e,...t}){let i=Zr(),{manifest:o,routeModules:l}=Uv(),{basename:c}=Fv(),{loaderData:d,matches:p}=kS(),y=B.useMemo(()=>Vy(n,e,p,o,i,"data"),[n,e,p,o,i]),v=B.useMemo(()=>Vy(n,e,p,o,i,"assets"),[n,e,p,o,i]),E=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let z=new Set,H=!1;if(e.forEach(Q=>{let W=o.routes[Q.route.id];!W||!W.hasLoader||(!y.some(ee=>ee.route.id===Q.route.id)&&Q.route.id in d&&l[Q.route.id]?.shouldRevalidate||W.hasClientLoader?H=!0:z.add(Q.route.id))}),z.size===0)return[];let L=ES(n,c,"data");return H&&z.size>0&&L.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[L.pathname+L.search]},[c,d,i,o,y,e,n,l]),I=B.useMemo(()=>RS(v,o),[v,o]),V=DS(v);return B.createElement(B.Fragment,null,E.map(z=>B.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),I.map(z=>B.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),V.map(({key:z,link:H})=>B.createElement("link",{key:z,nonce:t.nonce,...H})))}function OS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jv&&(window.__reactRouterVersion="7.9.5")}catch{}function VS({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=I0({window:t,v5Compat:!0}));let o=i.current,[l,c]=B.useState({action:o.action,location:o.location}),d=B.useCallback(p=>{B.startTransition(()=>c(p))},[c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(hS,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var Bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xi=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:v,viewTransition:E,...I},V){let{basename:z}=B.useContext(Gn),H=typeof y=="string"&&Bv.test(y),L,Q=!1;if(typeof y=="string"&&H&&(L=y,jv))try{let C=new URL(window.location.href),b=y.startsWith("//")?new URL(C.protocol+y):new URL(y),D=Gr(b.pathname,z);b.origin===C.origin&&D!=null?y=D+b.search+b.hash:Q=!0}catch{$n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Y0(y,{relative:o}),[ee,ie,ye]=NS(i,I),_e=US(y,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:E});function x(C){e&&e(C),C.defaultPrevented||_e(C)}let R=B.createElement("a",{...I,...ye,href:L||W,onClick:Q||l?e:x,ref:OS(V,ie),target:p,"data-discover":!H&&t==="render"?"true":void 0});return ee&&!H?B.createElement(B.Fragment,null,R,B.createElement(xS,{page:W})):R});xi.displayName="Link";var LS=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...y},v){let E=Ol(c,{relative:y.relative}),I=Zr(),V=B.useContext(eh),{navigator:z,basename:H}=B.useContext(Gn),L=V!=null&&qS(E)&&d===!0,Q=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,W=I.pathname,ee=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(W=W.toLowerCase(),ee=ee?ee.toLowerCase():null,Q=Q.toLowerCase()),ee&&H&&(ee=Gr(ee,H)||ee);const ie=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ye=W===Q||!o&&W.startsWith(Q)&&W.charAt(ie)==="/",_e=ee!=null&&(ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(Q.length)==="/"),x={isActive:ye,isPending:_e,isTransitioning:L},R=ye?e:void 0,C;typeof i=="function"?C=i(x):C=[i,ye?"active":null,_e?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(x):l;return B.createElement(xi,{...y,"aria-current":R,className:C,ref:v,style:b,to:c,viewTransition:d},typeof p=="function"?p(x):p)});LS.displayName="NavLink";var MS=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=vc,action:d,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:E,...I},V)=>{let z=zS(),H=$S(d,{relative:y}),L=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&Bv.test(d),W=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ie=ee.nativeEvent.submitter,ye=ie?.getAttribute("formmethod")||c;z(ie||ee.currentTarget,{fetcherKey:e,method:ye,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:E})};return B.createElement("form",{ref:V,method:L,action:H,onSubmit:i?p:W,...I,"data-discover":!Q&&n==="render"?"true":void 0})});MS.displayName="Form";function FS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zv(n){let e=B.useContext(ra);return et(e,FS(n)),e}function US(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Qi(),p=Zr(),y=Ol(n,{relative:l});return B.useCallback(v=>{if(yS(v,e)){v.preventDefault();let E=t!==void 0?t:Tl(p)===Tl(y);d(n,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,y,t,i,e,n,o,l,c])}var jS=0,BS=()=>`__${String(++jS)}__`;function zS(){let{router:n}=zv("useSubmit"),{basename:e}=B.useContext(Gn),t=aS();return B.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:y}=wS(i,e);if(o.navigate===!1){let v=o.fetcherKey||BS();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function $S(n,{relative:e}={}){let{basename:t}=B.useContext(Gn),i=B.useContext(Qn);et(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Ol(n||".",{relative:e})},c=Zr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Hr([t,l.pathname])),Tl(l)}function qS(n,{relative:e}={}){let t=B.useContext(Dv);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zv("useViewTransitionState"),o=Ol(n,{relative:e});if(!t.isTransitioning)return!1;let l=Gr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Gr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Dc(o.pathname,c)!=null||Dc(o.pathname,l)!=null}const HS=()=>{};var Ly={};const $v=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let I=(d&15)<<2|y>>6,V=y&63;p||(V=64,c||(I=64)),i.push(t[v],t[E],t[I],t[V])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($v(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||E==null)throw new KS;const I=l<<2|d>>4;if(i.push(I),y!==64){const V=d<<4&240|y>>2;if(i.push(V),E!==64){const z=y<<6&192|E;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GS=function(n){const e=$v(n);return qv.encodeByteArray(e,!0)},bc=function(n){return GS(n).replace(/\./g,"")},Hv=function(n){try{return qv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YS=()=>QS().__FIREBASE_DEFAULTS__,XS=()=>{if(typeof process>"u"||typeof Ly>"u")return;const n=Ly.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Hv(n[1]);return e&&JSON.parse(e)},nh=()=>{try{return HS()||YS()||XS()||JS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Wv=n=>nh()?.emulatorHosts?.[n],Kv=n=>{const e=Wv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Gv=()=>nh()?.config,Qv=n=>nh()?.[`_${n}`];class ZS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Yi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function up(n){return(await fetch(n,{credentials:"include"})).ok}function Yv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bc(JSON.stringify(t)),bc(JSON.stringify(c)),""].join(".")}const pl={};function eR(){const n={prod:[],emulator:[]};for(const e of Object.keys(pl))pl[e]?n.emulator.push(e):n.prod.push(e);return n}function tR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let My=!1;function cp(n,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||pl[n]===e||pl[n]||My)return;pl[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",l=eR().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,V){I.setAttribute("width","24"),I.setAttribute("id",V),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{My=!0,c()},I}function v(I,V){I.setAttribute("id",V),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=tR(i),V=t("text"),z=document.getElementById(V)||document.createElement("span"),H=t("learnmore"),L=document.getElementById(H)||document.createElement("a"),Q=t("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ee=I.element;d(ee),v(L,H);const ie=y();p(W,Q),ee.append(W,z,L,ie),document.body.appendChild(ee)}l?(z.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function rR(){const n=nh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xv(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jv(){try{return typeof indexedDB=="object"}catch{return!1}}function Zv(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function lR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const uR="FirebaseError";class xn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uR,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?cR(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new xn(o,d,i)}}function cR(n,e){return n.replace(hR,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const hR=/\{\$([^}]+)}/g;function dR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zi(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(Fy(l)&&Fy(c)){if(!zi(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Fy(n){return n!==null&&typeof n=="object"}function Vl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ll(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ul(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fR(n,e){const t=new pR(n,e);return t.subscribe.bind(t)}class pR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");mR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=of),o.error===void 0&&(o.error=of),o.complete===void 0&&(o.complete=of);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function of(){}const gR=1e3,yR=2,_R=14400*1e3,vR=.5;function Uy(n,e=gR,t=yR){const i=e*Math.pow(t,n),o=Math.round(vR*i*(Math.random()-.5)*2);return Math.min(_R,i+o)}function Xe(n){return n&&n._delegate?n._delegate:n}class Nn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ks="[DEFAULT]";class wR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ZS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(n){return n===ks?void 0:n}function TR(n){return n.instantiationMode==="EAGER"}class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xe||(xe={}));const SR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},RR=xe.INFO,AR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},CR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=AR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rh{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const PR=(n,e)=>e.some(t=>n instanceof t);let jy,By;function kR(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,Rf=new WeakMap,tw=new WeakMap,af=new WeakMap,hp=new WeakMap;function xR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Fi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ew.set(t,n)}).catch(()=>{}),hp.set(e,n),e}function DR(n){if(Rf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Rf.set(n,e)}let Af={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bR(n){Af=n(Af)}function OR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lf(this),e,...t);return tw.set(i,e.sort?e.sort():[e]),Fi(i)}:NR().includes(n)?function(...e){return n.apply(lf(this),e),Fi(ew.get(this))}:function(...e){return Fi(n.apply(lf(this),e))}}function VR(n){return typeof n=="function"?OR(n):(n instanceof IDBTransaction&&DR(n),PR(n,kR())?new Proxy(n,Af):n)}function Fi(n){if(n instanceof IDBRequest)return xR(n);if(af.has(n))return af.get(n);const e=VR(n);return e!==n&&(af.set(n,e),hp.set(e,n)),e}const lf=n=>hp.get(n);function nw(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Fi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Fi(c.result),p.oldVersion,p.newVersion,Fi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const LR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],uf=new Map;function zy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=MR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||LR.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return uf.set(e,l),l}bR(n=>({...n,get:(e,t,i)=>zy(e,t)||n.get(e,t,i),has:(e,t)=>!!zy(e,t)||n.has(e,t)}));class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function UR(n){return n.getComponent()?.type==="VERSION"}const Cf="@firebase/app",$y="0.14.5";const Qr=new rh("@firebase/app"),jR="@firebase/app-compat",BR="@firebase/analytics-compat",zR="@firebase/analytics",$R="@firebase/app-check-compat",qR="@firebase/app-check",HR="@firebase/auth",WR="@firebase/auth-compat",KR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",JR="@firebase/installations",ZR="@firebase/installations-compat",eA="@firebase/messaging",tA="@firebase/messaging-compat",nA="@firebase/performance",rA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",oA="@firebase/storage",aA="@firebase/storage-compat",lA="@firebase/firestore",uA="@firebase/ai",cA="@firebase/firestore-compat",hA="firebase",dA="12.5.0";const Pf="[DEFAULT]",fA={[Cf]:"fire-core",[jR]:"fire-core-compat",[zR]:"fire-analytics",[BR]:"fire-analytics-compat",[qR]:"fire-app-check",[$R]:"fire-app-check-compat",[HR]:"fire-auth",[WR]:"fire-auth-compat",[KR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[JR]:"fire-iid",[ZR]:"fire-iid-compat",[eA]:"fire-fcm",[tA]:"fire-fcm-compat",[nA]:"fire-perf",[rA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[oA]:"fire-gcs",[aA]:"fire-gcs-compat",[lA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};const Oc=new Map,pA=new Map,kf=new Map;function qy(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qn(n){const e=n.name;if(kf.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,n);for(const t of Oc.values())qy(t,n);for(const t of pA.values())qy(t,n);return!0}function Xi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gn(n){return n==null?!1:n.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new zs("app","Firebase",mA);class gA{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const $s=dA;function rw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Pf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(t||(t=Gv()),!t)throw Ui.create("no-options");const l=Oc.get(o);if(l){if(zi(t,l.options)&&zi(i,l.config))return l;throw Ui.create("duplicate-app",{appName:o})}const c=new IR(o);for(const p of kf.values())c.addComponent(p);const d=new gA(t,i,c);return Oc.set(o,d),d}function ih(n=Pf){const e=Oc.get(n);if(!e&&n===Pf&&Gv())return rw();if(!e)throw Ui.create("no-app",{appName:n});return e}function on(n,e,t){let i=fA[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(c.join(" "));return}qn(new Nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const yA="firebase-heartbeat-database",_A=1,Il="firebase-heartbeat-store";let cf=null;function iw(){return cf||(cf=nw(yA,_A,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Il)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ui.create("idb-open",{originalErrorMessage:n.message})})),cf}async function vA(n){try{const t=(await iw()).transaction(Il),i=await t.objectStore(Il).get(sw(n));return await t.done,i}catch(e){if(e instanceof xn)Qr.warn(e.message);else{const t=Ui.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}}async function Hy(n,e){try{const i=(await iw()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,sw(n)),await i.done}catch(t){if(t instanceof xn)Qr.warn(t.message);else{const i=Ui.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(i.message)}}}function sw(n){return`${n.name}!${n.options.appId}`}const wA=1024,EA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>EA){const o=RA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wy(),{heartbeatsToSend:t,unsentEntries:i}=IA(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qr.warn(e),""}}}function Wy(){return new Date().toISOString().substring(0,10)}function IA(n,e=wA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ky(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ky(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class SA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jv()?Zv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ky(n){return bc(JSON.stringify({version:2,heartbeats:n})).length}function RA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function AA(n){qn(new Nn("platform-logger",e=>new FR(e),"PRIVATE")),qn(new Nn("heartbeat",e=>new TA(e),"PRIVATE")),on(Cf,$y,n),on(Cf,$y,"esm2020"),on("fire-js","")}AA("");function ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CA=ow,aw=new zs("auth","Firebase",ow());const Vc=new rh("@firebase/auth");function PA(n,...e){Vc.logLevel<=xe.WARN&&Vc.warn(`Auth (${$s}): ${n}`,...e)}function Ec(n,...e){Vc.logLevel<=xe.ERROR&&Vc.error(`Auth (${$s}): ${n}`,...e)}function Hn(n,...e){throw dp(n,...e)}function gr(n,...e){return dp(n,...e)}function lw(n,e,t){const i={...CA(),[e]:t};return new zs("auth","Firebase",i).create(e,{appName:n.name})}function Wr(n){return lw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return aw.create(n,...e)}function ve(n,e,...t){if(!n)throw dp(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ec(e),new Error(e)}function Yr(n,e){n||zr(e)}function Nf(){return typeof self<"u"&&self.location?.href||""}function kA(){return Gy()==="http:"||Gy()==="https:"}function Gy(){return typeof self<"u"&&self.location?.protocol||null}function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kA()||Xv()||"connection"in navigator)?navigator.onLine:!0}function xA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=nR()||sR()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class uw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OA=new Ll(3e4,6e4);function Ji(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Zi(n,e,t,i,o={}){return cw(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Vl({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return iR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(y.credentials="include"),uw.fetch()(await hw(n,n.config.apiHost,t,d),y)})}async function cw(n,e,t){n._canInitEmulator=!1;const i={...DA,...e};try{const o=new LA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw cc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw cc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw cc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw lw(n,v,y);Hn(n,v)}}catch(o){if(o instanceof xn)throw o;Hn(n,"network-request-failed",{message:String(o)})}}async function Ml(n,e,t,i,o={}){const l=await Zi(n,e,t,i,o);return"mfaPendingCredential"in l&&Hn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function hw(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?fp(n.config,o):`${n.config.apiScheme}://${o}`;return bA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function VA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(gr(this.auth,"network-request-failed")),OA.get())})}}function cc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=gr(n,e,i);return o.customData._tokenResponse=t,o}function Qy(n){return n!==void 0&&n.enterprise!==void 0}class MA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FA(n,e){return Zi(n,"GET","/v2/recaptchaConfig",Ji(n,e))}async function UA(n,e){return Zi(n,"POST","/v1/accounts:delete",e)}async function Lc(n,e){return Zi(n,"POST","/v1/accounts:lookup",e)}function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jA(n,e=!1){const t=Xe(n),i=await t.getIdToken(e),o=pp(i);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:i,authTime:ml(hf(o.auth_time)),issuedAtTime:ml(hf(o.iat)),expirationTime:ml(hf(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hf(n){return Number(n)*1e3}function pp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=Hv(t);return o?JSON.parse(o):(Ec("Failed to decode base64 JWT payload"),null)}catch(o){return Ec("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Yy(n){const e=pp(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Sl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof xn&&BA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function BA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class zA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mc(n){const e=n.auth,t=await n.getIdToken(),i=await Sl(n,Lc(e,{idToken:t}));ve(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?dw(o.providerUserInfo):[],c=qA(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,y=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function $A(n){const e=Xe(n);await Mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function dw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function HA(n,e){const t=await cw(n,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await hw(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(p.credentials="include"),uw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WA(n,e){return Zi(n,"POST","/v2/accounts:revokeToken",Ji(n,e))}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=Yy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await HA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new $o;return i&&(ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(ve(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Ni(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jA(this,e)}reload(){return $A(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Mc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Sl(this,UA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:V,providerData:z,stsTokenManager:H}=t;ve(E&&H,e,"internal-error");const L=$o.fromJSON(this.name,H);ve(typeof E=="string",e,"internal-error"),Ni(i,e.name),Ni(o,e.name),ve(typeof I=="boolean",e,"internal-error"),ve(typeof V=="boolean",e,"internal-error"),Ni(l,e.name),Ni(c,e.name),Ni(d,e.name),Ni(p,e.name),Ni(y,e.name),Ni(v,e.name);const Q=new zn({uid:E,auth:e,email:o,emailVerified:I,displayName:i,isAnonymous:V,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:y,lastLoginAt:v});return z&&Array.isArray(z)&&(Q.providerData=z.map(W=>({...W}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,t,i=!1){const o=new $o;o.updateFromServerResponse(t);const l=new zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Mc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?dw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new $o;d.updateFromIdToken(i);const p=new zn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new xf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}const Xy=new Map;function $r(n){Yr(n instanceof Function,"Expected a class definition");let e=Xy.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xy.set(n,e),e)}class fw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fw.type="NONE";const Jy=fw;function Tc(n,e,t){return`firebase:${n}:${e}:${t}`}class qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Tc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Tc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lc(this.auth,{idToken:e}).catch(()=>{});return t?zn._fromGetAccountInfoResponse(this.auth,t,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new qo($r(Jy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||$r(Jy);const c=Tc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(c);if(v){let E;if(typeof v=="string"){const I=await Lc(e,{idToken:v}).catch(()=>{});if(!I)break;E=await zn._fromGetAccountInfoResponse(e,I,v)}else E=zn._fromJSON(e,v);y!==l&&(d=E),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new qo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new qo(l,e,i))}}function Zy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vw(e))return"Blackberry";if(ww(e))return"Webos";if(mw(e))return"Safari";if((e.includes("chrome/")||gw(e))&&!e.includes("edge/"))return"Chrome";if(_w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function pw(n=qt()){return/firefox\//i.test(n)}function mw(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gw(n=qt()){return/crios\//i.test(n)}function yw(n=qt()){return/iemobile/i.test(n)}function _w(n=qt()){return/android/i.test(n)}function vw(n=qt()){return/blackberry/i.test(n)}function ww(n=qt()){return/webos/i.test(n)}function mp(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KA(n=qt()){return mp(n)&&!!window.navigator?.standalone}function GA(){return oR()&&document.documentMode===10}function Ew(n=qt()){return mp(n)||_w(n)||ww(n)||vw(n)||/windows phone/i.test(n)||yw(n)}function Tw(n,e=[]){let t;switch(n){case"Browser":t=Zy(qt());break;case"Worker":t=`${Zy(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$s}/${i}`}class QA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function YA(n,e={}){return Zi(n,"GET","/v2/passwordPolicy",Ji(n,e))}const XA=6;class JA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class ZA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new QA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lc(this,{idToken:e}),i=await zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(Wr(this));const t=e?Xe(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YA(this),t=new JA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await WA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qs(n){return Xe(n)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fR(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eC(n){sh=n}function Iw(n){return sh.loadJS(n)}function tC(){return sh.recaptchaEnterpriseScript}function nC(){return sh.gapiScript}function rC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class iC{constructor(){this.enterprise=new sC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oC="recaptcha-enterprise",Sw="NO_RECAPTCHA";class aC{constructor(e){this.type=oC,this.auth=qs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{FA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new MA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;Qy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(Sw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Qy(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tC();p.length!==0&&(p+=d),Iw(p).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function t_(n,e,t,i=!1,o=!1){const l=new aC(n);let c;if(o)c=Sw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Df(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await t_(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await t_(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}function lC(n,e){const t=Xi(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(zi(l,e??{}))return o;Hn(o,"already-initialized")}return t.initialize({options:e})}function uC(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map($r);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function cC(n,e,t){const i=qs(n);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Rw(e),{host:c,port:d}=hC(e),p=d===null?"":`:${d}`,y={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(zi(y,i.config.emulator)&&zi(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Yi(c)?(up(`${l}//${c}${p}`),cp("Auth",!0)):dC()}function Rw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hC(n){const e=Rw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:n_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:n_(c)}}}function n_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class gp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function fC(n,e){return Zi(n,"POST","/v1/accounts:signUp",e)}async function pC(n,e){return Ml(n,"POST","/v1/accounts:signInWithPassword",Ji(n,e))}async function mC(n,e){return Ml(n,"POST","/v1/accounts:signInWithEmailLink",Ji(n,e))}async function gC(n,e){return Ml(n,"POST","/v1/accounts:signInWithEmailLink",Ji(n,e))}class Rl extends gp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Rl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Df(e,t,"signInWithPassword",pC);case"emailLink":return mC(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Df(e,i,"signUpPassword",fC);case"emailLink":return gC(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ho(n,e){return Ml(n,"POST","/v1/accounts:signInWithIdp",Ji(n,e))}const yC="http://localhost";class Vs extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new Vs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}function _C(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vC(n){const e=ll(ul(n)).link,t=e?ll(ul(e)).deep_link_id:null,i=ll(ul(n)).deep_link_id;return(i?ll(ul(i)).link:null)||i||t||e||n}class yp{constructor(e){const t=ll(ul(e)),i=t.apiKey??null,o=t.oobCode??null,l=_C(t.mode??null);ve(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=vC(e);try{return new yp(t)}catch{return null}}}class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,t){return Rl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=yp.parseLink(t);return ve(i,"argument-error"),Rl._fromEmailAndCode(e,i.code,i.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Aw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fl extends Aw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Di extends Fl{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";class bi extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";class Oi extends Fl{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";class Vi extends Fl{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vi.credential(t,i)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";async function wC(n,e){return Ml(n,"POST","/v1/accounts:signUp",Ji(n,e))}class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await zn._fromIdTokenResponse(e,i,o),c=r_(i);return new Ls({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=r_(i);return new Ls({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function r_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fc extends xn{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Fc(e,t,i,o)}}function Cw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(n,l,e,i):l})}async function EC(n,e,t=!1){const i=await Sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ls._forOperation(n,"link",i)}async function TC(n,e,t=!1){const{auth:i}=n;if(gn(i.app))return Promise.reject(Wr(i));const o="reauthenticate";try{const l=await Sl(n,Cw(i,o,e,n),t);ve(l.idToken,i,"internal-error");const c=pp(l.idToken);ve(c,i,"internal-error");const{sub:d}=c;return ve(n.uid===d,i,"user-mismatch"),Ls._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Hn(i,"user-mismatch"),l}}async function Pw(n,e,t=!1){if(gn(n.app))return Promise.reject(Wr(n));const i="signIn",o=await Cw(n,i,e),l=await Ls._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function IC(n,e){return Pw(qs(n),e)}async function kw(n){const e=qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nw(n,e,t){if(gn(n.app))return Promise.reject(Wr(n));const i=qs(n),c=await Df(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kw(n),p}),d=await Ls._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function SC(n,e,t){return gn(n.app)?Promise.reject(Wr(n)):IC(Xe(n),sa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&kw(n),i})}function RC(n,e,t,i){return Xe(n).onIdTokenChanged(e,t,i)}function AC(n,e,t){return Xe(n).beforeAuthStateChanged(e,t)}function CC(n,e,t,i){return Xe(n).onAuthStateChanged(e,t,i)}function PC(n){return Xe(n).signOut()}const Uc="__sak";class xw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kC=1e3,NC=10;class Dw extends xw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);GA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dw.type="LOCAL";const xC=Dw;class bw extends xw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bw.type="SESSION";const Ow=bw;function DC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new oh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await DC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function _p(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=_p("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function yr(){return window}function OC(n){yr().location.href=n}function Vw(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function VC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LC(){return navigator?.serviceWorker?.controller||null}function MC(){return Vw()?self:null}const Lw="firebaseLocalStorageDb",FC=1,jc="firebaseLocalStorage",Mw="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ah(n,e){return n.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function UC(){const n=indexedDB.deleteDatabase(Lw);return new Ul(n).toPromise()}function bf(){const n=indexedDB.open(Lw,FC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(jc,{keyPath:Mw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(jc)?e(i):(i.close(),await UC(),e(await bf()))})})}async function i_(n,e,t){const i=ah(n,!0).put({[Mw]:e,value:t});return new Ul(i).toPromise()}async function jC(n,e){const t=ah(n,!1).get(e),i=await new Ul(t).toPromise();return i===void 0?null:i.value}function s_(n,e){const t=ah(n,!0).delete(e);return new Ul(t).toPromise()}const BC=800,zC=3;class Fw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bf();return await i_(e,Uc,"1"),await s_(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>jC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>s_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ah(o,!1).getAll();return new Ul(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fw.type="LOCAL";const $C=Fw;new Ll(3e4,6e4);function qC(n,e){return e?$r(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class vp extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HC(n){return Pw(n.auth,new vp(n),n.bypassAuthState)}function WC(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),TC(t,new vp(n),n.bypassAuthState)}async function KC(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),EC(t,new vp(n),n.bypassAuthState)}class Uw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return WC;default:Hn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GC=new Ll(2e3,1e4);class zo extends Uw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GC.get())};e()}}zo.currentPopupAction=null;const QC="pendingRedirect",Ic=new Map;class YC extends Uw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const i=await XC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(n,e){const t=e1(e),i=ZC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function JC(n,e){Ic.set(n._key(),e)}function ZC(n){return $r(n._redirectPersistence)}function e1(n){return Tc(QC,n.config.apiKey,n.name)}async function t1(n,e,t=!1){if(gn(n.app))return Promise.reject(Wr(n));const i=qs(n),o=qC(i,e),c=await new YC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const n1=600*1e3;class r1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n1&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function i1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(n);default:return!1}}async function s1(n,e={}){return Zi(n,"GET","/v1/projects",e)}const o1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a1=/^https?/;async function l1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await s1(n);for(const t of e)try{if(u1(t))return}catch{}Hn(n,"unauthorized-domain")}function u1(n){const e=Nf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!a1.test(t))return!1;if(o1.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const c1=new Ll(3e4,6e4);function a_(){const n=yr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function h1(n){return new Promise((e,t)=>{function i(){a_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a_(),t(gr(n,"network-request-failed"))},timeout:c1.get()})}if(yr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(yr().gapi?.load)i();else{const o=rC("iframefcb");return yr()[o]=()=>{gapi.load?i():t(gr(n,"network-request-failed"))},Iw(`${nC()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function d1(n){return Sc=Sc||h1(n),Sc}const f1=new Ll(5e3,15e3),p1="__/auth/iframe",m1="emulator/auth/iframe",g1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _1(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fp(e,m1):`https://${n.config.authDomain}/${p1}`,i={apiKey:e.apiKey,appName:n.name,v:$s},o=y1.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Vl(i).slice(1)}`}async function v1(n){const e=await d1(n),t=yr().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:_1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=gr(n,"network-request-failed"),d=yr().setTimeout(()=>{l(c)},f1.get());function p(){yr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}const w1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E1=500,T1=600,I1="_blank",S1="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R1(n,e,t,i=E1,o=T1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...w1,width:i.toString(),height:o.toString(),top:l,left:c},y=qt().toLowerCase();t&&(d=gw(y)?I1:t),pw(y)&&(e=e||S1,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[V,z])=>`${I}${V}=${z},`,"");if(KA(y)&&d!=="_self")return A1(e||"",d),new l_(null);const E=window.open(e||"",d,v);ve(E,n,"popup-blocked");try{E.focus()}catch{}return new l_(E)}function A1(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const C1="__/auth/handler",P1="emulator/auth/handler",k1=encodeURIComponent("fac");async function u_(n,e,t,i,o,l){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:$s,eventId:o};if(e instanceof Aw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",dR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Fl){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),y=p?`#${k1}=${encodeURIComponent(p)}`:"";return`${N1(n)}?${Vl(d).slice(1)}${y}`}function N1({config:n}){return n.emulator?fp(n,P1):`https://${n.authDomain}/${C1}`}const df="webStorageSupport";class x1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ow,this._completeRedirectFn=t1,this._overrideRedirectResult=JC}async _openPopup(e,t,i,o){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await u_(e,t,i,Nf(),o);return R1(e,l,_p())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await u_(e,t,i,Nf(),o);return OC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Yr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await v1(e),i=new r1(e);return t.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(df,{type:df},o=>{const l=o?.[0]?.[df];l!==void 0&&t(!!l),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ew()||mw()||mp()}}const D1=x1;var c_="@firebase/auth",h_="1.11.1";class b1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V1(n){qn(new Nn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tw(n)},y=new ZA(i,o,l,p);return uC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qn(new Nn("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(i=>new b1(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(c_,h_,O1(n)),on(c_,h_,"esm2020")}const L1=300,M1=Qv("authIdTokenMaxAge")||L1;let d_=null;const F1=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>M1)return;const o=t?.token;d_!==o&&(d_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wp(n=ih()){const e=Xi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lC(n,{popupRedirectResolver:D1,persistence:[$C,xC,Ow]}),i=Qv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=F1(l.toString());AC(t,c,()=>c(t.currentUser)),RC(t,d=>c(d))}}const o=Wv("auth");return o&&cC(t,`http://${o}`),t}function U1(){return document.getElementsByTagName("head")?.[0]??document}eC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=gr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",U1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V1("Browser");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ji,Bw;(function(){var n;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(b,D,P){for(var S=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)S[Ce-2]=arguments[Ce];return R.prototype[D].apply(b,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const b=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)b[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)b[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],D=x.g[2];let P=x.g[3],S;S=R+(P^C&(D^P))+b[0]+3614090360&4294967295,R=C+(S<<7&4294967295|S>>>25),S=P+(D^R&(C^D))+b[1]+3905402710&4294967295,P=R+(S<<12&4294967295|S>>>20),S=D+(C^P&(R^C))+b[2]+606105819&4294967295,D=P+(S<<17&4294967295|S>>>15),S=C+(R^D&(P^R))+b[3]+3250441966&4294967295,C=D+(S<<22&4294967295|S>>>10),S=R+(P^C&(D^P))+b[4]+4118548399&4294967295,R=C+(S<<7&4294967295|S>>>25),S=P+(D^R&(C^D))+b[5]+1200080426&4294967295,P=R+(S<<12&4294967295|S>>>20),S=D+(C^P&(R^C))+b[6]+2821735955&4294967295,D=P+(S<<17&4294967295|S>>>15),S=C+(R^D&(P^R))+b[7]+4249261313&4294967295,C=D+(S<<22&4294967295|S>>>10),S=R+(P^C&(D^P))+b[8]+1770035416&4294967295,R=C+(S<<7&4294967295|S>>>25),S=P+(D^R&(C^D))+b[9]+2336552879&4294967295,P=R+(S<<12&4294967295|S>>>20),S=D+(C^P&(R^C))+b[10]+4294925233&4294967295,D=P+(S<<17&4294967295|S>>>15),S=C+(R^D&(P^R))+b[11]+2304563134&4294967295,C=D+(S<<22&4294967295|S>>>10),S=R+(P^C&(D^P))+b[12]+1804603682&4294967295,R=C+(S<<7&4294967295|S>>>25),S=P+(D^R&(C^D))+b[13]+4254626195&4294967295,P=R+(S<<12&4294967295|S>>>20),S=D+(C^P&(R^C))+b[14]+2792965006&4294967295,D=P+(S<<17&4294967295|S>>>15),S=C+(R^D&(P^R))+b[15]+1236535329&4294967295,C=D+(S<<22&4294967295|S>>>10),S=R+(D^P&(C^D))+b[1]+4129170786&4294967295,R=C+(S<<5&4294967295|S>>>27),S=P+(C^D&(R^C))+b[6]+3225465664&4294967295,P=R+(S<<9&4294967295|S>>>23),S=D+(R^C&(P^R))+b[11]+643717713&4294967295,D=P+(S<<14&4294967295|S>>>18),S=C+(P^R&(D^P))+b[0]+3921069994&4294967295,C=D+(S<<20&4294967295|S>>>12),S=R+(D^P&(C^D))+b[5]+3593408605&4294967295,R=C+(S<<5&4294967295|S>>>27),S=P+(C^D&(R^C))+b[10]+38016083&4294967295,P=R+(S<<9&4294967295|S>>>23),S=D+(R^C&(P^R))+b[15]+3634488961&4294967295,D=P+(S<<14&4294967295|S>>>18),S=C+(P^R&(D^P))+b[4]+3889429448&4294967295,C=D+(S<<20&4294967295|S>>>12),S=R+(D^P&(C^D))+b[9]+568446438&4294967295,R=C+(S<<5&4294967295|S>>>27),S=P+(C^D&(R^C))+b[14]+3275163606&4294967295,P=R+(S<<9&4294967295|S>>>23),S=D+(R^C&(P^R))+b[3]+4107603335&4294967295,D=P+(S<<14&4294967295|S>>>18),S=C+(P^R&(D^P))+b[8]+1163531501&4294967295,C=D+(S<<20&4294967295|S>>>12),S=R+(D^P&(C^D))+b[13]+2850285829&4294967295,R=C+(S<<5&4294967295|S>>>27),S=P+(C^D&(R^C))+b[2]+4243563512&4294967295,P=R+(S<<9&4294967295|S>>>23),S=D+(R^C&(P^R))+b[7]+1735328473&4294967295,D=P+(S<<14&4294967295|S>>>18),S=C+(P^R&(D^P))+b[12]+2368359562&4294967295,C=D+(S<<20&4294967295|S>>>12),S=R+(C^D^P)+b[5]+4294588738&4294967295,R=C+(S<<4&4294967295|S>>>28),S=P+(R^C^D)+b[8]+2272392833&4294967295,P=R+(S<<11&4294967295|S>>>21),S=D+(P^R^C)+b[11]+1839030562&4294967295,D=P+(S<<16&4294967295|S>>>16),S=C+(D^P^R)+b[14]+4259657740&4294967295,C=D+(S<<23&4294967295|S>>>9),S=R+(C^D^P)+b[1]+2763975236&4294967295,R=C+(S<<4&4294967295|S>>>28),S=P+(R^C^D)+b[4]+1272893353&4294967295,P=R+(S<<11&4294967295|S>>>21),S=D+(P^R^C)+b[7]+4139469664&4294967295,D=P+(S<<16&4294967295|S>>>16),S=C+(D^P^R)+b[10]+3200236656&4294967295,C=D+(S<<23&4294967295|S>>>9),S=R+(C^D^P)+b[13]+681279174&4294967295,R=C+(S<<4&4294967295|S>>>28),S=P+(R^C^D)+b[0]+3936430074&4294967295,P=R+(S<<11&4294967295|S>>>21),S=D+(P^R^C)+b[3]+3572445317&4294967295,D=P+(S<<16&4294967295|S>>>16),S=C+(D^P^R)+b[6]+76029189&4294967295,C=D+(S<<23&4294967295|S>>>9),S=R+(C^D^P)+b[9]+3654602809&4294967295,R=C+(S<<4&4294967295|S>>>28),S=P+(R^C^D)+b[12]+3873151461&4294967295,P=R+(S<<11&4294967295|S>>>21),S=D+(P^R^C)+b[15]+530742520&4294967295,D=P+(S<<16&4294967295|S>>>16),S=C+(D^P^R)+b[2]+3299628645&4294967295,C=D+(S<<23&4294967295|S>>>9),S=R+(D^(C|~P))+b[0]+4096336452&4294967295,R=C+(S<<6&4294967295|S>>>26),S=P+(C^(R|~D))+b[7]+1126891415&4294967295,P=R+(S<<10&4294967295|S>>>22),S=D+(R^(P|~C))+b[14]+2878612391&4294967295,D=P+(S<<15&4294967295|S>>>17),S=C+(P^(D|~R))+b[5]+4237533241&4294967295,C=D+(S<<21&4294967295|S>>>11),S=R+(D^(C|~P))+b[12]+1700485571&4294967295,R=C+(S<<6&4294967295|S>>>26),S=P+(C^(R|~D))+b[3]+2399980690&4294967295,P=R+(S<<10&4294967295|S>>>22),S=D+(R^(P|~C))+b[10]+4293915773&4294967295,D=P+(S<<15&4294967295|S>>>17),S=C+(P^(D|~R))+b[1]+2240044497&4294967295,C=D+(S<<21&4294967295|S>>>11),S=R+(D^(C|~P))+b[8]+1873313359&4294967295,R=C+(S<<6&4294967295|S>>>26),S=P+(C^(R|~D))+b[15]+4264355552&4294967295,P=R+(S<<10&4294967295|S>>>22),S=D+(R^(P|~C))+b[6]+2734768916&4294967295,D=P+(S<<15&4294967295|S>>>17),S=C+(P^(D|~R))+b[13]+1309151649&4294967295,C=D+(S<<21&4294967295|S>>>11),S=R+(D^(C|~P))+b[4]+4149444226&4294967295,R=C+(S<<6&4294967295|S>>>26),S=P+(C^(R|~D))+b[11]+3174756917&4294967295,P=R+(S<<10&4294967295|S>>>22),S=D+(R^(P|~C))+b[2]+718787259&4294967295,D=P+(S<<15&4294967295|S>>>17),S=C+(P^(D|~R))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+P&4294967295}i.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,b=this.C;let D=this.h,P=0;for(;P<R;){if(D==0)for(;P<=C;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(b[D++]=x.charCodeAt(P++),D==this.blockSize){o(this,b),D=0;break}}else for(;P<R;)if(b[D++]=x[P++],D==this.blockSize){o(this,b),D=0;break}}this.h=D,this.o+=R},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let b=0;b<32;b+=8)x[R++]=this.g[C]>>>b&255;return x};function l(x,R){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function c(x,R){this.h=R;const C=[];let b=!0;for(let D=x.length-1;D>=0;D--){const P=x[D]|0;b&&P==R||(C[D]=P,b=!1)}this.g=C}var d={};function p(x){return-128<=x&&x<128?l(x,function(R){return new c([R|0],R<0?-1:0)}):new c([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return E;if(x<0)return L(y(-x));const R=[];let C=1;for(let b=0;x>=C;b++)R[b]=x/C|0,C*=4294967296;return new c(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return L(v(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(R,8));let b=E;for(let P=0;P<x.length;P+=8){var D=Math.min(8,x.length-P);const S=parseInt(x.substring(P,P+D),R);D<8?(D=y(Math.pow(R,D)),b=b.j(D).add(y(S))):(b=b.j(C),b=b.add(y(S)))}return b}var E=p(0),I=p(1),V=p(16777216);n=c.prototype,n.m=function(){if(H(this))return-L(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const b=this.i(C);x+=(b>=0?b:4294967296+b)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(H(this))return"-"+L(this).toString(x);const R=y(Math.pow(x,6));var C=this;let b="";for(;;){const D=ie(C,R).g;C=Q(C,D.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,z(C))return P+b;for(;P.length<6;)P="0"+P;b=P+b}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function H(x){return x.h==-1}n.l=function(x){return x=Q(this,x),H(x)?-1:z(x)?0:1};function L(x){const R=x.g.length,C=[];for(let b=0;b<R;b++)C[b]=~x.g[b];return new c(C,~x.h).add(I)}n.abs=function(){return H(this)?L(this):this},n.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let b=0;for(let D=0;D<=R;D++){let P=b+(this.i(D)&65535)+(x.i(D)&65535),S=(P>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);b=S>>>16,P&=65535,S&=65535,C[D]=S<<16|P}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Q(x,R){return x.add(L(R))}n.j=function(x){if(z(this)||z(x))return E;if(H(this))return H(x)?L(this).j(L(x)):L(L(this).j(x));if(H(x))return L(this.j(L(x)));if(this.l(V)<0&&x.l(V)<0)return y(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var b=0;b<2*R;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(let D=0;D<x.g.length;D++){const P=this.i(b)>>>16,S=this.i(b)&65535,Ce=x.i(D)>>>16,It=x.i(D)&65535;C[2*b+2*D]+=S*It,W(C,2*b+2*D),C[2*b+2*D+1]+=P*It,W(C,2*b+2*D+1),C[2*b+2*D+1]+=S*Ce,W(C,2*b+2*D+1),C[2*b+2*D+2]+=P*Ce,W(C,2*b+2*D+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new c(C,0)};function W(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ee(x,R){this.g=x,this.h=R}function ie(x,R){if(z(R))throw Error("division by zero");if(z(x))return new ee(E,E);if(H(x))return R=ie(L(x),R),new ee(L(R.g),L(R.h));if(H(R))return R=ie(x,L(R)),new ee(L(R.g),R.h);if(x.g.length>30){if(H(x)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var C=I,b=R;b.l(x)<=0;)C=ye(C),b=ye(b);var D=_e(C,1),P=_e(b,1);for(b=_e(b,2),C=_e(C,2);!z(b);){var S=P.add(b);S.l(x)<=0&&(D=D.add(C),P=S),b=_e(b,1),C=_e(C,1)}return R=Q(x,D.j(R)),new ee(D,R)}for(D=E;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),P=y(C),S=P.j(R);H(S)||S.l(x)>0;)C-=b,P=y(C),S=P.j(R);z(P)&&(P=I),D=D.add(P),x=Q(x,S)}return new ee(D,x)}n.B=function(x){return ie(this,x).h},n.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let b=0;b<R;b++)C[b]=this.i(b)&x.i(b);return new c(C,this.h&x.h)},n.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let b=0;b<R;b++)C[b]=this.i(b)|x.i(b);return new c(C,this.h|x.h)},n.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let b=0;b<R;b++)C[b]=this.i(b)^x.i(b);return new c(C,this.h^x.h)};function ye(x){const R=x.g.length+1,C=[];for(let b=0;b<R;b++)C[b]=x.i(b)<<1|x.i(b-1)>>>31;return new c(C,x.h)}function _e(x,R){const C=R>>5;R%=32;const b=x.g.length-C,D=[];for(let P=0;P<b;P++)D[P]=R>0?x.i(P+C)>>>R|x.i(P+C+1)<<32-R:x.i(P+C);return new c(D,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Bw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,ji=c}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zw,cl,$w,Rc,Of,qw,Hw,Ww;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],g=g(T),g!=T&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&_.push([T,g[T]]);return _}});var l=l||{},c=this||self;function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,_){return u.call.apply(u.bind,arguments)}function y(u,g,_){return y=p,y.apply(null,arguments)}function v(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var ne=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ne[Ie-2]=arguments[Ie];return g.prototype[U].apply(T,ne)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const g=u.length;if(g>0){const _=Array(g);for(let T=0;T<g;T++)_[T]=u[T];return _}return[]}function z(u,g){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const q=U.length||0;u.length=_+q;for(let ne=0;ne<q;ne++)u[_+ne]=U[ne]}else u.push(U)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function L(u){c.setTimeout(()=>{throw u},0)}function Q(){var u=x;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class W{constructor(){this.h=this.g=null}add(g,_){const T=ee.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new H(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,_e=!1,x=new W,R=()=>{const u=Promise.resolve(void 0);ye=()=>{u.then(C)}};function C(){for(var u;u=Q();){try{u.h.call(u.g)}catch(_){L(_)}var g=ee;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}_e=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,g),c.removeEventListener("test",_,g)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function Ce(u,g){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}E(Ce,D),Ce.prototype.init=function(u,g){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function Je(u,g,_,T,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=U,this.key=++Vt,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,g,_){for(const T in u)g.call(_,u[T],T,u)}function le(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function M(u){const g={};for(const _ in u)g[_]=u[_];return g}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(u,g){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let q=0;q<Y.length;q++)_=Y[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,g,_,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Ne(u,g,T,U);return ne>-1?(g=u[ne],_||(g.fa=!1)):(g=new Je(g,this.src,q,!!T,U),g.fa=_,u.push(g)),g};function ke(u,g){const _=g.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,g,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(re(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ne(u,g,_,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==T)return U}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Le={};function $e(u,g,_,T,U){if(Array.isArray(g)){for(let q=0;q<g.length;q++)$e(u,g[q],_,T,U);return null}return _=da(_),u&&u[It]?u.J(g,_,d(T)?!!T.capture:!1,U):Ht(u,g,_,!1,T,U)}function Ht(u,g,_,T,U,q){if(!g)throw Error("Invalid event type");const ne=d(U)?!!U.capture:!!U;let Ie=Xs(u);if(Ie||(u[je]=Ie=new Ae(u)),_=Ie.add(g,_,T,ne,q),_.proxy)return _;if(T=Qs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)P||(U=ne),U===void 0&&(U=!1),u.addEventListener(g.toString(),T,U);else if(u.attachEvent)u.attachEvent(Ys(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qs(){function u(_){return g.call(u.src,u.listener,_)}const g=Kl;return u}function ha(u,g,_,T,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)ha(u,g[q],_,T,U);else T=d(T)?!!T.capture:!!T,_=da(_),u&&u[It]?(u=u.i,q=String(g).toString(),q in u.g&&(g=u.g[q],_=Ne(g,_,T,U),_>-1&&(re(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[q],u.h--)))):u&&(u=Xs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ne(g,_,T,U)),(_=u>-1?g[u]:null)&&ei(_))}function ei(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[It])ke(g.i,u);else{var _=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(_,T,u.capture):g.detachEvent?g.detachEvent(Ys(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=Xs(g))?(ke(_,u),_.h==0&&(_.src=null,g[je]=null)):re(u)}}}function Ys(u){return u in Le?Le[u]:Le[u]="on"+u}function Kl(u,g){if(u.da)u=!0;else{g=new Ce(g,this);const _=u.listener,T=u.ha||u.src;u.fa&&ei(u),u=_.call(T,g)}return u}function Xs(u){return u=u[je],u instanceof Ae?u:null}var ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function da(u){return typeof u=="function"?u:(u[ns]||(u[ns]=function(g){return u.handleEvent(g)}),u[ns])}function ft(){b.call(this),this.i=new Ae(this),this.M=this,this.G=null}E(ft,b),ft.prototype[It]=!0,ft.prototype.removeEventListener=function(u,g,_,T){ha(this,u,g,_,T)};function lt(u,g){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new D(g,u);else if(g instanceof D)g.target=g.target||u;else{var U=g;g=new D(T,u),Re(g,U)}U=!0;let q,ne;if(_)for(ne=_.length-1;ne>=0;ne--)q=g.g=_[ne],U=Dn(q,T,!0,g)&&U;if(q=g.g=u,U=Dn(q,T,!0,g)&&U,U=Dn(q,T,!1,g)&&U,_)for(ne=0;ne<_.length;ne++)q=g.g=_[ne],U=Dn(q,T,!1,g)&&U}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let T=0;T<_.length;T++)re(_[T]);delete u.g[g],u.h--}}this.G=null},ft.prototype.J=function(u,g,_,T){return this.i.add(String(u),g,!1,_,T)},ft.prototype.K=function(u,g,_,T){return this.i.add(String(u),g,!0,_,T)};function Dn(u,g,_,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let q=0;q<g.length;++q){const ne=g[q];if(ne&&!ne.da&&ne.capture==_){const Ie=ne.listener,ut=ne.ha||ne.src;ne.fa&&ke(u.i,ne),U=Ie.call(ut,T)!==!1&&U}}return U&&!T.defaultPrevented}function fa(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:c.setTimeout(u,g||0)}function pa(u){u.g=fa(()=>{u.g=null,u.i&&(u.i=!1,pa(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Gl extends b{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(u){b.call(this),this.h=u,this.g={}}E(ti,b);var ma=[];function Js(u){pe(u.g,function(g,_){this.g.hasOwnProperty(_)&&ei(g)},u),u.g={}}ti.prototype.N=function(){ti.Z.N.call(this),Js(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=c.JSON.stringify,Ql=c.JSON.parse,rs=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ri(){}function Yl(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zs(){D.call(this,"d")}E(Zs,D);function ga(){D.call(this,"c")}E(ga,D);var bn={},eo=null;function si(){return eo=eo||new ft}bn.Ia="serverreachability";function to(u){D.call(this,bn.Ia,u)}E(to,D);function Ir(u){const g=si();lt(g,new to(g))}bn.STAT_EVENT="statevent";function Sr(u,g){D.call(this,bn.STAT_EVENT,u),this.stat=g}E(Sr,D);function it(u){const g=si();lt(g,new Sr(g,u))}bn.Ja="timingevent";function ya(u,g){D.call(this,bn.Ja,u),this.size=g}E(ya,D);function oi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},g)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Xl(u,g,_,T,U,q){u.info(function(){if(u.g)if(q){var ne="",Ie=q.split("&");for(let ze=0;ze<Ie.length;ze++){var ut=Ie[ze].split("=");if(ut.length>1){const pt=ut[0];ut=ut[1];const dn=pt.split("_");ne=dn.length>=2&&dn[1]=="type"?ne+(pt+"="+ut+"&"):ne+(pt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+g+`
`+_+`
`+ne})}function Jl(u,g,_,T,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+g+`
`+_+`
`+q+" "+ne})}function Yn(u,g,_,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+is(u,_)+(T?" "+T:"")})}function Zl(u,g){u.info(function(){return"TIMEOUT: "+g})}ai.prototype.info=function(){};function is(u,g){if(!u.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<T.length;ne++)T[ne]=""}}}}return ni(q)}catch{return g}}var li={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ui={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},eu;function Rr(){}E(Rr,ri),Rr.prototype.g=function(){return new XMLHttpRequest},eu=new Rr;function Xn(u){return encodeURIComponent(String(u))}function no(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function wn(u,g,_,T){this.j=u,this.i=g,this.l=_,this.S=T||1,this.V=new ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var nu={},_a={};function On(u,g,_){u.M=1,u.A=Cr(En(g)),u.u=_,u.R=!0,va(u,null)}function va(u,g){u.F=Date.now(),ss(u),u.B=En(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ka(_.i,"t",T),u.C=0,_=u.j.L,u.h=new tu,u.g=du(u.j,_?g:null,!u.u),u.P>0&&(u.O=new Gl(y(u.Y,u,u.g),u.P)),g=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ma[0]=U.toString()),U=ma);for(let q=0;q<U.length;q++){const ne=$e(_,U[q],T||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Ir(),Xl(u.i,u.v,u.B,u.l,u.S,u.u)}wn.prototype.ba=function(u){u=u.target;const g=this.O;g&&ir(u)==3?g.j():this.Y(u)},wn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ir(this.g),ut=this.g.ya(),ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||cu(this.g)))){this.K||Ie!=4||ut==7||(ut==8||ze<=0?Ir(3):Ir(2)),ro(this);var g=this.g.ca();this.X=g;var _=ru(this);if(this.o=g==200,Jl(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var q=T;break t}}q=null}if(u=q)Yn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,u);else{this.o=!1,this.m=3,it(12),Ar(this),os(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<_.length;)if(pt=su(this,_),pt==_a){Ie==4&&(this.m=4,it(14),u=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==nu){this.m=4,it(15),Yn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Yn(this.i,this.l,pt,null),Ke(this,pt);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||_.length!=0||this.h.h||(this.m=1,it(16),u=!1),this.o=this.o&&u,!u)Yn(this.i,this.l,_,"[Invalid Chunked Response]"),Ar(this),os(this);else if(_.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ms(ne),ne.P=!0,it(11))}}else Yn(this.i,this.l,_,null),Ke(this,_);Ie==4&&Ar(this),this.o&&!this.K&&(Ie==4?po(this.j,this):(this.o=!1,ss(this)))}else xa(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),Ar(this),os(this)}}}catch{}finally{}};function ru(u){if(!iu(u))return u.g.la();const g=cu(u.g);if(g==="")return"";let _="";const T=g.length,U=ir(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ar(u),os(u),"";u.h.i=new c.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(g[q],{stream:!(U&&q==T-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,g){var _=u.C,T=g.indexOf(`
`,_);return T==-1?_a:(_=Number(g.substring(_,T)),isNaN(_)?nu:(T+=1,T+_>g.length?_a:(g=g.slice(T,T+_),u.C=T+_,g)))}wn.prototype.cancel=function(){this.K=!0,Ar(this)};function ss(u){u.T=Date.now()+u.H,wa(u,u.H)}function wa(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(y(u.aa,u),g)}function ro(u){u.D&&(c.clearTimeout(u.D),u.D=null)}wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Zl(this.i,this.B),this.M!=2&&(Ir(),it(17)),Ar(this),this.m=2,os(this)):wa(this,this.T-u)};function os(u){u.j.I==0||u.K||po(u.j,u)}function Ar(u){ro(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Js(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Ke(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||Ta(_.h,u))){if(!u.L&&Ta(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)fo(_),cn(_);else break e;ar(_),it(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=oi(y(_.Va,_),6e3));as(_.h)<=1&&_.ta&&(_.ta=void 0)}else hn(_,11)}else if((u.L||_.g==u)&&fo(_),!S(g))for(U=_.Ba.g.parse(g),g=0;g<U.length;g++){let ze=U[g];const pt=ze[0];if(!(pt<=_.K))if(_.K=pt,ze=ze[1],_.I==2)if(ze[0]=="c"){_.M=ze[1],_.ba=ze[2];const dn=ze[3];dn!=null&&(_.ka=dn,_.j.info("VER="+_.ka));const Dr=ze[4];Dr!=null&&(_.za=Dr,_.j.info("SVER="+_.za));const lr=ze[5];lr!=null&&typeof lr=="number"&&lr>0&&(T=1.5*lr,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ur=u.g;if(ur){const yo=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var q=T.h;q.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(so(q,q.h),q.h=null))}if(T.G){const Oa=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(T.wa=Oa,Ue(T.J,T.G,Oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var ne=u;if(T.na=ba(T,T.L?T.ba:null,T.W),ne.L){ls(T.h,ne);var Ie=ne,ut=T.O;ut&&(Ie.H=ut),Ie.D&&(ro(Ie),ss(Ie)),T.g=ne}else Lt(T);_.i.length>0&&xr(_)}else ze[0]!="stop"&&ze[0]!="close"||hn(_,7);else _.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?hn(_,7):co(_):ze[0]!="noop"&&_.l&&_.l.qa(ze),_.A=0)}}Ir(4)}catch{}}var kh=class{constructor(u,g){this.g=u,this.map=g}};function io(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ea(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function as(u){return u.h?1:u.g?u.g.size:0}function Ta(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function so(u,g){u.g?u.g.add(g):u.h=g}function ls(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}io.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function an(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return V(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ln(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,q=null;T>=0?(U=u[_].substring(0,T),q=u[_].substring(T+1)):U=u[_],g(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Jn?(this.l=u.l,us(this,u.j),this.o=u.o,this.g=u.g,Zn(this,u.u),this.h=u.h,ci(this,Na(u.i)),this.m=u.m):u&&(g=String(u).match(ou))?(this.l=!1,us(this,g[1]||"",!0),this.o=cs(g[2]||""),this.g=cs(g[3]||"",!0),Zn(this,g[4]),this.h=cs(g[5]||"",!0),ci(this,g[6]||"",!0),this.m=cs(g[7]||"")):(this.l=!1,this.i=new Oe(null,this.l))}Jn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(hs(g,Sa,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(hs(g,Sa,!0),"@"),u.push(Xn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(hs(_,_.charAt(0)=="/"?ds:Ra,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",hs(_,Aa)),u.join("")},Jn.prototype.resolve=function(u){const g=En(this);let _=!!u.j;_?us(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var T=u.h;if(_)Zn(g,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=g.h.lastIndexOf("/");U!=-1&&(T=g.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const Ie=U[ne++];Ie=="."?T&&ne==U.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ne==U.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=U}return _?g.h=T:_=u.i.toString()!=="",_?ci(g,Na(u.i)):_=!!u.m,_&&(g.m=u.m),g};function En(u){return new Jn(u)}function us(u,g,_){u.j=_?cs(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Zn(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function ci(u,g,_){g instanceof Oe?(u.i=g,ao(u.i,u.l)):(_||(g=hs(g,Nh)),u.i=new Oe(g,u.l))}function Ue(u,g,_){u.i.set(g,_)}function Cr(u){return Ue(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function cs(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hs(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Ia),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ia(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,Ra=/[#\?:]/g,ds=/[#\?]/g,Nh=/[#\?@]/g,Aa=/#/g;function Oe(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function er(u){u.g||(u.g=new Map,u.h=0,u.i&&ln(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Oe.prototype,n.add=function(u,g){er(this),this.i=null,u=tr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ca(u,g){er(u),g=tr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function oo(u,g){return er(u),g=tr(u,g),u.g.has(g)}n.forEach=function(u,g){er(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(g,U,T,this)},this)},this)};function Pa(u,g){er(u);let _=[];if(typeof g=="string")oo(u,g)&&(_=_.concat(u.g.get(tr(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}n.set=function(u,g){return er(this),this.i=null,u=tr(this,u),oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=Pa(this,u),u.length>0?String(u[0]):g):g};function ka(u,g,_){Ca(u,g),_.length>0&&(u.i=null,u.g.set(tr(u,g),V(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var _=g[T];const U=Xn(_);_=Pa(this,_);for(let q=0;q<_.length;q++){let ne=U;_[q]!==""&&(ne+="="+Xn(_[q])),u.push(ne)}}return this.i=u.join("&")};function Na(u){const g=new Oe;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function tr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ao(u,g){g&&!u.j&&(er(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(Ca(this,T),ka(this,U,_))},u)),u.j=g}function nr(u,g){const _=new ai;if(c.Image){const T=new Image;T.onload=v(Pt,_,"TestLoadImage: loaded",!0,g,T),T.onerror=v(Pt,_,"TestLoadImage: error",!1,g,T),T.onabort=v(Pt,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=v(Pt,_,"TestLoadImage: timeout",!1,g,T),c.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function rr(u,g){const _=new ai,T=new AbortController,U=setTimeout(()=>{T.abort(),Pt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Pt(_,"TestPingServer: ok",!0,g):Pt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Pt(_,"TestPingServer: error",!1,g)})}function Pt(u,g,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function fs(){this.g=new rs}function Pr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Pr,ri),Pr.prototype.g=function(){return new un(this.i,this.h)};function un(u,g){ft.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(un,ft),n=un.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Vn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||c).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;au(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function au(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?hi(this):Vn(this),this.readyState==3&&au(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,hi(this))},n.Na=function(u){this.g&&(this.response=u,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Vn(u)}n.setRequestHeader=function(u,g){this.A.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Vn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(un.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lu(u){let g="";return pe(u,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function lo(u,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=lu(_),typeof u=="string"?_!=null&&Xn(_):Ue(u,g,_))}function qe(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(qe,ft);var uu=/^https?$/i,xh=["POST","PUT"];n=qe.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():eu.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){di(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(xh,g,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){di(this,q)}};function di(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,fi(u),Nr(u)}function fi(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},n.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof l<"u"){if(u.v&&ir(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),ir(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=q===0){let ne=String(u.D).match(ou)[1]||null;!ne&&c.self&&c.self.location&&(ne=c.self.location.protocol.slice(0,-1)),T=!uu.test(ne?ne.toLowerCase():"")}_=T}if(_)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var U=ir(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",fi(u)}}finally{Nr(u)}}}}function Nr(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||lt(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ir(u){return u.g?u.g.readyState:0}n.ca=function(){try{return ir(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ql(g)}};function cu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xa(u){const g={};u=(u.g&&ir(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var _=no(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[U]||[];g[U]=q,q.push(_)}le(g,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function uo(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sr("baseRetryDelayMs",5e3,u),this.Za=sr("retryDelaySeedMs",1e4,u),this.Ta=sr("forwardChannelMaxRetries",2,u),this.va=sr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new io(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=uo.prototype,n.ka=8,n.I=1,n.connect=function(u,g,_,T){it(0),this.W=u,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=ba(this,null,this.W),xr(this)};function co(u){if(ho(u),u.I==3){var g=u.V++,_=En(u.J);if(Ue(_,"SID",u.M),Ue(_,"RID",g),Ue(_,"TYPE","terminate"),or(u,_),g=new wn(u,u.j,g),g.M=2,g.A=Cr(En(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=g.A,_=!0),_||(g.g=du(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ss(g)}gs(u)}function cn(u){u.g&&(ms(u),u.g.cancel(),u.g=null)}function ho(u){cn(u),u.v&&(c.clearTimeout(u.v),u.v=null),fo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function xr(u){if(!Ea(u.h)&&!u.m){u.m=!0;var g=u.Ea;ye||R(),_e||(ye(),_e=!0),x.add(g,u),u.D=0}}function hu(u,g){return as(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(y(u.Ea,u,g),mo(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new wn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),Re(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Da(this,U,g),_=En(this.J),Ue(_,"RID",u),Ue(_,"CVER",22),this.G&&Ue(_,"X-HTTP-Session-Id",this.G),or(this,_),q&&(this.R?g="headers="+Xn(lu(q))+"&"+g:this.u&&lo(_,this.u,q)),so(this.h,U),this.Ra&&Ue(_,"TYPE","init"),this.S?(Ue(_,"$req",g),Ue(_,"SID","null"),U.U=!0,On(U,_,null)):On(U,_,g),this.I=2}}else this.I==3&&(u?ps(this,u):this.i.length==0||Ea(this.h)||ps(this))};function ps(u,g){var _;g?_=g.l:_=u.V++;const T=En(u.J);Ue(T,"SID",u.M),Ue(T,"RID",_),Ue(T,"AID",u.K),or(u,T),u.u&&u.o&&lo(T,u.u,u.o),_=new wn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Da(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),so(u.h,_),On(_,T,g)}function or(u,g){u.H&&pe(u.H,function(_,T){Ue(g,T,_)}),u.l&&pe({},function(_,T){Ue(g,T,_)})}function Da(u,g,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const ut=["count="+_];Ie==-1?_>0?(Ie=U[0].g,ut.push("ofs="+Ie)):Ie=0:ut.push("ofs="+Ie);let ze=!0;for(let pt=0;pt<_;pt++){var q=U[pt].g;const dn=U[pt].map;if(q-=Ie,q<0)Ie=Math.max(0,U[pt].g-100),ze=!1;else try{q="req"+q+"_"||"";try{var ne=dn instanceof Map?dn:Object.entries(dn);for(const[Dr,lr]of ne){let ur=lr;d(lr)&&(ur=ni(lr)),ut.push(q+Dr+"="+encodeURIComponent(ur))}}catch(Dr){throw ut.push(q+"type="+encodeURIComponent("_badmap")),Dr}}catch{T&&T(dn)}}if(ze){ne=ut.join("&");break e}}ne=void 0}return u=u.i.splice(0,_),g.G=u,ne}function Lt(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;ye||R(),_e||(ye(),_e=!0),x.add(g,u),u.A=0}}function ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(y(u.Da,u),mo(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,pi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),cn(this),pi(this))};function ms(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function pi(u){u.g=new wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=En(u.na);Ue(g,"RID","rpc"),Ue(g,"SID",u.M),Ue(g,"AID",u.K),Ue(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ue(g,"TO",u.ia),Ue(g,"TYPE","xmlhttp"),or(u,g),u.u&&u.o&&lo(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Cr(En(g)),_.u=null,_.R=!0,va(_,u)}n.Va=function(){this.C!=null&&(this.C=null,cn(this),ar(this),it(19))};function fo(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function po(u,g){var _=null;if(u.g==g){fo(u),ms(u),u.g=null;var T=2}else if(Ta(u.h,g))_=g.G,ls(u.h,g),T=1;else return;if(u.I!=0){if(g.o)if(T==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;T=si(),lt(T,new ya(T,_)),xr(u)}else Lt(u);else if(U=g.m,U==3||U==0&&g.X>0||!(T==1&&hu(u,g)||T==2&&ar(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),U){case 1:hn(u,5);break;case 4:hn(u,10);break;case 3:hn(u,6);break;default:hn(u,2)}}}function mo(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function hn(u,g){if(u.j.info("Error code "+g),g==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new Jn(T||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||us(T,"https"),Cr(T),U?nr(T.toString(),_):rr(T.toString(),_)}else it(2);u.I=0,u.l&&u.l.pa(g),gs(u),ho(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function gs(u){if(u.I=0,u.ja=[],u.l){const g=an(u.h);(g.length!=0||u.i.length!=0)&&(z(u.ja,g),z(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function ba(u,g,_){var T=_ instanceof Jn?En(_):new Jn(_);if(T.g!="")g&&(T.g=g+"."+T.g),Zn(T,T.u);else{var U=c.location;T=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const q=new Jn(null);T&&us(q,T),g&&(q.g=g),U&&Zn(q,U),_&&(q.h=_),T=q}return _=u.G,g=u.wa,_&&g&&Ue(T,_,g),Ue(T,"VER",u.ka),or(u,T),T}function du(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new qe(new Pr({ab:_})):new qe(u.ma),g.Fa(u.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}n=fu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function go(){}go.prototype.g=function(u,g){return new kt(u,g)};function kt(u,g){ft.call(this),this.g=new uo(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!S(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new mi(this)}E(kt,ft),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){co(this.g)},kt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ni(u),u=_);g.i.push(new kh(g.Ya++,u)),g.I==3&&xr(g)},kt.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,kt.Z.N.call(this)};function pu(u){Zs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}E(pu,Zs);function mu(){ga.call(this),this.status=1}E(mu,ga);function mi(u){this.g=u}E(mi,fu),mi.prototype.ra=function(){lt(this.g,"a")},mi.prototype.qa=function(u){lt(this.g,new pu(u))},mi.prototype.pa=function(u){lt(this.g,new mu)},mi.prototype.oa=function(){lt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Ww=function(){return new go},Hw=function(){return si()},qw=bn,Of={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,Rc=li,ui.COMPLETE="complete",$w=ui,Yl.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ft.prototype.listen=ft.prototype.J,cl=Yl,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,zw=qe}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",m_="4.9.2";class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");let oa="12.3.0";const Ms=new rh("@firebase/firestore");function Fo(){return Ms.logLevel}function ae(n,...e){if(Ms.logLevel<=xe.DEBUG){const t=e.map(Ep);Ms.debug(`Firestore (${oa}): ${n}`,...t)}}function Xr(n,...e){if(Ms.logLevel<=xe.ERROR){const t=e.map(Ep);Ms.error(`Firestore (${oa}): ${n}`,...t)}}function Qo(n,...e){if(Ms.logLevel<=xe.WARN){const t=e.map(Ep);Ms.warn(`Firestore (${oa}): ${n}`,...t)}}function Ep(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Kw(n,i,t)}function Kw(n,e,t){let i=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xr(i),new Error(i)}function Be(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||Kw(e,o,i)}function Se(n,e){return n}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends xn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Gw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class B1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class z1{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string",31837,{l:i}),new Gw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class $1{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q1{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new $1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function W1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=W1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Vf(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return ff(o)===ff(l)?De(o,l):ff(o)?1:-1}return De(n.length,e.length)}const K1=55296,G1=57343;function ff(n){const e=n.charCodeAt(0);return e>=K1&&e<=G1}function Yo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}const y_="__name__";class pr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=pr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const i=pr.isNumericId(e),o=pr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?pr.extractNumericId(e).compare(pr.extractNumericId(t)):Vf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class We extends pr{construct(e,t,i){return new We(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new We(t)}static emptyPath(){return new We([])}}const Q1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends pr{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return Q1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new bt([y_])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new se(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new se(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new se(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(We.fromString(e))}static fromName(e){return new fe(We.fromString(e).popFirst(5))}static empty(){return new fe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new We(e.slice()))}}function Qw(n,e,t){if(!t)throw new se(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Y1(n,e,t,i){if(e===!0&&i===!0)throw new se(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function __(n){if(!fe.isDocumentKey(n))throw new se(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v_(n){if(fe.isDocumentKey(n))throw new se(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lh(n);throw new se(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _t(n,e){const t={typeString:n};return e&&(t.value=e),t}function jl(n,e){if(!Yw(n))throw new se(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new se(K.INVALID_ARGUMENT,t);return!0}const w_=-62135596800,E_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*E_);return new Ye(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<w_)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:_t("string",Ye._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Ye(0,0))}static max(){return new Te(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Al=-1;function X1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new Ye(t+1,0):new Ye(t,i));return new $i(o,fe.empty(),e)}function J1(n){return new $i(n.readTime,n.key,Al)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(Te.min(),fe.empty(),Al)}static max(){return new $i(Te.max(),fe.empty(),Al)}}function Z1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}const eP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function aa(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==eP)throw n;ae("LocalStore","Unexpectedly lost primary lease")}class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,i)=>{t(e)}))}static reject(e){return new G(((t,i)=>{i(e)}))}static waitFor(e){return new G(((t,i)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next((o=>o?G.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new G(((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((v=>{c[y]=v,++d,d===l&&i(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new G(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function nP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function la(n){return n.name==="IndexedDbTransactionError"}class uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uh.ce=-1;const Ip=-1;function ch(n){return n==null}function Bc(n){return n===0&&1/n==-1/0}function rP(n){return typeof n=="number"&&Number.isInteger(n)&&!Bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Xw="";function iP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=T_(e)),e=sP(n.get(t),e);return T_(e)}function sP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Xw:t+="";break;default:t+=l}}return t}function T_(n){return n+Xw+""}function I_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function es(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Tt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zw("Invalid base64 string: "+l):l}})(e);return new Ot(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=oP.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hi(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}const eE="server_timestamp",tE="__type__",nE="__previous_value__",rE="__local_write_time__";function Sp(n){return(n?.mapValue?.fields||{})[tE]?.stringValue===eE}function hh(n){const e=n.mapValue.fields[nE];return Sp(e)?hh(e):e}function Cl(n){const e=qi(n.mapValue.fields[rE].timestampValue);return new Ye(e.seconds,e.nanos)}class aP{constructor(e,t,i,o,l,c,d,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const zc="(default)";class Pl{constructor(e,t){this.projectId=e,this.database=t||zc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}const iE="__type__",lP="__max__",fc={mapValue:{}},sE="__vector__",$c="value";function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sp(n)?4:cP(n)?9007199254740991:uP(n)?10:11:we(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cl(n).isEqual(Cl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=qi(o.timestampValue),d=qi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Hi(o.bytesValue).isEqual(Hi(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return ht(o.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ht(o.integerValue)===ht(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ht(o.doubleValue),d=ht(l.doubleValue);return c===d?Bc(c)===Bc(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(I_(c)!==I_(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Tr(c[p],d[p])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function kl(n,e){return(n.values||[]).find((t=>Tr(t,e)))!==void 0}function Xo(n,e){if(n===e)return 0;const t=Wi(n),i=Wi(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=ht(l.integerValue||l.doubleValue),p=ht(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return R_(n.timestampValue,e.timestampValue);case 4:return R_(Cl(n),Cl(e));case 5:return Vf(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Hi(l),p=Hi(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=De(d[y],p[y]);if(v!==0)return v}return De(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=De(ht(l.latitude),ht(c.latitude));return d!==0?d:De(ht(l.longitude),ht(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return A_(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},y=d[$c]?.arrayValue,v=p[$c]?.arrayValue,E=De(y?.values?.length||0,v?.values?.length||0);return E!==0?E:A_(y,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===fc.mapValue&&c===fc.mapValue)return 0;if(l===fc.mapValue)return 1;if(c===fc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const I=Vf(p[E],v[E]);if(I!==0)return I;const V=Xo(d[p[E]],y[v[E]]);if(V!==0)return V}return De(p.length,v.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function R_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=qi(n),i=qi(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function A_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Xo(t[o],i[o]);if(l)return l}return De(t.length,i.length)}function Jo(n){return Lf(n)}function Lf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=qi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Lf(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Lf(t.fields[c])}`;return o+"}"})(n.mapValue):we(61005,{value:n})}function Ac(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(n);return e?16+Ac(e):16;case 5:return 2*n.stringValue.length;case 6:return Hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Ac(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return es(i.fields,((l,c)=>{o+=l.length+Ac(c)})),o})(n.mapValue);default:throw we(13486,{value:n})}}function C_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mf(n){return!!n&&"integerValue"in n}function Rp(n){return!!n&&"arrayValue"in n}function P_(n){return!!n&&"nullValue"in n}function k_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cc(n){return!!n&&"mapValue"in n}function uP(n){return(n?.mapValue?.fields||{})[iE]?.stringValue===sE}function gl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return es(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=gl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gl(n.arrayValue.values[t]);return e}return{...n}}function cP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lP}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=gl(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){es(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new sn(gl(this.value))}}function oE(n){const e=[];return es(n.fields,((t,i)=>{const o=new bt([t]);if(Cc(i)){const l=oE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new yn(e)}class $t{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Te.min(),Te.min(),Te.min(),sn.empty(),0)}static newFoundDocument(e,t,i,o){return new $t(e,1,t,Te.min(),i,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Te.min(),Te.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Te.min(),Te.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}function N_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=fe.comparator(fe.fromName(c.referenceValue),t.key):i=Xo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function x_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}class Hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function hP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aE{}class yt extends aE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fP(e,t,i):t==="array-contains"?new gP(e,i):t==="in"?new yP(e,i):t==="not-in"?new _P(e,i):t==="array-contains-any"?new vP(e,i):new yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pP(e,i):new mP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kn(e,t)}matches(e){return lE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(n){return n.op==="and"}function uE(n){return dP(n)&&lE(n)}function dP(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}function Ff(n){if(n instanceof yt)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(uE(n))return n.filters.map((e=>Ff(e))).join(",");{const e=n.filters.map((t=>Ff(t))).join(",");return`${n.op}(${e})`}}function cE(n,e){return n instanceof yt?(function(i,o){return o instanceof yt&&i.op===o.op&&i.field.isEqual(o.field)&&Tr(i.value,o.value)})(n,e):n instanceof Kn?(function(i,o){return o instanceof Kn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,d)=>l&&cE(c,o.filters[d])),!0):!1})(n,e):void we(19439)}function hE(n){return n instanceof yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`})(n):n instanceof Kn?(function(t){return t.op.toString()+" {"+t.getFilters().map(hE).join(" ,")+"}"})(n):"Filter"}class fP extends yt{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class pP extends yt{constructor(e,t){super(e,"in",t),this.keys=dE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mP extends yt{constructor(e,t){super(e,"not-in",t),this.keys=dE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dE(n,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class gP extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rp(t)&&kl(t.arrayValue,this.value)}}class yP extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kl(this.value.arrayValue,t)}}class _P extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kl(this.value.arrayValue,t)}}class vP extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>kl(this.value.arrayValue,i)))}}class wP{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function D_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new wP(n,e,t,i,o,l,c)}function Ap(n){const e=Se(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Ff(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Jo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Jo(i))).join(",")),e.Te=t}return e.Te}function Cp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function Uf(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Bl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EP(n,e,t,i,o,l,c,d){return new Bl(n,e,t,i,o,l,c,d)}function Pp(n){return new Bl(n)}function b_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fE(n){return n.collectionGroup!==null}function yl(n){const e=Se(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Tt(bt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Hc(l,i))})),t.has(bt.keyField().canonicalString())||e.Ie.push(new Hc(bt.keyField(),i))}return e.Ie}function _r(n){const e=Se(n);return e.Ee||(e.Ee=TP(e,yl(n))),e.Ee}function TP(n,e){if(n.limitType==="F")return D_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Hc(o.field,l)}));const t=n.endAt?new qc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qc(n.startAt.position,n.startAt.inclusive):null;return D_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function jf(n,e){const t=n.filters.concat([e]);return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bf(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dh(n,e){return Cp(_r(n),_r(e))&&n.limitType===e.limitType}function pE(n){return`${Ap(_r(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>hE(o))).join(", ")}]`),ch(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Jo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Jo(o))).join(",")),`Target(${i})`})(_r(n))}; limitType=${n.limitType})`}function fh(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):fe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of yl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,d,p){const y=N_(c,d,p);return c.inclusive?y<=0:y<0})(i.startAt,yl(i),o)||i.endAt&&!(function(c,d,p){const y=N_(c,d,p);return c.inclusive?y>=0:y>0})(i.endAt,yl(i),o))})(n,e)}function IP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mE(n){return(e,t)=>{let i=!1;for(const o of yl(n)){const l=SP(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function SP(n,e,t){const i=n.field.isKeyField()?fe.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Xo(p,y):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return Jw(this.inner)}size(){return this.innerSize}}const RP=new rt(fe.comparator);function Jr(){return RP}const gE=new rt(fe.comparator);function hl(...n){let e=gE;for(const t of n)e=e.insert(t.key,t);return e}function yE(n){let e=gE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ns(){return _l()}function _E(){return _l()}function _l(){return new Hs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const AP=new rt(fe.comparator),CP=new Tt(fe.comparator);function be(...n){let e=CP;for(const t of n)e=e.add(t);return e}const PP=new Tt(De);function kP(){return PP}function kp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function vE(n){return{integerValue:""+n}}function NP(n,e){return rP(e)?vE(e):kp(n,e)}class ph{constructor(){this._=void 0}}function xP(n,e,t){return n instanceof Nl?(function(o,l){const c={fields:{[tE]:{stringValue:eE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sp(l)&&(l=hh(l)),l&&(c.fields[nE]=l),{mapValue:c}})(t,e):n instanceof xl?EE(n,e):n instanceof Dl?TE(n,e):(function(o,l){const c=wE(o,l),d=O_(c)+O_(o.Ae);return Mf(c)&&Mf(o.Ae)?vE(d):kp(o.serializer,d)})(n,e)}function DP(n,e,t){return n instanceof xl?EE(n,e):n instanceof Dl?TE(n,e):t}function wE(n,e){return n instanceof Wc?(function(i){return Mf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Nl extends ph{}class xl extends ph{constructor(e){super(),this.elements=e}}function EE(n,e){const t=IE(e);for(const i of n.elements)t.some((o=>Tr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Dl extends ph{constructor(e){super(),this.elements=e}}function TE(n,e){let t=IE(e);for(const i of n.elements)t=t.filter((o=>!Tr(o,i)));return{arrayValue:{values:t}}}class Wc extends ph{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function O_(n){return ht(n.integerValue||n.doubleValue)}function IE(n){return Rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bP{constructor(e,t){this.field=e,this.transform=t}}function OP(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof xl&&o instanceof xl||i instanceof Dl&&o instanceof Dl?Yo(i.elements,o.elements,Tr):i instanceof Wc&&o instanceof Wc?Tr(i.Ae,o.Ae):i instanceof Nl&&o instanceof Nl})(n.transform,e.transform)}class VP{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mh{}function SE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Np(n.key,kn.none()):new zl(n.key,n.data,kn.none());{const t=n.data,i=sn.empty();let o=new Tt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ts(n.key,i,new yn(o.toArray()),kn.none())}}function LP(n,e,t){n instanceof zl?(function(o,l,c){const d=o.value.clone(),p=L_(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ts?(function(o,l,c){if(!Pc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=L_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(RE(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function vl(n,e,t,i){return n instanceof zl?(function(l,c,d,p){if(!Pc(l.precondition,c))return d;const y=l.value.clone(),v=M_(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof ts?(function(l,c,d,p){if(!Pc(l.precondition,c))return d;const y=M_(l.fieldTransforms,p,c),v=c.data;return v.setAll(RE(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,c,d){return Pc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function MP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=wE(i.transform,o||null);l!=null&&(t===null&&(t=sn.empty()),t.set(i.field,l))}return t||null}function V_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Yo(i,o,((l,c)=>OP(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends mh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends mh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function L_(n,e,t){const i=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,DP(c,d,t[o]))}return i}function M_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,xP(l,c,e))}return i}class Np extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&LP(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_E();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=SE(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),be())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,i)=>V_(t,i)))&&Yo(this.baseMutations,e.baseMutations,((t,i)=>V_(t,i)))}}class xp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return AP})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new xp(e,t,i,o)}}class jP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BP{constructor(e,t){this.count=e,this.unchangedNames=t}}var gt,Ve;function zP(n){switch(n){case K.OK:return we(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function AE(n){if(n===void 0)return Xr("GRPC error has no .code"),K.UNKNOWN;switch(n){case gt.OK:return K.OK;case gt.CANCELLED:return K.CANCELLED;case gt.UNKNOWN:return K.UNKNOWN;case gt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case gt.INTERNAL:return K.INTERNAL;case gt.UNAVAILABLE:return K.UNAVAILABLE;case gt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case gt.NOT_FOUND:return K.NOT_FOUND;case gt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case gt.ABORTED:return K.ABORTED;case gt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case gt.DATA_LOSS:return K.DATA_LOSS;default:return we(39323,{code:n})}}(Ve=gt||(gt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function $P(){return new TextEncoder}const qP=new ji([4294967295,4294967295],0);function F_(n){const e=$P().encode(n),t=new Bw;return t.update(e),new Uint8Array(t.digest())}function U_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ji([t,i],0),new ji([o,l],0)]}class Dp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(i<0)throw new dl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ji.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ji.fromNumber(i)));return o.compare(qP)===1&&(o=new ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=F_(e),[i,o]=U_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Dp(l,o,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=F_(e),[i,o]=U_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gh(Te.min(),o,new rt(De),Jr(),be())}}class $l{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $l(i,t,be(),be(),be())}}class kc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class CE{constructor(e,t){this.targetId=e,this.Ce=t}}class PE{constructor(e,t,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class j_{constructor(){this.ve=0,this.Fe=B_(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),t=be(),i=be();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:l})}})),new $l(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=B_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=pc(),this.He=pc(),this.Ye=new rt(De)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Uf(l))if(i===0){const c=new fe(l.path);this.et(t,c,$t.newNoDocument(c,Te.min()))}else Be(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Hi(i).toUint8Array()}catch(p){if(p instanceof Zw)return Qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Dp(c,o,l)}catch(p){return Qo(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Uf(d.target)){const p=new fe(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,$t.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=be();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new gh(e,t,this.Ye,this.je,i);return this.je=Jr(),this.Je=pc(),this.He=pc(),this.Ye=new rt(De),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new j_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tt(De),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tt(De),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pc(){return new rt(fe.comparator)}function B_(){return new rt(fe.comparator)}const WP={asc:"ASCENDING",desc:"DESCENDING"},KP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GP={and:"AND",or:"OR"};class QP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zf(n,e){return n.useProto3Json||ch(e)?e:{value:e}}function Kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YP(n,e){return Kc(n,e.toTimestamp())}function vr(n){return Be(!!n,49232),Te.fromTimestamp((function(t){const i=qi(t);return new Ye(i.seconds,i.nanos)})(n))}function bp(n,e){return $f(n,e).canonicalString()}function $f(n,e){const t=(function(o){return new We(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function NE(n){const e=We.fromString(n);return Be(VE(e),10190,{key:e.toString()}),e}function qf(n,e){return bp(n.databaseId,e.path)}function pf(n,e){const t=NE(e);if(t.get(1)!==n.databaseId.projectId)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(DE(t))}function xE(n,e){return bp(n.databaseId,e)}function XP(n){const e=NE(n);return e.length===4?We.emptyPath():DE(e)}function Hf(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DE(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function z_(n,e,t){return{name:qf(n,e),fields:t.value.mapValue.fields}}function JP(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(Be(v===void 0||typeof v=="string",58123),Ot.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ot.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(y){const v=y.code===void 0?K.UNKNOWN:AE(y.code);return new se(v,y.message||"")})(c);t=new PE(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=pf(n,i.document.name),l=vr(i.document.updateTime),c=i.document.createTime?vr(i.document.createTime):Te.min(),d=new sn({mapValue:{fields:i.document.fields}}),p=$t.newFoundDocument(o,l,c,d),y=i.targetIds||[],v=i.removedTargetIds||[];t=new kc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=pf(n,i.document),l=i.readTime?vr(i.readTime):Te.min(),c=$t.newNoDocument(o,l),d=i.removedTargetIds||[];t=new kc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=pf(n,i.document),l=i.removedTargetIds||[];t=new kc([],l,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new BP(o,l),d=i.targetId;t=new CE(d,c)}}return t}function ZP(n,e){let t;if(e instanceof zl)t={update:z_(n,e.key,e.value)};else if(e instanceof Np)t={delete:qf(n,e.key)};else if(e instanceof ts)t={update:z_(n,e.key,e.data),updateMask:lk(e.fieldMask)};else{if(!(e instanceof FP))return we(16599,{Vt:e.type});t={verify:qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Nl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Dl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:YP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function ek(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?vr(o.updateTime):vr(l);return c.isEqual(Te.min())&&(c=vr(l)),new VP(c,o.transformResults||[])})(t,e)))):[]}function tk(n,e){return{documents:[xE(n,e.path)]}}function nk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=xE(n,o);const l=(function(y){if(y.length!==0)return OE(Kn.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((v=>(function(I){return{field:jo(I.field),direction:sk(I.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=zf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function rk(n){let e=XP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const I=bE(E);return I instanceof Kn&&uE(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((I=>(function(z){return new Hc(Bo(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let I;return I=typeof E=="object"?E.value:E,ch(I)?null:I})(t.limit));let p=null;t.startAt&&(p=(function(E){const I=!!E.before,V=E.values||[];return new qc(V,I)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const I=!E.before,V=E.values||[];return new qc(V,I)})(t.endAt)),EP(e,o,c,l,d,"F",p,y)}function ik(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bo(t.unaryFilter.field);return yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Bo(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(t.unaryFilter.field);return yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return yt.create(Bo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Kn.create(t.compositeFilter.filters.map((i=>bE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function sk(n){return WP[n]}function ok(n){return KP[n]}function ak(n){return GP[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return bt.fromServerFormat(n.fieldPath)}function OE(n){return n instanceof yt?(function(t){if(t.op==="=="){if(k_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(P_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(k_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(P_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:ok(t.op),value:t.value}}})(n):n instanceof Kn?(function(t){const i=t.getFilters().map((o=>OE(o)));return i.length===1?i[0]:{compositeFilter:{op:ak(t.op),filters:i}}})(n):we(54877,{filter:n})}function lk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function VE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Mi{constructor(e,t,i,o,l=Te.min(),c=Te.min(),d=Ot.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uk{constructor(e){this.yt=e}}function ck(n){const e=rk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bf(e,e.limit,"L"):e}class hk{constructor(){this.Cn=new dk}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve($i.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Tt(We.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(We.comparator)).toArray()}}const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LE=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(LE,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}const q_="LruGarbageCollector",fk=1048576;function H_([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class pk{constructor(e){this.Ir=e,this.buffer=new Tt(H_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();H_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(q_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?ae(q_,"Ignoring IndexedDB error during garbage collection: ",t):await aa(t)}await this.Vr(3e5)}))}}class gk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(uh.ce);const i=new pk(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve($_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Fo()<=xe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function yk(n,e){return new gk(n,e)}class _k{constructor(){this.changes=new Hs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&vl(i.mutation,o,yn.empty(),Ye.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,be()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=be()){const o=Ns();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=hl();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Ns();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,be())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,o){let l=Jr();const c=_l(),d=(function(){return _l()})();return t.forEach(((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ts)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),vl(v.mutation,y,v.mutation.getFieldMask(),Ye.now())):c.set(y.key,yn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,v)=>c.set(y,v))),t.forEach(((y,v)=>d.set(y,new vk(v,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=_l();let o=new rt(((c,d)=>c-d)),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||yn.empty();v=d.applyToLocalView(y,v),i.set(p,v);const E=(o.get(d.batchId)||be()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,E=_E();v.forEach((I=>{if(!l.has(I)){const V=SE(t.get(I),i.get(I));V!==null&&E.set(I,V),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return G.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return fe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(Ns());let d=Al,p=l;return c.next((y=>G.forEach(y,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{p=p.insert(v,I)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,be()))).next((v=>({batchId:d,changes:yE(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((i=>{let o=hl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=hl();return this.indexManager.getCollectionParents(e,l).next((d=>G.forEach(d,(p=>{const y=(function(E,I){return new Bl(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((v=>{v.forEach(((E,I)=>{c=c.insert(E,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,$t.newInvalidDocument(v)))}));let d=hl();return c.forEach(((p,y)=>{const v=l.get(p);v!==void 0&&vl(v.mutation,y,yn.empty(),Ye.now()),fh(t,y)&&(d=d.insert(p,y))})),d}))}}class Ek{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return G.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:ck(o.bundledQuery),readTime:vr(o.readTime)}})(t)),G.resolve()}}class Tk{constructor(){this.overlays=new rt(fe.comparator),this.qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ns();return G.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=Ns(),l=t.length+1,c=new fe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new rt(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=Ns(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Ns(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return G.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new jP(t,i));let l=this.qr.get(t);l===void 0&&(l=be(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class Ik{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}class Op{constructor(){this.Qr=new Tt(Ct.$r),this.Ur=new Tt(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Ct(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Ct(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new fe(new We([])),i=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new We([])),i=new Ct(t,e),o=new Ct(t,e+1);let l=be();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Ct(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||De(e.Yr,t.Yr)}static Kr(e,t){return De(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}class Sk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Ct.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UP(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Ct(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,t){return G.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(De);return t.forEach((o=>{const l=new Ct(o,0),c=new Ct(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),G.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;fe.isDocumentKey(l)||(l=l.child(""));const c=new Ct(new fe(l),0);let d=new Tt(De);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Yr)),!0)}),c),G.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return G.forEach(t.mutations,(o=>{const l=new Ct(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Ct(t,0),o=this.Zr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rk{constructor(e){this.ri=e,this.docs=(function(){return new rt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let i=Jr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))})),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Jr();const c=t.path,d=new fe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||Z1(J1(v),i)<=0||(o.has(v.key)||fh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){we(9500)}ii(e,t){return G.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Ak(this)}getSize(e){return G.resolve(this.size)}}class Ak extends _k{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),G.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Ck{constructor(e){this.persistence=e,this.si=new Hs((t=>Ap(t)),Cp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),G.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Pr(t),G.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),G.waitFor(l).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this._i.containsKey(t))}}class ME{constructor(e,t){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new Ik,this.referenceDelegate=e(this),this.Pi=new Ck(this),this.indexManager=new hk,this.remoteDocumentCache=(function(o){return new Rk(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new uk(t),this.Ii=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Sk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new Pk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return G.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Pk extends tP{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(i=>{const o=fe.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gc{constructor(e,t){this.persistence=e,this.pi=new Hs((i=>iP(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=yk(this,t)}static mi(e,t){return new Gc(e,t)}Ei(){}di(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return G.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?G.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Te.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}br(e,t,i){return G.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Lp(e,t.fromCache,i,o)}}class kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aR()?8:nP(qt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new kk;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Fo()<=xe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Fo()<=xe.DEBUG&&ae("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Fo()<=xe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):G.resolve())}ys(e,t){if(b_(t))return G.resolve(null);let i=_r(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Bf(t,null,"F"),i=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=be(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,d);return this.Cs(t,y,c,p.readTime)?this.ys(e,Bf(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return b_(t)||o.isEqual(Te.min())?G.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?G.resolve(null):(Fo()<=xe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.vs(e,c,t,X1(o,Al)).next((d=>d)))}))}Ds(e,t){let i=new Tt(mE(e));return t.forEach(((o,l)=>{fh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Fo()<=xe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ps.getDocumentsMatchingQuery(e,t,$i.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Mp="LocalStore",xk=3e8;class Dk{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new rt(De),this.xs=new Hs((l=>Ap(l)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function bk(n,e,t,i){return new Dk(n,e,t,i)}async function FE(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=be();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function Ok(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,v){const E=y.batch,I=E.keys();let V=G.resolve();return I.forEach((z=>{V=V.next((()=>v.getEntry(p,z))).next((H=>{const L=y.docVersions.get(z);Be(L!==null,48541),H.version.compareTo(L)<0&&(E.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),v.addEntry(H)))}))})),V.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=be();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function UE(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Vk(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const I=o.get(E);if(!I)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let V=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(Ot.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,i)),o=o.insert(E,V),(function(H,L,Q){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=xk?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(I,V,v)&&d.push(t.Pi.updateTargetData(l,V))}));let p=Jr(),y=be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Lk(l,c,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!i.isEqual(Te.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return G.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function Lk(n,e,t){let i=be(),o=be();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Jr();return t.forEach(((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ae(Mp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function Mk(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ip),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Fk(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,G.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new Mi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Wf(n,e,t){const i=Se(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!la(c))throw c;ae(Mp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function W_(n,e,t){const i=Se(n);let o=Te.min(),l=be();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,v){const E=Se(p),I=E.xs.get(v);return I!==void 0?G.resolve(E.Ms.get(I)):E.Pi.getTargetData(y,v)})(i,c,_r(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Te.min(),t?l:be()))).next((d=>(Uk(i,IP(e),d),{documents:d,Qs:l})))))}function Uk(n,e,t){let i=n.Os.get(e)||Te.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class K_{constructor(){this.activeTargetIds=kP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jk{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bk{Oo(e){}shutdown(){}}const G_="ConnectivityMonitor";class Q_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(G_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(G_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mc=null;function Kf(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}const mf="RestConnection",zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $k{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===zc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Kf(),d=this.zo(e,t.toUriEncodedString());ae(mf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:y}=new URL(d),v=Yi(y);return this.Jo(e,d,p,i,v).then((E=>(ae(mf,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Qo(mf,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=zk[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class qk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Bt="WebChannelConnection";class Hk extends $k{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Kf();return new Promise(((d,p)=>{const y=new zw;y.setWithCredentials(!0),y.listenOnce($w.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rc.NO_ERROR:const E=y.getResponseJson();ae(Bt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Rc.TIMEOUT:ae(Bt,`RPC '${e}' ${c} timed out`),p(new se(K.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const I=y.getStatus();if(ae(Bt,`RPC '${e}' ${c} failed with status:`,I,"response text:",y.getResponseText()),I>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V?.error;if(z&&z.status&&z.message){const H=(function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(W)>=0?W:K.UNKNOWN})(z.status);p(new se(H,z.message))}else p(new se(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new se(K.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Bt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ae(Bt,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=Kf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ww(),d=Hw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ae(Bt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let I=!1,V=!1;const z=new qk({Yo:L=>{V?ae(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(I||(ae(Bt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),ae(Bt,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),H=(L,Q,W)=>{L.listen(Q,(ee=>{try{W(ee)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return H(E,cl.EventType.OPEN,(()=>{V||(ae(Bt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),H(E,cl.EventType.CLOSE,(()=>{V||(V=!0,ae(Bt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(E))})),H(E,cl.EventType.ERROR,(L=>{V||(V=!0,Qo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new se(K.UNAVAILABLE,"The operation could not be completed")))})),H(E,cl.EventType.MESSAGE,(L=>{if(!V){const Q=L.data[0];Be(!!Q,16349);const W=Q,ee=W?.error||W[0]?.error;if(ee){ae(Bt,`RPC '${e}' stream ${o} received error:`,ee);const ie=ee.status;let ye=(function(R){const C=gt[R];if(C!==void 0)return AE(C)})(ie),_e=ee.message;ye===void 0&&(ye=K.INTERNAL,_e="Unknown error status: "+ie+" with message "+ee.message),V=!0,z.a_(new se(ye,_e)),E.close()}else ae(Bt,`RPC '${e}' stream ${o} received:`,Q),z.u_(Q)}})),H(d,qw.STAT_EVENT,(L=>{L.stat===Of.PROXY?ae(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Of.NOPROXY&&ae(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function gf(){return typeof document<"u"?document:null}function yh(n){return new QP(n,!0)}class jE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Y_="PersistentStream";class BE{constructor(e,t,i,o,l,c,d,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new se(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ae(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wk extends BE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=JP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Te.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Te.min():c.readTime?vr(c.readTime):Te.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Hf(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Uf(p)?{documents:tk(l,p)}:{query:nk(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=kE(l,c.resumeToken);const y=zf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Te.min())>0){d.readTime=Kc(l,c.snapshotVersion.toTimestamp());const y=zf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const i=ik(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Hf(this.serializer),t.removeTarget=e,this.q_(t)}}class Kk extends BE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ek(e.writeResults,e.commitTime),i=vr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Hf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>ZP(this.serializer,i)))};this.q_(t)}}class Gk{}class Qk extends Gk{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,$f(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(K.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,$f(t,i),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(K.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fs="RemoteStore";class Xk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ws(this)&&(ae(Fs,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ea.add(4),await ql(y),y.Ra.set("Unknown"),y.Ea.delete(4),await _h(y)})(this))}))})),this.Ra=new Yk(i,o)}}async function _h(n){if(Ws(n))for(const e of n.da)await e(!0)}async function ql(n){for(const e of n.da)await e(!1)}function zE(n,e){const t=Se(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bp(t)?jp(t):ua(t).O_()&&Up(t,e))}function Fp(n,e){const t=Se(n),i=ua(t);t.Ia.delete(e),i.O_()&&$E(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ws(t)&&t.Ra.set("Unknown"))}function Up(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).Y_(e)}function $E(n,e){n.Va.Ue(e),ua(n).Z_(e)}function jp(n){n.Va=new HP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.Ra.ua()}function Bp(n){return Ws(n)&&!ua(n).x_()&&n.Ia.size>0}function Ws(n){return Se(n).Ea.size===0}function qE(n){n.Va=void 0}async function Jk(n){n.Ra.set("Online")}async function Zk(n){n.Ia.forEach(((e,t)=>{Up(n,e)}))}async function eN(n,e){qE(n),Bp(n)?(n.Ra.ha(e),jp(n)):n.Ra.set("Unknown")}async function tN(n,e,t){if(n.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(i){ae(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qc(n,i)}else if(e instanceof kc?n.Va.Ze(e):e instanceof CE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Te.min()))try{const i=await UE(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,y)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Ot.EMPTY_BYTE_STRING,v.snapshotVersion)),$E(l,p);const E=new Mi(v.target,p,y,v.sequenceNumber);Up(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){ae(Fs,"Failed to raise snapshot:",i),await Qc(n,i)}}async function Qc(n,e,t){if(!la(e))throw e;n.Ea.add(1),await ql(n),n.Ra.set("Offline"),t||(t=()=>UE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ae(Fs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _h(n)}))}function HE(n,e){return e().catch((t=>Qc(n,t,e)))}async function vh(n){const e=Se(n),t=Ki(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;nN(e);)try{const o=await Mk(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,rN(e,o)}catch(o){await Qc(e,o)}WE(e)&&KE(e)}function nN(n){return Ws(n)&&n.Ta.length<10}function rN(n,e){n.Ta.push(e);const t=Ki(n);t.O_()&&t.X_&&t.ea(e.mutations)}function WE(n){return Ws(n)&&!Ki(n).x_()&&n.Ta.length>0}function KE(n){Ki(n).start()}async function iN(n){Ki(n).ra()}async function sN(n){const e=Ki(n);for(const t of n.Ta)e.ea(t.mutations)}async function oN(n,e,t){const i=n.Ta.shift(),o=xp.from(i,e,t);await HE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await vh(n)}async function aN(n,e){e&&Ki(n).X_&&await(async function(i,o){if((function(c){return zP(c)&&c!==K.ABORTED})(o.code)){const l=i.Ta.shift();Ki(i).B_(),await HE(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await vh(i)}})(n,e),WE(n)&&KE(n)}async function X_(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ae(Fs,"RemoteStore received new credentials");const i=Ws(t);t.Ea.add(3),await ql(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _h(t)}async function lN(n,e){const t=Se(n);e?(t.Ea.delete(2),await _h(t)):e||(t.Ea.add(2),await ql(t),t.Ra.set("Unknown"))}function ua(n){return n.ma||(n.ma=(function(t,i,o){const l=Se(t);return l.sa(),new Wk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:Jk.bind(null,n),t_:Zk.bind(null,n),r_:eN.bind(null,n),H_:tN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Bp(n)?jp(n):n.Ra.set("Unknown")):(await n.ma.stop(),qE(n))}))),n.ma}function Ki(n){return n.fa||(n.fa=(function(t,i,o){const l=Se(t);return l.sa(),new Kk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iN.bind(null,n),r_:aN.bind(null,n),ta:sN.bind(null,n),na:oN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await vh(n)):(await n.fa.stop(),n.Ta.length>0&&(ae(Fs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class zp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new zp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),la(n))return new se(K.UNAVAILABLE,`${e}: ${n}`);throw n}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=hl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class J_{constructor(){this.ga=new rt(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ea{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new ea(e,t,Wo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class uN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cN{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=Z_(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new se(K.ABORTED,"Firestore shutting down"))}}function Z_(){return new Hs((n=>pE(n)),dh)}async function GE(n,e){const t=Se(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new uN,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=$p(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&qp(t)}async function QE(n,e){const t=Se(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function hN(n,e){const t=Se(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(i=!0);c.wa=o}}i&&qp(t)}function dN(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function qp(n){n.Ca.forEach((e=>{e.next()}))}var Gf,ev;(ev=Gf||(Gf={})).Ma="default",ev.Cache="cache";class YE{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ea(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gf.Cache}}class XE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class fN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=mE(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new J_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const I=o.get(v),V=fh(this.query,E)?E:null,z=!!I&&this.mutatedKeys.has(I.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;I&&V?I.data.isEqual(V.data)?z!==H&&(i.track({type:3,doc:V}),L=!0):this.su(I,V)||(i.track({type:2,doc:V}),L=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(d=!0)):!I&&V?(i.track({type:0,doc:V}),L=!0):I&&!V&&(i.track({type:1,doc:I}),L=!0,(p||y)&&(d=!0)),L&&(V?(c=c.add(V),l=H?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(V,z){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:L})}};return H(V)-H(z)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new ea(this.query,e.tu,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new JE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new XE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class pN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class mN{constructor(e){this.key=e,this.hu=!1}}class gN{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Hs((d=>pE(d)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(fe.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yN(n,e,t=!0){const i=iT(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await ZE(i,e,t,!0),o}async function _N(n,e){const t=iT(n);await ZE(t,e,!0,!1)}async function ZE(n,e,t,i){const o=await Fk(n.localStore,_r(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await vN(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&zE(n.remoteStore,o),d}async function vN(n,e,t,i,o){n.pu=(E,I,V)=>(async function(H,L,Q,W){let ee=L.view.ru(Q);ee.Cs&&(ee=await W_(H.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,ee))));const ie=W&&W.targetChanges.get(L.targetId),ye=W&&W.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(ee,H.isPrimaryClient,ie,ye);return nv(H,L.targetId,_e.au),_e.snapshot})(n,E,I,V);const l=await W_(n.localStore,e,!0),c=new fN(e,l.Qs),d=c.ru(l.documents),p=$l.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);nv(n,t,y.au);const v=new pN(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function wN(n,e,t){const i=Se(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!dh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Wf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Fp(i.remoteStore,o.targetId),Qf(i,o.targetId)})).catch(aa)):(Qf(i,o.targetId),await Wf(i.localStore,o.targetId,!0))}async function EN(n,e){const t=Se(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Fp(t.remoteStore,i.targetId))}async function TN(n,e,t){const i=kN(n);try{const o=await(function(c,d){const p=Se(c),y=Ye.now(),v=d.reduce(((V,z)=>V.add(z.key)),be());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let z=Jr(),H=be();return p.Ns.getEntries(V,v).next((L=>{z=L,z.forEach(((Q,W)=>{W.isValidDocument()||(H=H.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,z))).next((L=>{E=L;const Q=[];for(const W of d){const ee=MP(W,E.get(W.key).overlayedDocument);ee!=null&&Q.push(new ts(W.key,ee,oE(ee.value.mapValue),kn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,Q,d)})).next((L=>{I=L;const Q=L.applyToLocalDocumentSet(E,H);return p.documentOverlayCache.saveOverlays(V,L.batchId,Q)}))})).then((()=>({batchId:I.batchId,changes:yE(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new rt(De)),y=y.insert(d,p),c.Vu[c.currentUser.toKey()]=y})(i,o.batchId,t),await Hl(i,o.changes),await vh(i.remoteStore)}catch(o){const l=$p(o,"Failed to persist write");t.reject(l)}}async function eT(n,e){const t=Se(n);try{const i=await Vk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Be(c.hu,14607):o.removedDocuments.size>0&&(Be(c.hu,42227),c.hu=!1))})),await Hl(t,i,e)}catch(i){await aa(i)}}function tv(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Se(c);p.onlineState=d;let y=!1;p.queries.forEach(((v,E)=>{for(const I of E.Sa)I.va(d)&&(y=!0)})),y&&qp(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function IN(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new rt(fe.comparator);c=c.insert(l,$t.newNoDocument(l,Te.min()));const d=be().add(l),p=new gh(Te.min(),new Map,new rt(De),c,d);await eT(i,p),i.du=i.du.remove(l),i.Au.delete(e),Wp(i)}else await Wf(i.localStore,e,!1).then((()=>Qf(i,e,t))).catch(aa)}async function SN(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await Ok(t.localStore,e);nT(t,i,null),tT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Hl(t,o)}catch(o){await aa(o)}}async function RN(n,e,t){const i=Se(n);try{const o=await(function(c,d){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next((E=>(Be(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(i.localStore,e);nT(i,e,t),tT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Hl(i,o)}catch(o){await aa(o)}}function tT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function nT(n,e,t){const i=Se(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Qf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||rT(n,i)}))}function rT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Fp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Wp(n))}function nv(n,e,t){for(const i of t)i instanceof XE?(n.Ru.addReference(i.key,e),AN(n,i)):i instanceof JE?(ae(Hp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||rT(n,i.key)):we(19791,{wu:i})}function AN(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ae(Hp,"New document in limbo: "+t),n.Eu.add(i),Wp(n))}function Wp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new fe(We.fromString(e)),i=n.fu.next();n.Au.set(i,new mN(t)),n.du=n.du.insert(t,i),zE(n.remoteStore,new Mi(_r(Pp(t.path)),i,"TargetPurposeLimboResolution",uh.ce))}}async function Hl(n,e,t){const i=Se(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Lp.As(p.targetId,y);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,y){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>G.forEach(y,(I=>G.forEach(I.Es,(V=>v.persistence.referenceDelegate.addReference(E,I.targetId,V))).next((()=>G.forEach(I.ds,(V=>v.persistence.referenceDelegate.removeReference(E,I.targetId,V)))))))))}catch(E){if(!la(E))throw E;ae(Mp,"Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const V=v.Ms.get(I),z=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion(z);v.Ms=v.Ms.insert(I,H)}}})(i.localStore,l))}async function CN(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ae(Hp,"User change. New user:",e.toKey());const i=await FE(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new se(K.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hl(t,i.Ls)}}function PN(n,e){const t=Se(n),i=t.Au.get(e);if(i&&i.hu)return be().add(i.key);{let o=be();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function iT(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IN.bind(null,e),e.Pu.H_=hN.bind(null,e.eventManager),e.Pu.yu=dN.bind(null,e.eventManager),e}function kN(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bk(this.persistence,new Nk,e.initialUser,this.serializer)}Cu(e){return new ME(Vp.mi,this.serializer)}Du(e){return new jk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class NN extends Yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof Gc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new mk(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new ME((i=>Gc.mi(i,t)),this.serializer)}}class Yf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await lN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cN})()}createDatastore(e){const t=yh(e.databaseInfo.databaseId),i=(function(l){return new Hk(l)})(e.databaseInfo);return(function(l,c,d,p){return new Qk(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,d){return new Xk(i,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>tv(this.syncEngine,t,0)),(function(){return Q_.v()?new Q_:new Bk})())}createSyncEngine(e,t){return(function(o,l,c,d,p,y,v){const E=new gN(o,l,c,d,p,y);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Se(t);ae(Fs,"RemoteStore shutting down."),i.Ea.add(5),await ql(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yf.provider={build:()=>new Yf};class sT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Gi="FirestoreClient";class xN{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ae(Gi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ae(Gi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=$p(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function yf(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Gi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await FE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function rv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DN(n);ae(Gi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>X_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>X_(e.remoteStore,o))),n._onlineComponents=e}async function DN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Gi,"Using user provided OfflineComponentProvider");try{await yf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await yf(n,new Yc)}}else ae(Gi,"Using default OfflineComponentProvider"),await yf(n,new NN(void 0));return n._offlineComponents}async function oT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Gi,"Using user provided OnlineComponentProvider"),await rv(n,n._uninitializedComponentsProvider._online)):(ae(Gi,"Using default OnlineComponentProvider"),await rv(n,new Yf))),n._onlineComponents}function bN(n){return oT(n).then((e=>e.syncEngine))}async function aT(n){const e=await oT(n),t=e.eventManager;return t.onListen=yN.bind(null,e.syncEngine),t.onUnlisten=wN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_N.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),t}function ON(n,e,t={}){const i=new Kr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,y){const v=new sT({next:I=>{v.Nu(),c.enqueueAndForget((()=>QE(l,E)));const V=I.docs.has(d);!V&&I.fromCache?y.reject(new se(K.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&I.fromCache&&p&&p.source==="server"?y.reject(new se(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new YE(Pp(d.path),v,{includeMetadataChanges:!0,qa:!0});return GE(l,E)})(await aT(n),n.asyncQueue,e,t,i))),i.promise}function VN(n,e,t={}){const i=new Kr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,y){const v=new sT({next:I=>{v.Nu(),c.enqueueAndForget((()=>QE(l,E))),I.fromCache&&p.source==="server"?y.reject(new se(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new YE(d,v,{includeMetadataChanges:!0,qa:!0});return GE(l,E)})(await aT(n),n.asyncQueue,e,t,i))),i.promise}function lT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const iv=new Map;const uT="firestore.googleapis.com",sv=!0;class ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=sv}else this.host=e.host,this.ssl=e.ssl??sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fk)throw new se(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new j1;switch(i.type){case"firstParty":return new q1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=iv.get(t);i&&(ae("ComponentProvider","Removing Datastore"),iv.delete(t),i.terminate())})(this),Promise.resolve()}}function LN(n,e,t,i={}){n=Wn(n,wh);const o=Yi(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(up(`https://${d}`),cp("Firestore",!0)),l.host!==uT&&l.host!==d&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:i};if(!zi(p,c)&&(n._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=zt.MOCK_USER;else{y=Yv(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new se(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zt(E)}n._authCredentials=new B1(new Gw(y,v))}}class ca{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class dt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(jl(t,dt._jsonSchema))return new dt(e,i||null,new fe(We.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:_t("string",dt._jsonSchemaVersion),referencePath:_t("string")};class Bi extends ca{constructor(e,t,i){super(e,t,Pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new fe(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function qr(n,e,...t){if(n=Xe(n),Qw("collection","path",e),n instanceof wh){const i=We.fromString(e,...t);return v_(i),new Bi(n,null,i)}{if(!(n instanceof dt||n instanceof Bi))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(We.fromString(e,...t));return v_(i),new Bi(n.firestore,null,i)}}function rn(n,e,...t){if(n=Xe(n),arguments.length===1&&(e=Tp.newId()),Qw("doc","path",e),n instanceof wh){const i=We.fromString(e,...t);return __(i),new dt(n,null,new fe(i))}{if(!(n instanceof dt||n instanceof Bi))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(We.fromString(e,...t));return __(i),new dt(n.firestore,n instanceof Bi?n.converter:null,new fe(i))}}const av="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jE(this,"async_queue_retry"),this._c=()=>{const i=gf();i&&ae(av,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=gf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!la(e))throw e;ae(av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",uv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=zp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ks extends wh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function cT(n,e){const t=typeof n=="object"?n:ih(),i=typeof n=="string"?n:zc,o=Xi(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Kv("firestore");l&&LN(o,...l)}return o}function Kp(n){if(n._terminated)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MN(n),n._firestoreClient}function MN(n){const e=n._freezeSettings(),t=(function(o,l,c,d){return new aP(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new xN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Ot.fromBase64String(e))}catch(t){throw new se(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:_t("string",Pn._jsonSchemaVersion),bytes:_t("string")};class Eh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Th{constructor(e){this._methodName=e}}class wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(jl(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:_t("string",wr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};class Er{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Er(e.vectorValues);throw new se(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:_t("string",Er._jsonSchemaVersion),vectorValues:_t("object")};const FN=/^__.*__$/;class UN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class hT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class Gp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dT(this.Ac)&&FN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yh(e)}Cc(e,t,i,o=!1){return new Gp({Ac:e,methodName:t,Dc:i,path:bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(n){const e=n._freezeSettings(),t=yh(n._databaseId);return new jN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fT(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Yp("Data must be an object, but it was:",c,i);const d=pT(i,c);let p,y;if(l.merge)p=new yn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const I=Xf(e,E,t);if(!c.contains(I))throw new se(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);gT(v,I)||v.push(I)}p=new yn(v),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new UN(new sn(d),p,y)}class Sh extends Th{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sh}}class Qp extends Th{_toFieldTransform(e){return new bP(e.path,new Nl)}isEqual(e){return e instanceof Qp}}function BN(n,e,t,i){const o=n.Cc(1,e,t);Yp("Data must be an object, but it was:",o,i);const l=[],c=sn.empty();es(i,((p,y)=>{const v=Xp(e,p,t);y=Xe(y);const E=o.yc(v);if(y instanceof Sh)l.push(v);else{const I=Wl(y,E);I!=null&&(l.push(v),c.set(v,I))}}));const d=new yn(l);return new hT(c,d,o.fieldTransforms)}function zN(n,e,t,i,o,l){const c=n.Cc(1,e,t),d=[Xf(e,i,t)],p=[o];if(l.length%2!=0)throw new se(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(Xf(e,l[I])),p.push(l[I+1]);const y=[],v=sn.empty();for(let I=d.length-1;I>=0;--I)if(!gT(y,d[I])){const V=d[I];let z=p[I];z=Xe(z);const H=c.yc(V);if(z instanceof Sh)y.push(V);else{const L=Wl(z,H);L!=null&&(y.push(V),v.set(V,L))}}const E=new yn(y);return new hT(v,E,c.fieldTransforms)}function $N(n,e,t,i=!1){return Wl(t,n.Cc(i?4:3,e))}function Wl(n,e){if(mT(n=Xe(n)))return Yp("Unsupported field value:",e,n),pT(n,e);if(n instanceof Th)return(function(i,o){if(!dT(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const d of i){let p=Wl(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=Xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ye.fromDate(i);return{timestampValue:Kc(o.serializer,l)}}if(i instanceof Ye){const l=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,l)}}if(i instanceof wr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pn)return{bytesValue:kE(o.serializer,i._byteString)};if(i instanceof dt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Er)return(function(c,d){return{mapValue:{fields:{[iE]:{stringValue:sE},[$c]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return kp(d.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${lh(i)}`)})(n,e)}function pT(n,e){const t={};return Jw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(n,((i,o)=>{const l=Wl(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function mT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof wr||n instanceof Pn||n instanceof dt||n instanceof Th||n instanceof Er)}function Yp(n,e,t){if(!mT(t)||!Yw(t)){const i=lh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Xf(n,e,t){if((e=Xe(e))instanceof Eh)return e._internalPath;if(typeof e=="string")return Xp(n,e);throw Xc("Field path arguments must be of type string or ",n,!1,void 0,t)}const qN=new RegExp("[~\\*/\\[\\]]");function Xp(n,e,t){if(e.search(qN)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eh(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new se(K.INVALID_ARGUMENT,d+n+p)}function gT(n,e){return n.some((t=>t.isEqual(e)))}class yT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HN extends yT{data(){return super.data()}}function Jp(n,e){return typeof e=="string"?Xp(n,e):e instanceof Eh?e._internalPath:e._delegate._internalPath}function WN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new se(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class KN extends Zp{}function GN(n,e,...t){let i=[];e instanceof Zp&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof em)).length,d=l.filter((p=>p instanceof Rh)).length;if(c>1||c>0&&d>0)throw new se(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class Rh extends KN{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Rh(e,t,i)}_apply(e){const t=this._parse(e);return _T(e._query,t),new ca(e.firestore,e.converter,jf(e._query,t))}_parse(e){const t=Ih(e.firestore);return(function(l,c,d,p,y,v,E){let I;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){hv(E,v);const z=[];for(const H of E)z.push(cv(p,l,H));I={arrayValue:{values:z}}}else I=cv(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||hv(E,v),I=$N(d,c,E,v==="in"||v==="not-in");return yt.create(y,v,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function QN(n,e,t){const i=e,o=Jp("where",n);return Rh._create(o,i,t)}class em extends Zp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new em(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)_T(c,p),c=jf(c,p)})(e._query,t),new ca(e.firestore,e.converter,jf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cv(n,e,t){if(typeof(t=Xe(t))=="string"){if(t==="")throw new se(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fE(e)&&t.indexOf("/")!==-1)throw new se(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(We.fromString(t));if(!fe.isDocumentKey(i))throw new se(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return C_(n,new fe(i))}if(t instanceof dt)return C_(n,t._key);throw new se(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(t)}.`)}function hv(n,e){if(!Array.isArray(n)||n.length===0)throw new se(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _T(n,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YN{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return es(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[$c].arrayValue?.values?.map((i=>ht(i.doubleValue)));return new Er(t)}convertGeoPoint(e){return new wr(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=hh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const t=qi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=We.fromString(e);Be(VE(i),9688,{name:e});const o=new Pl(i.get(1),i.get(3)),l=new fe(i.popFirst(5));return o.isEqual(t)||Xr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function vT(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends yT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Jp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ds._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:_t("string",Ds._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Nc extends Ds{data(e={}){return super.data(e)}}class Ko{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Nc(this._firestore,this._userDataWriter,i.key,i,new fl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:XN(d.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function tm(n){n=Wn(n,dt);const e=Wn(n.firestore,Ks);return ON(Kp(e),n._key).then((t=>ZN(e,n,t)))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:_t("string",Ko._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class wT extends YN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function bs(n){n=Wn(n,ca);const e=Wn(n.firestore,Ks),t=Kp(e),i=new wT(e);return WN(n._query),VN(t,n._query).then((o=>new Ko(e,i,n,o)))}function Jf(n,e,t){n=Wn(n,dt);const i=Wn(n.firestore,Ks),o=vT(n.converter,e);return Ah(i,[fT(Ih(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,kn.none())])}function wl(n,e,t,...i){n=Wn(n,dt);const o=Wn(n.firestore,Ks),l=Ih(o);let c;return c=typeof(e=Xe(e))=="string"||e instanceof Eh?zN(l,"updateDoc",n._key,e,t,i):BN(l,"updateDoc",n._key,e),Ah(o,[c.toMutation(n._key,kn.exists(!0))])}function dv(n){return Ah(Wn(n.firestore,Ks),[new Np(n._key,kn.none())])}function JN(n,e){const t=Wn(n.firestore,Ks),i=rn(n),o=vT(n.converter,e);return Ah(t,[fT(Ih(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,kn.exists(!1))]).then((()=>i))}function Ah(n,e){return(function(i,o){const l=new Kr;return i.asyncQueue.enqueueAndForget((async()=>TN(await bN(i),o,l))),l.promise})(Kp(n),e)}function ZN(n,e,t){const i=t.docs.get(e._key),o=new wT(n);return new Ds(n,o,e._key,i,new fl(t.hasPendingWrites,t.fromCache),e.converter)}function xc(){return new Qp("serverTimestamp")}(function(e,t=!0){(function(o){oa=o})($s),qn(new Nn("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ks(new z1(i.getProvider("auth-internal")),new H1(c,i.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,v)})(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),on(p_,m_,e),on(p_,m_,"esm2020")})();var ex="firebase",tx="12.5.0";on(ex,tx,"app");const ET="@firebase/installations",nm="0.6.19";const TT=1e4,IT=`w:${nm}`,ST="FIS_v2",nx="https://firebaseinstallations.googleapis.com/v1",rx=3600*1e3,ix="installations",sx="Installations";const ox={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Us=new zs(ix,sx,ox);function RT(n){return n instanceof xn&&n.code.includes("request-failed")}function AT({projectId:n}){return`${nx}/projects/${n}/installations`}function CT(n){return{token:n.token,requestStatus:2,expiresIn:lx(n.expiresIn),creationTime:Date.now()}}async function PT(n,e){const i=(await e.json()).error;return Us.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function kT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ax(n,{refreshToken:e}){const t=kT(n);return t.append("Authorization",ux(e)),t}async function NT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function lx(n){return Number(n.replace("s","000"))}function ux(n){return`${ST} ${n}`}async function cx({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=AT(n),o=kT(n),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:t,authVersion:ST,appId:n.appId,sdkVersion:IT},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await NT(()=>fetch(i,d));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:CT(y.authToken)}}else throw await PT("Create Installation",p)}function xT(n){return new Promise(e=>{setTimeout(e,n)})}function hx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const dx=/^[cdef][\w-]{21}$/,Zf="";function fx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=px(n);return dx.test(t)?t:Zf}catch{return Zf}}function px(n){return hx(n).substr(0,22)}function Ch(n){return`${n.appName}!${n.appId}`}const DT=new Map;function bT(n,e){const t=Ch(n);OT(t,e),mx(t,e)}function OT(n,e){const t=DT.get(n);if(t)for(const i of t)i(e)}function mx(n,e){const t=gx();t&&t.postMessage({key:n,fid:e}),yx()}let xs=null;function gx(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=n=>{OT(n.data.key,n.data.fid)}),xs}function yx(){DT.size===0&&xs&&(xs.close(),xs=null)}const _x="firebase-installations-database",vx=1,js="firebase-installations-store";let _f=null;function rm(){return _f||(_f=nw(_x,vx,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(js)}}})),_f}async function Jc(n,e){const t=Ch(n),o=(await rm()).transaction(js,"readwrite"),l=o.objectStore(js),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&bT(n,e.fid),e}async function VT(n){const e=Ch(n),i=(await rm()).transaction(js,"readwrite");await i.objectStore(js).delete(e),await i.done}async function Ph(n,e){const t=Ch(n),o=(await rm()).transaction(js,"readwrite"),l=o.objectStore(js),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&bT(n,d.fid),d}async function im(n){let e;const t=await Ph(n.appConfig,i=>{const o=wx(i),l=Ex(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Zf?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function wx(n){const e=n||{fid:fx(),registrationStatus:0};return LT(e)}function Ex(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Us.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Tx(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ix(n)}:{installationEntry:e}}async function Tx(n,e){try{const t=await cx(n,e);return Jc(n.appConfig,t)}catch(t){throw RT(t)&&t.customData.serverCode===409?await VT(n.appConfig):await Jc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Ix(n){let e=await fv(n.appConfig);for(;e.registrationStatus===1;)await xT(100),e=await fv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await im(n);return i||t}return e}function fv(n){return Ph(n,e=>{if(!e)throw Us.create("installation-not-found");return LT(e)})}function LT(n){return Sx(n)?{fid:n.fid,registrationStatus:0}:n}function Sx(n){return n.registrationStatus===1&&n.registrationTime+TT<Date.now()}async function Rx({appConfig:n,heartbeatServiceProvider:e},t){const i=Ax(n,t),o=ax(n,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:IT,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await NT(()=>fetch(i,d));if(p.ok){const y=await p.json();return CT(y)}else throw await PT("Generate Auth Token",p)}function Ax(n,{fid:e}){return`${AT(n)}/${e}/authTokens:generate`}async function sm(n,e=!1){let t;const i=await Ph(n.appConfig,l=>{if(!MT(l))throw Us.create("not-registered");const c=l.authToken;if(!e&&kx(c))return l;if(c.requestStatus===1)return t=Cx(n,e),l;{if(!navigator.onLine)throw Us.create("app-offline");const d=xx(l);return t=Px(n,d),d}});return t?await t:i.authToken}async function Cx(n,e){let t=await pv(n.appConfig);for(;t.authToken.requestStatus===1;)await xT(100),t=await pv(n.appConfig);const i=t.authToken;return i.requestStatus===0?sm(n,e):i}function pv(n){return Ph(n,e=>{if(!MT(e))throw Us.create("not-registered");const t=e.authToken;return Dx(t)?{...e,authToken:{requestStatus:0}}:e})}async function Px(n,e){try{const t=await Rx(n,e),i={...e,authToken:t};return await Jc(n.appConfig,i),t}catch(t){if(RT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await VT(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Jc(n.appConfig,i)}throw t}}function MT(n){return n!==void 0&&n.registrationStatus===2}function kx(n){return n.requestStatus===2&&!Nx(n)}function Nx(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+rx}function xx(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function Dx(n){return n.requestStatus===1&&n.requestTime+TT<Date.now()}async function bx(n){const e=n,{installationEntry:t,registrationPromise:i}=await im(e);return i?i.catch(console.error):sm(e).catch(console.error),t.fid}async function Ox(n,e=!1){const t=n;return await Vx(t),(await sm(t,e)).token}async function Vx(n){const{registrationPromise:e}=await im(n);e&&await e}function Lx(n){if(!n||!n.options)throw vf("App Configuration");if(!n.name)throw vf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw vf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function vf(n){return Us.create("missing-app-config-values",{valueName:n})}const FT="installations",Mx="installations-internal",Fx=n=>{const e=n.getProvider("app").getImmediate(),t=Lx(e),i=Xi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Ux=n=>{const e=n.getProvider("app").getImmediate(),t=Xi(e,FT).getImmediate();return{getId:()=>bx(t),getToken:o=>Ox(t,o)}};function jx(){qn(new Nn(FT,Fx,"PUBLIC")),qn(new Nn(Mx,Ux,"PRIVATE"))}jx();on(ET,nm);on(ET,nm,"esm2020");const Zc="analytics",Bx="firebase_id",zx="origin",$x=60*1e3,qx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",om="https://www.googletagmanager.com/gtag/js";const Qt=new rh("@firebase/analytics");const Hx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new zs("analytics","Analytics",Hx);function Wx(n){if(!n.startsWith(om)){const e=vn.create("invalid-gtag-resource",{gtagURL:n});return Qt.warn(e.message),""}return n}function UT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Kx(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Gx(n,e){const t=Kx("firebase-js-sdk-policy",{createScriptURL:Wx}),i=document.createElement("script"),o=`${om}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function Qx(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Yx(n,e,t,i,o,l){const c=i[o];try{if(c)await e[c];else{const p=(await UT(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(d){Qt.error(d)}n("config",o,l)}async function Xx(n,e,t,i,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await UT(t);for(const p of c){const y=d.find(E=>E.measurementId===p),v=y&&e[y.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,o||{})}catch(l){Qt.error(l)}}function Jx(n,e,t,i){async function o(l,...c){try{if(l==="event"){const[d,p]=c;await Xx(n,e,t,d,p)}else if(l==="config"){const[d,p]=c;await Yx(n,e,t,i,d,p)}else if(l==="consent"){const[d,p]=c;n("consent",d,p)}else if(l==="get"){const[d,p,y]=c;n("get",d,p,y)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){Qt.error(d)}}return o}function Zx(n,e,t,i,o){let l=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=Jx(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function eD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(om)&&t.src.includes(n))return t;return null}const tD=30,nD=1e3;class rD{constructor(e={},t=nD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jT=new rD;function iD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function sD(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:iD(t)},o=qx.replace("{app-id}",e),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function oD(n,e=jT,t){const{appId:i,apiKey:o,measurementId:l}=n.options;if(!i)throw vn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw vn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new uD;return setTimeout(async()=>{d.abort()},$x),BT({appId:i,apiKey:o,measurementId:l},c,d,e)}async function BT(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=jT){const{appId:l,measurementId:c}=n;try{await aD(i,e)}catch(d){if(c)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await sD(n);return o.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!lD(p)){if(o.deleteThrottleMetadata(l),c)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw d}const y=Number(p?.customData?.httpStatus)===503?Uy(t,o.intervalMillis,tD):Uy(t,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return o.setThrottleMetadata(l,v),Qt.debug(`Calling attemptFetch again in ${y} millis`),BT(n,v,i,o)}}function aD(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),i(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lD(n){if(!(n instanceof xn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class uD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cD(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const l=await e,c={...i,send_to:l};n("event",t,c)}}async function hD(n,e,t,i){if(i&&i.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}async function dD(){if(Jv())try{await Zv()}catch(n){return Qt.warn(vn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Qt.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fD(n,e,t,i,o,l,c){const d=oD(n);d.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Qt.error(I)),e.push(d);const p=dD().then(I=>{if(I)return i.getId()}),[y,v]=await Promise.all([d,p]);eD(l)||Gx(l,y.measurementId),o("js",new Date);const E=c?.config??{};return E[zx]="firebase",E.update=!0,v!=null&&(E[Bx]=v),o("config",y.measurementId,E),y.measurementId}class pD{constructor(e){this.app=e}_delete(){return delete Go[this.app.options.appId],Promise.resolve()}}let Go={},mv=[];const gv={};let wf="dataLayer",mD="gtag",yv,am,_v=!1;function gD(){const n=[];if(Xv()&&n.push("This is a browser extension environment."),lR()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=vn.create("invalid-analytics-context",{errorInfo:e});Qt.warn(t.message)}}function yD(n,e,t){gD();const i=n.options.appId;if(!i)throw vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Go[i]!=null)throw vn.create("already-exists",{id:i});if(!_v){Qx(wf);const{wrappedGtag:l,gtagCore:c}=Zx(Go,mv,gv,wf,mD);am=l,yv=c,_v=!0}return Go[i]=fD(n,mv,gv,e,yv,wf,t),new pD(n)}function _D(n=ih()){n=Xe(n);const e=Xi(n,Zc);return e.isInitialized()?e.getImmediate():vD(n)}function vD(n,e={}){const t=Xi(n,Zc);if(t.isInitialized()){const o=t.getImmediate();if(zi(e,t.getOptions()))return o;throw vn.create("already-initialized")}return t.initialize({options:e})}function wD(n,e,t){n=Xe(n),hD(am,Go[n.app.options.appId],e,t).catch(i=>Qt.error(i))}function ED(n,e,t,i){n=Xe(n),cD(am,Go[n.app.options.appId],e,t,i).catch(o=>Qt.error(o))}const vv="@firebase/analytics",wv="0.10.19";function TD(){qn(new Nn(Zc,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return yD(i,o,t)},"PUBLIC")),qn(new Nn("analytics-internal",n,"PRIVATE")),on(vv,wv),on(vv,wv,"esm2020");function n(e){try{const t=e.getProvider(Zc).getImmediate();return{logEvent:(i,o,l)=>ED(t,i,o,l),setUserProperties:(i,o)=>wD(t,i,o)}}catch(t){throw vn.create("interop-component-reg-failed",{reason:t})}}}TD();const zT="firebasestorage.googleapis.com",$T="storageBucket",ID=120*1e3,SD=600*1e3;class at extends xn{constructor(e,t,i=0){super(Ef(e),`Firebase Storage: ${t} (${Ef(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,at.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ef(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ot;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ot||(ot={}));function Ef(n){return"storage/"+n}function lm(){const n="An unknown error occurred, please check the error payload for server response.";return new at(ot.UNKNOWN,n)}function RD(n){return new at(ot.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function AD(n){return new at(ot.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new at(ot.UNAUTHENTICATED,n)}function PD(){return new at(ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kD(n){return new at(ot.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ND(){return new at(ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xD(){return new at(ot.CANCELED,"User canceled the upload/download.")}function DD(n){return new at(ot.INVALID_URL,"Invalid URL '"+n+"'.")}function bD(n){return new at(ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function OD(){return new at(ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$T+"' property when initializing the app?")}function VD(){return new at(ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LD(){return new at(ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MD(n){return new at(ot.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ep(n){return new at(ot.INVALID_ARGUMENT,n)}function qT(){return new at(ot.APP_DELETED,"The Firebase app was deleted.")}function FD(n){return new at(ot.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(n,e){return new at(ot.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function al(n){throw new at(ot.INTERNAL_ERROR,"Internal error: "+n)}class _n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=_n.makeFromUrl(e,t)}catch{return new _n(e,"")}if(i.path==="")return i;throw bD(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",V=new RegExp(`^https?://${E}/${v}/b/${o}/o${I}`,"i"),z={bucket:1,path:3},H=t===zT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",Q=new RegExp(`^https?://${H}/${o}/${L}`,"i"),ee=[{regex:d,indices:p,postModify:l},{regex:V,indices:z,postModify:y},{regex:Q,indices:{bucket:1,path:2},postModify:y}];for(let ie=0;ie<ee.length;ie++){const ye=ee[ie],_e=ye.regex.exec(e);if(_e){const x=_e[ye.indices.bucket];let R=_e[ye.indices.path];R||(R=""),i=new _n(x,R),ye.postModify(i);break}}if(i==null)throw DD(e);return i}}class UD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jD(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let y=!1;function v(...L){y||(y=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,n(V,p())},L)}function I(){l&&clearTimeout(l)}function V(L,...Q){if(y){I();return}if(L){I(),v.call(null,L,...Q);return}if(p()||c){I(),v.call(null,L,...Q);return}i<64&&(i*=2);let ee;d===1?(d=2,ee=0):ee=(i+Math.random())*1e3,E(ee)}let z=!1;function H(L){z||(z=!0,I(),!y&&(o!==null?(L||(d=2),clearTimeout(o),E(0)):L||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,H(!0)},t),H}function BD(n){n(!1)}function zD(n){return n!==void 0}function $D(n){return typeof n=="object"&&!Array.isArray(n)}function um(n){return typeof n=="string"||n instanceof String}function Ev(n){return cm()&&n instanceof Blob}function cm(){return typeof Blob<"u"}function Tv(n,e,t,i){if(i<e)throw ep(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ep(`Invalid value for '${n}'. Expected ${t} or less.`)}function hm(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function HT(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Os;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Os||(Os={}));function qD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}class HD{constructor(e,t,i,o,l,c,d,p,y,v,E,I=!0,V=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=E,this.retry=I,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,H)=>{this.resolve_=z,this.reject_=H,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new gc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Os.NO_ERROR,p=l.getStatus();if(!d||qD(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Os.ABORT;i(!1,new gc(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new gc(y,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());zD(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=lm();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?qT():xD();c(p)}else{const p=ND();c(p)}};this.canceled_?t(!1,new gc(!1,null,!0)):this.backoffId_=jD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function WD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function KD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function QD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function YD(n,e,t,i,o,l,c=!0,d=!1){const p=HT(n.urlParams),y=n.url+p,v=Object.assign({},n.headers);return GD(v,e),WD(v,t),KD(v,l),QD(v,i),new HD(y,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,d)}function XD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function JD(...n){const e=XD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(cm())return new Blob(n);throw new at(ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function e2(n){if(typeof atob>"u")throw MD("base-64");return atob(n)}const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tf{constructor(e,t){this.data=e,this.contentType=t||null}}function t2(n,e){switch(n){case mr.RAW:return new Tf(WT(e));case mr.BASE64:case mr.BASE64URL:return new Tf(KT(n,e));case mr.DATA_URL:return new Tf(r2(e),i2(e))}throw lm()}function WT(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function n2(n){let e;try{e=decodeURIComponent(n)}catch{throw El(mr.DATA_URL,"Malformed data URL.")}return WT(e)}function KT(n,e){switch(n){case mr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw El(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw El(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=e2(e)}catch(o){throw o.message.includes("polyfill")?o:El(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class GT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw El(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=s2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function r2(n){const e=new GT(n);return e.base64?KT(mr.BASE64,e.rest):n2(e.rest)}function i2(n){return new GT(n).contentType}function s2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Li{constructor(e,t){let i=0,o="";Ev(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ev(this.data_)){const i=this.data_,o=ZD(i,e,t);return o===null?null:new Li(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Li(i,!0)}}static getBlob(...e){if(cm()){const t=e.map(i=>i instanceof Li?i.data_:i);return new Li(JD.apply(null,t))}else{const t=e.map(c=>um(c)?t2(mr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Li(o,!0)}}uploadData(){return this.data_}}function QT(n){let e;try{e=JSON.parse(n)}catch{return null}return $D(e)?e:null}function o2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function a2(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function YT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function l2(n,e){return e}class Gt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||l2}}let yc=null;function u2(n){return!um(n)||n.length<2?n:YT(n)}function XT(){if(yc)return yc;const n=[];n.push(new Gt("bucket")),n.push(new Gt("generation")),n.push(new Gt("metageneration")),n.push(new Gt("name","fullPath",!0));function e(l,c){return u2(c)}const t=new Gt("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new Gt("size");return o.xform=i,n.push(o),n.push(new Gt("timeCreated")),n.push(new Gt("updated")),n.push(new Gt("md5Hash",null,!0)),n.push(new Gt("cacheControl",null,!0)),n.push(new Gt("contentDisposition",null,!0)),n.push(new Gt("contentEncoding",null,!0)),n.push(new Gt("contentLanguage",null,!0)),n.push(new Gt("contentType",null,!0)),n.push(new Gt("metadata","customMetadata",!0)),yc=n,yc}function c2(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new _n(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function h2(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return c2(i,n),i}function JT(n,e,t){const i=QT(e);return i===null?null:h2(n,i,t)}function d2(n,e,t,i){const o=QT(e);if(o===null||!um(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(y=>{const v=n.bucket,E=n.fullPath,I="/b/"+c(v)+"/o/"+c(E),V=hm(I,t,i),z=HT({alt:"media",token:y});return V+z})[0]}function f2(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class ZT{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function eI(n){if(!n)throw lm()}function p2(n,e){function t(i,o){const l=JT(n,o,e);return eI(l!==null),l}return t}function m2(n,e){function t(i,o){const l=JT(n,o,e);return eI(l!==null),d2(l,o,n.host,n._protocol)}return t}function tI(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=PD():o=CD():t.getStatus()===402?o=AD(n.bucket):t.getStatus()===403?o=kD(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function g2(n){const e=tI(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=RD(n.path)),l.serverResponse=o.serverResponse,l}return t}function y2(n,e,t){const i=e.fullServerUrl(),o=hm(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new ZT(o,l,m2(n,t),c);return d.errorHandler=g2(e),d}function _2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function v2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=_2(null,e)),i}function w2(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let ee="";for(let ie=0;ie<2;ie++)ee=ee+Math.random().toString().slice(2);return ee}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const y=v2(e,i,o),v=f2(y,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,I=`\r
--`+p+"--",V=Li.getBlob(E,i,I);if(V===null)throw VD();const z={name:y.fullPath},H=hm(l,n.host,n._protocol),L="POST",Q=n.maxUploadRetryTime,W=new ZT(H,L,p2(n,t),Q);return W.urlParams=z,W.headers=c,W.body=V.uploadData(),W.errorHandler=tI(e),W}class E2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o,l){if(this.sent_)throw al("cannot .send() more than once");if(Yi(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class T2 extends E2{initXhr(){this.xhr_.responseType="text"}}function nI(){return new T2}class Bs{constructor(e,t){this._service=e,t instanceof _n?this._location=t:this._location=_n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bs(e,t)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YT(this._location.path)}get storage(){return this._service}get parent(){const e=o2(this._location.path);if(e===null)return null;const t=new _n(this._location.bucket,e);return new Bs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw FD(e)}}function I2(n,e,t){n._throwIfRoot("uploadBytes");const i=w2(n.storage,n._location,XT(),new Li(e,!0),t);return n.storage.makeRequestWithTokens(i,nI).then(o=>({metadata:o,ref:n}))}function S2(n){n._throwIfRoot("getDownloadURL");const e=y2(n.storage,n._location,XT());return n.storage.makeRequestWithTokens(e,nI).then(t=>{if(t===null)throw LD();return t})}function R2(n,e){const t=a2(n._location.path,e),i=new _n(n._location.bucket,t);return new Bs(n.storage,i)}function A2(n){return/^[A-Za-z]+:\/\//.test(n)}function C2(n,e){return new Bs(n,e)}function rI(n,e){if(n instanceof dm){const t=n;if(t._bucket==null)throw OD();const i=new Bs(t,t._bucket);return e!=null?rI(i,e):i}else return e!==void 0?R2(n,e):n}function P2(n,e){if(e&&A2(e)){if(n instanceof dm)return C2(n,e);throw ep("To use ref(service, url), the first argument must be a Storage instance.")}else return rI(n,e)}function Iv(n,e){const t=e?.[$T];return t==null?null:_n.makeFromBucketSpec(t,n)}function k2(n,e,t,i={}){n.host=`${e}:${t}`;const o=Yi(e);o&&(up(`https://${n.host}/b`),cp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:Yv(l,n.app.options.projectId))}class dm{constructor(e,t,i,o,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=zT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=SD,this._requests=new Set,o!=null?this._bucket=_n.makeFromBucketSpec(o,this._host):this._bucket=Iv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=Iv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bs(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new UD(qT());{const c=YD(e,this._appId,i,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Sv="@firebase/storage",Rv="0.14.0";const iI="storage";function N2(n,e,t){return n=Xe(n),I2(n,e,t)}function x2(n){return n=Xe(n),S2(n)}function D2(n,e){return n=Xe(n),P2(n,e)}function b2(n=ih(),e){n=Xe(n);const i=Xi(n,iI).getImmediate({identifier:e}),o=Kv("storage");return o&&O2(i,...o),i}function O2(n,e,t,i={}){k2(n,e,t,i)}function V2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new dm(t,i,o,e,$s)}function L2(){qn(new Nn(iI,V2,"PUBLIC").setMultipleInstances(!0)),on(Sv,Rv,""),on(Sv,Rv,"esm2020")}L2();const M2={apiKey:"AIzaSyBUJ3uovKExiD7PB6_JTrI8EB8f5XrMs1s",authDomain:"web-2025-5f75e.firebaseapp.com",projectId:"web-2025-5f75e",storageBucket:"web-2025-5f75e.firebasestorage.app",messagingSenderId:"30960746795",appId:"1:30960746795:web:784458725a28f12d45056e",measurementId:"G-LW0R83SVGF"},ta=rw(M2);wp(ta);const Et=cT(ta);_D(ta);const F2=b2(ta),sI=B.createContext(),Gs=()=>B.useContext(sI),U2=({children:n})=>{const e=wp(ta),t=cT(ta),[i,o]=B.useState(null),[l,c]=B.useState(null),[d,p]=B.useState(!0);B.useEffect(()=>CC(e,async z=>{if(z)try{const H=rn(t,"users",z.uid),L=await tm(H);if(L.exists()){const Q=L.data();o({uid:z.uid,email:z.email,nombre:Q.nombre||""}),c(Q.role||""),console.log(" Datos del usuario ledos:",Q)}else o({uid:z.uid,email:z.email,nombre:""}),c("")}catch(H){console.error(" Error leyendo datos del usuario:",H)}else o(null),c(null);p(!1)}),[e,t]);const I={user:i,role:l,loading:d,register:async(V,z,H,L="")=>{const Q=await Nw(e,V,z),W=Q.user.uid;return await Jf(rn(t,"users",W),{email:V,role:H,nombre:L}),Q},login:async(V,z)=>SC(e,V,z),logout:async()=>PC(e)};return N.jsx(sI.Provider,{value:I,children:!d&&n})};function j2(){const{user:n,role:e,logout:t}=Gs(),i=Qi(),o=async()=>{await t(),i("/login")};return N.jsx("div",{className:"home",children:N.jsx("div",{className:"home-content",children:n?N.jsxs(N.Fragment,{children:[N.jsxs("h1",{children:["Hola, ",N.jsx("span",{children:n.nombre})]}),N.jsxs("p",{children:["Tu rol actual es: ",N.jsx("strong",{children:e})]}),e==="admin"&&N.jsx("p",{children:"Tienes acceso total al sistema, incluyendo gestin de usuarios."}),e==="editor"&&N.jsx("p",{children:"Puedes aprobar, editar o desactivar noticias."}),e==="reportero"&&N.jsx("p",{children:"Puedes crear y editar tus propias noticias."}),N.jsxs("div",{className:"home-buttons",children:[N.jsx("button",{className:"home-btn",onClick:()=>i("/noticias"),children:"Explorar noticias"}),e==="admin"&&N.jsx("button",{className:"home-btn secondary",onClick:()=>i("/admin"),children:"Panel de administracin"}),N.jsx("button",{className:"home-btn logout",onClick:o,children:"Cerrar sesin"})]})]}):N.jsxs(N.Fragment,{children:[N.jsxs("h1",{children:["Bienvenid@ a ",N.jsx("span",{children:"CORPNEWS"})]}),N.jsx("p",{children:"Administra, crea y comparte noticias fcilmente."}),N.jsx("button",{className:"home-btn",onClick:()=>i("/login"),children:"Iniciar sesin"})]})})})}const B2=({noticia:n})=>{const e=Qi(),t=()=>{e(`/noticia/${n.id}`)};return N.jsxs("div",{className:"noticia-card",onClick:t,children:[n.imagenUrl&&N.jsx("img",{src:n.imagenUrl,alt:n.titulo,className:"noticia-imagen"}),N.jsx("h3",{children:n.titulo}),n.subtitulo&&N.jsx("p",{className:"subtitulo",children:n.subtitulo}),N.jsx("small",{children:n.fechaCreacion?n.fechaCreacion.toDate().toLocaleDateString():""})]})},z2=()=>{const[n,e]=B.useState([]),[t,i]=B.useState([]),[o,l]=B.useState("Todas");B.useEffect(()=>{const d=async()=>{const v=(await bs(qr(Et,"noticias"))).docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.estado==="Publicado");e(v)},p=async()=>{const v=(await bs(qr(Et,"categorias"))).docs.map(E=>E.data());i([{nombre:"Todas",descripcion:"Mostrando todas las noticias disponibles"},...v])};d(),p()},[]);const c=o==="Todas"?n:n.filter(d=>d.categoria===o);return N.jsxs("div",{className:"noticias-page",children:[N.jsx("h2",{children:"Noticias"}),N.jsxs("div",{className:"noticias-layout",children:[N.jsxs("aside",{className:"noticias-aside",children:[N.jsx("h3",{children:"Filtrar por categora"}),N.jsx("ul",{children:t.map(d=>N.jsx("li",{children:N.jsx("button",{className:o===d.nombre?"activo":"",onClick:()=>l(d.nombre),children:d.nombre})},d.nombre))})]}),N.jsxs("div",{className:"noticias-content",children:[N.jsxs("div",{className:"categoria-header",children:[N.jsx("h2",{children:o==="Todas"?"Todas las categoras":o}),N.jsx("p",{children:t.find(d=>d.nombre===o)?.descripcion||"Explora las ltimas noticias publicadas."})]}),N.jsx("div",{className:"noticias-list",children:c.length>0?c.map(d=>N.jsx(B2,{noticia:d},d.id)):N.jsx("p",{children:"No hay noticias en esta categora."})})]})]})]})},$2=()=>{const{id:n}=Vv(),e=Qi(),[t,i]=B.useState(null);return B.useEffect(()=>{(async()=>{try{const l=rn(Et,"noticias",n),c=await tm(l);c.exists()&&i({id:c.id,...c.data()})}catch(l){console.error("Error al cargar noticia:",l)}})()},[n]),t?N.jsxs("div",{className:"detalle-container",children:[t.imagenUrl&&N.jsx("img",{src:t.imagenUrl,alt:t.titulo,className:"detalle-imagen"}),N.jsx("h1",{children:t.titulo}),N.jsx("h3",{className:"detalle-subtitulo",children:t.subtitulo}),N.jsx("small",{className:"detalle-fecha",children:t.fechaCreacion?t.fechaCreacion.toDate().toLocaleDateString():""}),N.jsx("p",{className:"detalle-contenido",children:t.contenido}),N.jsxs("p",{className:"detalle-autor",children:[" ",N.jsx("strong",{children:t.autor||"Autor desconocido"})]}),N.jsx("button",{className:"volver-btn",onClick:()=>e("/noticias"),children:"Volver"})]}):N.jsx("p",{className:"cargando",children:"Cargando noticia..."})};function Av({modo:n="crear"}){const{user:e,role:t}=Gs(),{id:i}=Vv(),o=Qi(),[l,c]=B.useState(""),[d,p]=B.useState(""),[y,v]=B.useState(""),[E,I]=B.useState(""),[V,z]=B.useState(null),[H,L]=B.useState([]);B.useEffect(()=>{(async()=>{const ie=(await bs(qr(Et,"categorias"))).docs.map(ye=>ye.data().nombre);L(ie)})(),n==="editar"&&i&&(async()=>{const ie=rn(Et,"noticias",i),ye=await tm(ie);if(ye.exists()){const _e=ye.data();c(_e.titulo),p(_e.subtitulo),v(_e.contenido),I(_e.categoria)}})()},[n,i]);const Q=async W=>{W.preventDefault();try{let ee="";if(V){const ie=D2(F2,`noticias/${V.name}-${Date.now()}`);await N2(ie,V),ee=await x2(ie)}if(n==="editar"){const ie=rn(Et,"noticias",i);await wl(ie,{titulo:l,subtitulo:d,contenido:y,categoria:E,...ee&&{imagenUrl:ee},fechaActualizacion:xc()}),alert("Noticia actualizada con xito!")}else await JN(qr(Et,"noticias"),{titulo:l,subtitulo:d,contenido:y,categoria:E,imagenUrl:ee,autor:e.nombre,fechaCreacion:xc(),fechaActualizacion:xc(),estado:t==="reportero"?"Edicin":"Publicado"}),alert("Noticia creada con xito!");o("/noticias")}catch(ee){console.error("Error al guardar noticia:",ee),alert("Hubo un error al guardar la noticia.")}};return N.jsxs("div",{className:"crear-noticia-container",children:[N.jsx("h2",{children:n==="editar"?"Editar Noticia":"Crear nueva noticia"}),N.jsxs("form",{onSubmit:Q,className:"crear-noticia-form",children:[N.jsx("input",{type:"text",placeholder:"Ttulo",value:l,onChange:W=>c(W.target.value),required:!0}),N.jsx("input",{type:"text",placeholder:"Subttulo",value:d,onChange:W=>p(W.target.value)}),N.jsx("textarea",{placeholder:"Contenido",value:y,onChange:W=>v(W.target.value),rows:6,required:!0}),N.jsxs("select",{value:E,onChange:W=>I(W.target.value),required:!0,children:[N.jsx("option",{value:"",children:"Selecciona una categora"}),H.map(W=>N.jsx("option",{value:W,children:W},W))]}),N.jsx("input",{type:"file",accept:"image/*",onChange:W=>z(W.target.files[0])}),N.jsx("button",{type:"submit",children:n==="editar"?"Actualizar Noticia":t==="reportero"?"Guardar como Edicin":"Publicar Noticia"})]})]})}function q2(){const{login:n}=Gs(),[e,t]=B.useState(""),[i,o]=B.useState(""),[l,c]=B.useState(""),d=Qi(),p=async y=>{y.preventDefault(),c("");try{await n(e,i),d("/")}catch(v){console.error(v),v.code==="auth/invalid-credential"?c("Credenciales invlidas. Verifica tu correo y contrasea."):v.code==="auth/user-not-found"?c("Usuario no encontrado. Regstrate primero."):v.code==="auth/wrong-password"?c("Contrasea incorrecta."):c("Error al iniciar sesin. Intntalo de nuevo.")}};return N.jsxs("div",{className:"login-container",children:[N.jsx("h2",{children:"Iniciar Sesin"}),l&&N.jsx("p",{className:"error-message",children:l}),N.jsxs("form",{onSubmit:p,children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Correo:"}),N.jsx("input",{type:"email",value:e,onChange:y=>t(y.target.value),placeholder:"usuario@ejemplo.com",required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Contrasea:"}),N.jsx("input",{type:"password",value:i,onChange:y=>o(y.target.value),placeholder:"********",required:!0})]}),N.jsx("button",{type:"submit",children:"Entrar"})]})]})}const H2=()=>{const n=Zr(),{user:e,role:t}=Gs(),[i,o]=B.useState(!1),l=()=>o(!i),c=()=>o(!1);return N.jsx("nav",{className:"navbar",children:N.jsxs("div",{className:"navbar-container",children:[N.jsxs(xi,{to:"/",className:"navbar-logo",onClick:c,children:[N.jsx("span",{className:"logo-strong",children:"CORP"}),"NEWS"]}),N.jsxs("div",{className:`hamburger ${i?"open":""}`,onClick:l,children:[N.jsx("span",{}),N.jsx("span",{}),N.jsx("span",{})]}),N.jsxs("ul",{className:`nav-links ${i?"open":""}`,children:[N.jsx("li",{children:N.jsx(xi,{to:"/",onClick:c,className:n.pathname==="/"?"active":"",children:"Inicio"})}),N.jsx("li",{children:N.jsx(xi,{to:"/noticias",onClick:c,className:n.pathname==="/noticias"?"active":"",children:"Noticias"})}),e&&(t==="reportero"||t==="editor")&&N.jsx("li",{children:N.jsx(xi,{to:"/dashboard",onClick:c,className:n.pathname==="/dashboard"?"active":"",children:"Dashboard"})}),e&&t==="reportero"&&N.jsx("li",{children:N.jsx(xi,{to:"/crear",onClick:c,className:n.pathname==="/crear"?"active":"",children:"Crear"})}),!e&&N.jsx("li",{children:N.jsx(xi,{to:"/login",onClick:c,className:n.pathname==="/login"?"active":"",children:"Login"})})]})]})})},W2=()=>N.jsx("footer",{className:"footer",children:N.jsx("div",{className:"footer-container",children:N.jsxs("p",{children:[" ",new Date().getFullYear()," CMS Noticias  Todos los derechos reservados."]})})}),_c=({children:n,roleRequired:e})=>{const{user:t,role:i,loading:o}=Gs();return o?N.jsx("p",{children:"Cargando..."}):t?e&&!(Array.isArray(e)?e:[e]).includes(i)?N.jsx(Oy,{to:"/"}):n:N.jsx(Oy,{to:"/login"})};function K2(){const[n,e]=B.useState([]),[t,i]=B.useState(""),[o,l]=B.useState(""),[c,d]=B.useState("reportero"),[p,y]=B.useState(""),[v,E]=B.useState([]),[I,V]=B.useState(""),[z,H]=B.useState(""),[L,Q]=B.useState(null),W=wp(),ee=async()=>{const P=qr(Et,"users"),S=await bs(P);e(S.docs.map(Ce=>({id:Ce.id,...Ce.data()})))},ie=async()=>{const P=qr(Et,"categorias"),S=await bs(P);E(S.docs.map(Ce=>({id:Ce.id,...Ce.data()})))};B.useEffect(()=>{ee(),ie()},[]);const ye=async P=>{P.preventDefault();try{const Ce=(await Nw(W,t,o)).user.uid;await Jf(rn(Et,"users",Ce),{email:t,role:c,nombre:p}),alert("Usuario creado con xito"),i(""),l(""),d("reportero"),y(""),ee()}catch(S){console.error("Error al crear usuario:",S),alert("Error al crear usuario")}},_e=async(P,S)=>{if(S==="admin"){alert("No se puede eliminar al admin");return}try{await dv(rn(Et,"users",P)),alert("Usuario eliminado"),ee()}catch(Ce){console.error("Error al eliminar usuario:",Ce)}},x=async(P,S)=>{try{await wl(rn(Et,"users",P),{role:S}),ee()}catch(Ce){console.error(Ce)}},R=async(P,S)=>{try{await wl(rn(Et,"users",P),{nombre:S}),ee()}catch(Ce){console.error("Error al actualizar nombre:",Ce)}},C=async P=>{P.preventDefault();try{if(L)await wl(rn(Et,"categorias",L),{nombre:I,descripcion:z}),Q(null);else{const S=rn(qr(Et,"categorias"));await Jf(S,{nombre:I,descripcion:z})}V(""),H(""),ie()}catch(S){console.error(S)}},b=P=>{Q(P.id),V(P.nombre),H(P.descripcion)},D=async P=>{try{const S=GN(qr(Et,"noticias"),QN("categoria","==",P.nombre));if(!(await bs(S)).empty){alert("No se puede eliminar: esta categora tiene noticias asociadas");return}await dv(rn(Et,"categorias",P.id)),ie()}catch(S){console.error(S)}};return N.jsxs("div",{className:"admin-container",children:[N.jsx("h2",{children:"Panel de Administracin"}),N.jsxs("form",{className:"admin-form",onSubmit:ye,children:[N.jsx("h3",{children:"Crear nuevo usuario"}),N.jsx("input",{type:"text",placeholder:"Nombre",value:p,onChange:P=>y(P.target.value),required:!0})," ",N.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:P=>i(P.target.value),required:!0}),N.jsx("input",{type:"password",placeholder:"Contrasea",value:o,onChange:P=>l(P.target.value),required:!0}),N.jsxs("select",{value:c,onChange:P=>d(P.target.value),children:[N.jsx("option",{value:"reportero",children:"Reportero"}),N.jsx("option",{value:"editor",children:"Editor"}),N.jsx("option",{value:"admin",children:"Administrador"})]}),N.jsx("button",{type:"submit",children:"Crear usuario"})]}),N.jsx("h3",{children:"Usuarios registrados"}),N.jsxs("table",{className:"admin-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Nombre"}),N.jsx("th",{children:"Email"}),N.jsx("th",{children:"Rol"}),N.jsx("th",{children:"Acciones"})]})}),N.jsx("tbody",{children:n.map(P=>N.jsxs("tr",{children:[N.jsx("td",{children:N.jsx("input",{type:"text",value:P.nombre||"",onChange:S=>R(P.id,S.target.value),placeholder:"Sin nombre"})}),N.jsx("td",{children:P.email}),N.jsx("td",{children:N.jsxs("select",{value:P.role,onChange:S=>x(P.id,S.target.value),children:[N.jsx("option",{value:"reportero",children:"Reportero"}),N.jsx("option",{value:"editor",children:"Editor"}),N.jsx("option",{value:"admin",children:"Admin"})]})}),N.jsx("td",{children:N.jsx("button",{className:"delete-btn",onClick:()=>_e(P.id,P.role),disabled:P.role==="admin",children:P.role==="admin"?"Admin":"Eliminar"})})]},P.id))})]}),N.jsxs("form",{className:"admin-form",onSubmit:C,children:[N.jsx("h3",{children:L?"Editar categora":"Crear nueva categora"}),N.jsx("input",{type:"text",placeholder:"Nombre",value:I,onChange:P=>V(P.target.value),required:!0}),N.jsx("input",{type:"text",placeholder:"Descripcin",value:z,onChange:P=>H(P.target.value),required:!0}),N.jsx("button",{type:"submit",children:L?"Actualizar categora":"Crear categora"})]}),N.jsx("h3",{children:"Categoras existentes"}),N.jsxs("table",{className:"admin-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Nombre"}),N.jsx("th",{children:"Descripcin"}),N.jsx("th",{children:"Acciones"})]})}),N.jsx("tbody",{children:v.map(P=>N.jsxs("tr",{children:[N.jsx("td",{children:P.nombre}),N.jsx("td",{children:P.descripcion}),N.jsxs("td",{children:[N.jsx("button",{onClick:()=>b(P),children:"Editar"}),N.jsx("button",{onClick:()=>D(P),children:"Eliminar"})]})]},P.id))})]})]})}function G2(){const{user:n,role:e}=Gs(),t=Qi(),[i,o]=B.useState([]),l=async()=>{let y=(await bs(qr(Et,"noticias"))).docs.map(v=>({id:v.id,...v.data()}));e==="reportero"&&(y=y.filter(v=>v.autor===n.email)),o(y)};B.useEffect(()=>{l()},[]);const c=async(p,y)=>{const v=rn(Et,"noticias",p);await wl(v,{estado:y,fechaActualizacion:xc()}),l()},d=p=>{t(`/crear/${p}`)};return N.jsxs("div",{className:"dashboard-noticias-container",children:[N.jsx("h2",{children:"Panel de Noticias"}),e==="reportero"&&N.jsx("button",{className:"dashboard-btn crear-btn",onClick:()=>t("/crear"),children:"Crear nueva noticia"}),N.jsxs("table",{className:"dashboard-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Ttulo"}),N.jsx("th",{children:"Categora"}),N.jsx("th",{children:"Autor"}),N.jsx("th",{children:"Estado"}),N.jsx("th",{children:"Acciones"})]})}),N.jsx("tbody",{children:i.map(p=>N.jsxs("tr",{children:[N.jsx("td",{children:p.titulo}),N.jsx("td",{children:p.categoria}),N.jsx("td",{children:p.autor}),N.jsx("td",{children:p.estado}),N.jsxs("td",{children:[e==="reportero"&&N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:()=>d(p.id),children:"Editar"}),p.estado==="Edicin"&&N.jsx("button",{onClick:()=>c(p.id,"Terminado"),children:"Marcar como Terminado"})]}),e==="editor"&&N.jsxs(N.Fragment,{children:[p.estado!=="Publicado"&&N.jsx("button",{onClick:()=>c(p.id,"Publicado"),children:"Publicar"}),p.estado!=="Desactivado"&&N.jsx("button",{onClick:()=>c(p.id,"Desactivado"),children:"Desactivar"}),N.jsx("button",{onClick:()=>d(p.id),children:"Editar"})]})]})]},p.id))})]})]})}function Q2(){const{user:n}=Gs();return N.jsx(VS,{children:N.jsxs("div",{className:"app-container",children:[N.jsx(H2,{}),N.jsx("main",{className:"main-content",children:N.jsxs(dS,{children:[N.jsx(Br,{path:"/",element:N.jsx(j2,{})}),N.jsx(Br,{path:"/noticias",element:N.jsx(z2,{})}),N.jsx(Br,{path:"/login",element:N.jsx(q2,{})}),N.jsx(Br,{path:"/crear",element:N.jsx(_c,{children:N.jsx(Av,{})})}),N.jsx(Br,{path:"/dashboard",element:N.jsx(_c,{roleRequired:["reportero","editor"],children:N.jsx(G2,{})})}),N.jsx(Br,{path:"/admin",element:N.jsx(_c,{roleRequired:"admin",children:N.jsx(K2,{})})}),N.jsx(Br,{path:"/crear/:id",element:N.jsx(_c,{children:N.jsx(Av,{modo:"editar"})})}),N.jsx(Br,{path:"/noticia/:id",element:N.jsx($2,{})})]})}),N.jsx(W2,{})]})})}T0.createRoot(document.getElementById("root")).render(N.jsx(m0.StrictMode,{children:N.jsx(U2,{children:N.jsx(Q2,{})})}));
